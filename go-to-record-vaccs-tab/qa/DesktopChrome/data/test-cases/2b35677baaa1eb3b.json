{"uid":"2b35677baaa1eb3b","name":"test_vaccination_file_upload_systmone_invalid_data","fullName":"tests.test_import_vaccinations#test_vaccination_file_upload_systmone_invalid_data","historyId":"7c6f222f05efacf658a7d4293db08571","time":{"start":1758797995314,"stop":1758797997990,"duration":2676},"description":"\nTest: Upload a SystmOne vaccination records file with invalid data and\n   verify error handling.\nSteps:\n1. Navigate to vaccination records import page.\n2. Upload a SystmOne file with invalid data.\nVerification:\n- Output lists errors as expected for each record\n","descriptionHtml":"<p>Test: Upload a SystmOne vaccination records file with invalid data and<br />\nverify error handling.<br />\nSteps:</p>\n<ol>\n<li>Navigate to vaccination records import page.</li>\n<li>Upload a SystmOne file with invalid data.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Output lists errors as expected for each record</li>\n</ul>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_artifacts_recorder","time":{"start":1758797986388,"stop":1758797986388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1758797986388,"stop":1758797986388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1758797986388,"stop":1758797986397,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1758797986388,"stop":1758797986388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1758797986397,"stop":1758797986430,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1758797986430,"stop":1758797986430,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1758797986430,"stop":1758797986430,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1758797986431,"stop":1758797989142,"duration":2711},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758797986431,"stop":1758797987661,"duration":1230},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758797986431,"stop":1758797987661,"duration":1230},"status":"passed","steps":[],"attachments":[{"uid":"bccf38626ca3022f","name":"Screenshot","source":"bccf38626ca3022f.png","type":"image/png","size":10189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='gilesleon@example.org', password='gilesleon@example.org', role='nurse') and choose team Team(name='Baker, Gray and Williams est. 1672', workgroup='T902U', careplus_venue_code='T902U', email='garnerdeclan@example.com', phone='(07700) 900 792')","time":{"start":1758797987661,"stop":1758797989142,"duration":1481},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1758797987661,"stop":1758797989142,"duration":1481},"status":"passed","steps":[{"name":"Log in as User(username='gilesleon@example.org', password='gilesleon@example.org', role='nurse')","time":{"start":1758797987662,"stop":1758797988841,"duration":1179},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1758797987662,"stop":1758797988841,"duration":1179},"status":"passed","steps":[],"attachments":[{"uid":"514a9a8feb201e69","name":"Screenshot","source":"514a9a8feb201e69.png","type":"image/png","size":33012}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='gilesleon@example.org', password='gilesleon@example.org', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"4482be10cb7f1c8a","name":"Screenshot","source":"4482be10cb7f1c8a.png","type":"image/png","size":33012}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='gilesleon@example.org', password='gilesleon@example.org', role='nurse'), Team(name='Baker, Gray and Williams est. 1672', workgroup='T902U', careplus_venue_code='T902U', email='garnerdeclan@example.com', phone='(07700) 900 792'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"log_in_page","time":{"start":1758797986431,"stop":1758797986431,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1758797989142,"stop":1758797989142,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1758797989143,"stop":1758797989145,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1758797989145,"stop":1758797989146,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1758797989146,"stop":1758797989146,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"import_records_page","time":{"start":1758797989147,"stop":1758797989147,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_vaccs_systmone","time":{"start":1758797989147,"stop":1758797995314,"duration":6167},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1758797989147,"stop":1758797990598,"duration":1451},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1758797989147,"stop":1758797990598,"duration":1451},"status":"passed","steps":[],"attachments":[{"uid":"d444c33d7f019dda","name":"Screenshot","source":"d444c33d7f019dda.png","type":"image/png","size":137337}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Emmaus School', urn='131743', site=None)","time":{"start":1758797990598,"stop":1758797991933,"duration":1335},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1758797990598,"stop":1758797991933,"duration":1335},"status":"passed","steps":[],"attachments":[{"uid":"7251efad140917","name":"Screenshot","source":"7251efad140917.png","type":"image/png","size":45308}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Emmaus School', urn='131743', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1758797991938,"stop":1758797992555,"duration":617},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1758797991938,"stop":1758797992555,"duration":617},"status":"passed","steps":[],"attachments":[{"uid":"cde930acd186ef6d","name":"Screenshot","source":"cde930acd186ef6d.png","type":"image/png","size":32911}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Import Records","time":{"start":1758797992555,"stop":1758797993399,"duration":844},"status":"passed","steps":[{"name":"Click on Import Records","time":{"start":1758797992555,"stop":1758797993399,"duration":844},"status":"passed","steps":[],"attachments":[{"uid":"3496c755c295ece2","name":"Screenshot","source":"3496c755c295ece2.png","type":"image/png","size":86100}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Import Records","time":{"start":1758797993399,"stop":1758797994243,"duration":844},"status":"passed","steps":[{"name":"Click on Import Records","time":{"start":1758797993399,"stop":1758797994243,"duration":844},"status":"passed","steps":[],"attachments":[{"uid":"4192008396c0602a","name":"Screenshot","source":"4192008396c0602a.png","type":"image/png","size":23457}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Select Vaccination Records","time":{"start":1758797994243,"stop":1758797994467,"duration":224},"status":"passed","steps":[{"name":"Select Vaccination Records","time":{"start":1758797994243,"stop":1758797994467,"duration":224},"status":"passed","steps":[],"attachments":[{"uid":"ca1fe16c3e259724","name":"Screenshot","source":"ca1fe16c3e259724.png","type":"image/png","size":23665}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758797994467,"stop":1758797995314,"duration":847},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758797994467,"stop":1758797995314,"duration":847},"status":"passed","steps":[],"attachments":[{"uid":"818ffbb57c1a2881","name":"Screenshot","source":"818ffbb57c1a2881.png","type":"image/png","size":19981}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":14,"attachmentsCount":7,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\nTest: Upload a SystmOne vaccination records file with invalid data and\n   verify error handling.\nSteps:\n1. Navigate to vaccination records import page.\n2. Upload a SystmOne file with invalid data.\nVerification:\n- Output lists errors as expected for each record\n","status":"passed","steps":[{"name":"Set input file to PosixPath('working/VaccsFileMapping.SYSTMONE_NEGATIVE20250925115955.csv')","time":{"start":1758797995324,"stop":1758797995524,"duration":200},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1758797995324,"stop":1758797995524,"duration":200},"status":"passed","steps":[],"attachments":[{"uid":"d3343d20b3b783e0","name":"Screenshot","source":"d3343d20b3b783e0.png","type":"image/png","size":20405}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/VaccsFileMapping.SYSTMONE_NEGATIVE20250925115955.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758797995524,"stop":1758797996652,"duration":1128},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758797995524,"stop":1758797996652,"duration":1128},"status":"passed","steps":[],"attachments":[{"uid":"4b6b33afe49be008","name":"Screenshot","source":"4b6b33afe49be008.png","type":"image/png","size":91401}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"'EmptyDoB, InvalidDoB, LongerNHSNo, ShorterNHSNo, InvalidVaccsType, InvalidVaccsDose, InvalidVaccsType, EmptyFirstName, EmptyPostcode, InvalidPostcode, EmptySex, InvalidSex, EmptyLastName, EmptyEventDate, InvalidEventDate, FutureEventDate, PastEventDate, InvalidEventTime, FutureEventTime, InvalidSchoolURN, LongBatchNumber'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1758797996662,"stop":1758797997887,"duration":1225},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1758797996662,"stop":1758797997887,"duration":1225},"status":"passed","steps":[],"attachments":[{"uid":"647a3f5cfe99a2d1","name":"Screenshot","source":"647a3f5cfe99a2d1.png","type":"image/png","size":80845}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_vaccs_systmone::0","time":{"start":1758797997990,"stop":1758798000418,"duration":2428},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1758797997990,"stop":1758797998555,"duration":565},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1758797997990,"stop":1758797998555,"duration":565},"status":"passed","steps":[],"attachments":[{"uid":"963d9754a22378f5","name":"Screenshot","source":"963d9754a22378f5.png","type":"image/png","size":33012}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1758797998555,"stop":1758797999097,"duration":542},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1758797998555,"stop":1758797999097,"duration":542},"status":"passed","steps":[],"attachments":[{"uid":"7cf8e1c31d55788e","name":"Screenshot","source":"7cf8e1c31d55788e.png","type":"image/png","size":32911}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1758797999097,"stop":1758797999774,"duration":677},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1758797999097,"stop":1758797999774,"duration":677},"status":"passed","steps":[],"attachments":[{"uid":"31631c2dc2ba34d9","name":"Screenshot","source":"31631c2dc2ba34d9.png","type":"image/png","size":38638}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"log_in_as_nurse::0","time":{"start":1758798000420,"stop":1758798000993,"duration":573},"status":"passed","steps":[{"name":"Log out","time":{"start":1758798000420,"stop":1758798000993,"duration":573},"status":"passed","steps":[{"name":"Log out","time":{"start":1758798000420,"stop":1758798000993,"duration":573},"status":"passed","steps":[],"attachments":[{"uid":"a21320ab08479d70","name":"Screenshot","source":"a21320ab08479d70.png","type":"image/png","size":17819}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1758798000993,"stop":1758798000993,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1758798000994,"stop":1758798001007,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1758798001007,"stop":1758798001007,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"vaccinations"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_import_vaccinations"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"2179-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_import_vaccinations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["vaccinations"]},"source":"2b35677baaa1eb3b.json","parameterValues":[]}