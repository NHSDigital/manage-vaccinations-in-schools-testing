{"uid":"39365781ab4f1970","name":"test_cohort_upload_with_invalid_file","fullName":"tests.test_programmes#test_cohort_upload_with_invalid_file","historyId":"10e32b0b1e5fc1096f9736acb943bf19","time":{"start":1758797797848,"stop":1758797800151,"duration":2303},"description":"\nTest: Upload an invalid cohort (class list) file and verify error handling.\nSteps:\n1. Navigate to cohort import page.\n2. Upload a cohort file with invalid data.\nVerification:\n- Import fails and error is shown.\n","descriptionHtml":"<p>Test: Upload an invalid cohort (class list) file and verify error handling.<br />\nSteps:</p>\n<ol>\n<li>Navigate to cohort import page.</li>\n<li>Upload a cohort file with invalid data.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Import fails and error is shown.</li>\n</ul>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_artifacts_recorder","time":{"start":1758797773884,"stop":1758797773884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1758797773884,"stop":1758797773884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1758797773884,"stop":1758797773897,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1758797773884,"stop":1758797773884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1758797773897,"stop":1758797773937,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1758797773937,"stop":1758797773937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1758797773937,"stop":1758797773937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1758797773937,"stop":1758797773937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1758797773938,"stop":1758797777596,"duration":3658},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758797773938,"stop":1758797775195,"duration":1257},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758797773938,"stop":1758797775195,"duration":1257},"status":"passed","steps":[],"attachments":[{"uid":"18dcf1e6ec98ab4f","name":"Screenshot","source":"18dcf1e6ec98ab4f.png","type":"image/png","size":10189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='paulinecurtis@example.net', password='paulinecurtis@example.net', role='nurse') and choose team Team(name='Potts-Wright est. 1976', workgroup='L280Z', careplus_venue_code='L280Z', email='inewman@example.org', phone='+44(0)7700 900258')","time":{"start":1758797775195,"stop":1758797777596,"duration":2401},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1758797775195,"stop":1758797777596,"duration":2401},"status":"passed","steps":[{"name":"Log in as User(username='paulinecurtis@example.net', password='paulinecurtis@example.net', role='nurse')","time":{"start":1758797775195,"stop":1758797777357,"duration":2162},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1758797775195,"stop":1758797777357,"duration":2162},"status":"passed","steps":[],"attachments":[{"uid":"ec4792bc042011d9","name":"Screenshot","source":"ec4792bc042011d9.png","type":"image/png","size":32888}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='paulinecurtis@example.net', password='paulinecurtis@example.net', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1920253c24121093","name":"Screenshot","source":"1920253c24121093.png","type":"image/png","size":32888}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='paulinecurtis@example.net', password='paulinecurtis@example.net', role='nurse'), Team(name='Potts-Wright est. 1976', workgroup='L280Z', careplus_venue_code='L280Z', email='inewman@example.org', phone='+44(0)7700 900258'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"children","time":{"start":1758797777597,"stop":1758797777599,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1758797777597,"stop":1758797777597,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1758797777600,"stop":1758797777600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_page","time":{"start":1758797777600,"stop":1758797777601,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_cohort_upload","time":{"start":1758797777601,"stop":1758797797847,"duration":20246},"status":"passed","steps":[{"name":"Click on Programmes","time":{"start":1758797777601,"stop":1758797778204,"duration":603},"status":"passed","steps":[{"name":"Click on Programmes","time":{"start":1758797777601,"stop":1758797778204,"duration":603},"status":"passed","steps":[],"attachments":[{"uid":"8471b4c0ce4ef1d3","name":"Screenshot","source":"8471b4c0ce4ef1d3.png","type":"image/png","size":20502}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV'","time":{"start":1758797778204,"stop":1758797787219,"duration":9015},"status":"passed","steps":[{"name":"Click on {1}","time":{"start":1758797778204,"stop":1758797787219,"duration":9015},"status":"passed","steps":[],"attachments":[{"uid":"a9edebf8be594fae","name":"Screenshot","source":"a9edebf8be594fae.png","type":"image/png","size":30645}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.HPV: 'HPV'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Children","time":{"start":1758797787219,"stop":1758797787593,"duration":374},"status":"passed","steps":[{"name":"Click on Children","time":{"start":1758797787219,"stop":1758797787593,"duration":374},"status":"passed","steps":[],"attachments":[{"uid":"7851406863b9194d","name":"Screenshot","source":"7851406863b9194d.png","type":"image/png","size":30687}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Import child records","time":{"start":1758797787594,"stop":1758797797847,"duration":10253},"status":"passed","steps":[{"name":"Click on Import child records","time":{"start":1758797787594,"stop":1758797797847,"duration":10253},"status":"passed","steps":[],"attachments":[{"uid":"80d77080592aa182","name":"Screenshot","source":"80d77080592aa182.png","type":"image/png","size":18462}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"import_records_page","time":{"start":1758797797848,"stop":1758797797848,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: Upload an invalid cohort (class list) file and verify error handling.\nSteps:\n1. Navigate to cohort import page.\n2. Upload a cohort file with invalid data.\nVerification:\n- Import fails and error is shown.\n","status":"passed","steps":[{"name":"Set input file to PosixPath('working/CohortsFileMapping.NEGATIVE20250925115637.csv')","time":{"start":1758797797862,"stop":1758797798096,"duration":234},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1758797797862,"stop":1758797798096,"duration":234},"status":"passed","steps":[],"attachments":[{"uid":"c247bba516e3f014","name":"Screenshot","source":"c247bba516e3f014.png","type":"image/png","size":18921}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/CohortsFileMapping.NEGATIVE20250925115637.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758797798096,"stop":1758797798977,"duration":881},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758797798096,"stop":1758797798977,"duration":881},"status":"passed","steps":[],"attachments":[{"uid":"bbd36a11f2f4f226","name":"Screenshot","source":"bbd36a11f2f4f226.png","type":"image/png","size":26342}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"'EmptyFirstName, EmptyLastName, EmptyCommonName, EmptyDOB, Homeschooled, EmptyURN, InvalidURN, EmptyPostCode, InvalidParent1Email, InvalidParent2Email, EmptyYearGroup, YearGroupOverride, InvalidYearGroup, InvalidYearGroup, InvalidYearGroup, InvalidYearGroup, InvalidFirstName, InvalidLastName, InvalidParent1Name, InvalidParent2Name'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1758797798984,"stop":1758797800059,"duration":1075},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1758797798984,"stop":1758797800059,"duration":1075},"status":"passed","steps":[],"attachments":[{"uid":"6769b82bb561ea9a","name":"Screenshot","source":"6769b82bb561ea9a.png","type":"image/png","size":69376}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"log_in_as_nurse::0","time":{"start":1758797800152,"stop":1758797800831,"duration":679},"status":"passed","steps":[{"name":"Log out","time":{"start":1758797800152,"stop":1758797800831,"duration":679},"status":"passed","steps":[{"name":"Log out","time":{"start":1758797800153,"stop":1758797800831,"duration":678},"status":"passed","steps":[],"attachments":[{"uid":"12c6f825cc6c6923","name":"Screenshot","source":"12c6f825cc6c6923.png","type":"image/png","size":17819}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1758797800832,"stop":1758797800832,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1758797800832,"stop":1758797800843,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1758797800843,"stop":1758797800844,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"cohorts"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_programmes"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"2188-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_programmes"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["cohorts"]},"source":"39365781ab4f1970.json","parameterValues":[]}