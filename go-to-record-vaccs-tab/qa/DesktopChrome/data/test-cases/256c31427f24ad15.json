{"uid":"256c31427f24ad15","name":"test_consent_given_for_doubles_vaccination[yes_to_health_questions: False-change_school: True-programmes: [<Programme.MENACWY: 'MenACWY'>, <Programme.TD_IPV: 'Td/IPV'>]]","fullName":"tests.test_online_consent_doubles#test_consent_given_for_doubles_vaccination","historyId":"7197dfa5142542d842050e9d7485efff","time":{"start":1758797948079,"stop":1758797980810,"duration":32731},"description":"\nTest: Submit an online consent form giving consent for one or both\n   doubles vaccinations and verify confirmation.\nSteps:\n1. Fill in child and parent details on the consent page, optionally changing school.\n2. Agree to one or both doubles vaccinations as specified by parameter.\n3. Fill in address details.\n4. Answer the required number of health questions, optionally marking one as 'yes'.\n5. If not both vaccines, select a reason for not giving consent to the other.\n6. Submit the consent form.\nVerification:\n- Confirmation message is shown for the correct child, vaccines,\n   and health question status.\n","descriptionHtml":"<p>Test: Submit an online consent form giving consent for one or both<br />\ndoubles vaccinations and verify confirmation.<br />\nSteps:</p>\n<ol>\n<li>Fill in child and parent details on the consent page, optionally changing school.</li>\n<li>Agree to one or both doubles vaccinations as specified by parameter.</li>\n<li>Fill in address details.</li>\n<li>Answer the required number of health questions, optionally marking one as 'yes'.</li>\n<li>If not both vaccines, select a reason for not giving consent to the other.</li>\n<li>Submit the consent form.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Confirmation message is shown for the correct child, vaccines,<br />\nand health question status.</li>\n</ul>\n","status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Full name\")","statusTrace":"online_consent_page = <mavis.test.pages.online_consent.OnlineConsentPage object at 0x7f3e357dde50>\nschools = [School(name='South Park Enterprise College (11-19)', urn='135065', site=None), School(name='Ferryhill School', urn='145253', site=None)]\nprogrammes = [<Programme.MENACWY: 'MenACWY'>, <Programme.TD_IPV: 'Td/IPV'>]\nchange_school = True, yes_to_health_questions = False\nchildren = {'HPV': [Child(first_name='Grace', last_name='DONNELLY', nhs_number='9575909011', address=('Studio 98', 'Peter hill', ...ess='gstokes@example.com'), Parent(full_name='Fiona Wilson', relationship='Mum', email_address='nsims@example.net')))]}\n\n    @pytest.mark.parametrize(\n        \"programmes\",\n        [[Programme.MENACWY, Programme.TD_IPV], [Programme.MENACWY], [Programme.TD_IPV]],\n        ids=lambda v: f\"programmes: {v}\",\n    )\n    @pytest.mark.parametrize(\n        \"change_school\",\n        [False, True],\n        ids=lambda v: f\"change_school: {v}\",\n    )\n    @pytest.mark.parametrize(\n        \"yes_to_health_questions\",\n        [False, True],\n        ids=lambda v: f\"yes_to_health_questions: {v}\",\n    )\n    def test_consent_given_for_doubles_vaccination(\n        online_consent_page,\n        schools,\n        programmes,\n        change_school,\n        yes_to_health_questions,\n        children,\n    ):\n        \"\"\"\n        Test: Submit an online consent form giving consent for one or both\n           doubles vaccinations and verify confirmation.\n        Steps:\n        1. Fill in child and parent details on the consent page, optionally changing school.\n        2. Agree to one or both doubles vaccinations as specified by parameter.\n        3. Fill in address details.\n        4. Answer the required number of health questions, optionally marking one as 'yes'.\n        5. If not both vaccines, select a reason for not giving consent to the other.\n        6. Submit the consent form.\n        Verification:\n        - Confirmation message is shown for the correct child, vaccines,\n           and health question status.\n        \"\"\"\n        child = children[\"doubles\"][0]\n        schools = schools[\"doubles\"]\n    \n>       online_consent_page.fill_details(\n            child, child.parents[0], schools, change_school=change_school\n        )\n\ntests/test_online_consent_doubles.py:96: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/online_consent.py:315: in fill_details\n    self.fill_parent_details(parent)\nmavis/test/pages/online_consent.py:183: in fill_parent_details\n    self.fill_parent_name(parent.full_name)\nmavis/test/annotations.py:35: in wrapper\n    return_value = func(self, *args, **kwargs)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nmavis/test/pages/online_consent.py:176: in fill_parent_name\n    self.full_name_textbox.fill(parent_name)\n.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py:15889: in fill\n    self._sync(\n.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:212: in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:590: in fill\n    await self._fill(**locals_to_params(locals()))\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:602: in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7f3e1f52f0e0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7f3e1dcbb560>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"textbox\", name=\"Full name\")\n\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: TimeoutError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"_artifacts_recorder","time":{"start":1758797938088,"stop":1758797938088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1758797938088,"stop":1758797938093,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1758797938088,"stop":1758797938088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1758797938088,"stop":1758797938088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1758797938093,"stop":1758797938120,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1758797938121,"stop":1758797938121,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1758797938121,"stop":1758797938121,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1758797938121,"stop":1758797938121,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1758797938121,"stop":1758797938125,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1758797938121,"stop":1758797938121,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1758797938125,"stop":1758797938126,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1758797938126,"stop":1758797938127,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_online_consent_url","time":{"start":1758797938127,"stop":1758797938127,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"url","time":{"start":1758797938127,"stop":1758797947261,"duration":9134},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758797938127,"stop":1758797939241,"duration":1114},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758797938128,"stop":1758797939241,"duration":1113},"status":"passed","steps":[],"attachments":[{"uid":"e07509ccb50cecfe","name":"Screenshot","source":"e07509ccb50cecfe.png","type":"image/png","size":10189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='deanhannah@example.com', password='deanhannah@example.com', role='nurse') and choose team Team(name='Gilbert Group est. 1879', workgroup='Y755I', careplus_venue_code='Y755I', email='christian90@example.net', phone='+447700 900218')","time":{"start":1758797939242,"stop":1758797940565,"duration":1323},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1758797939242,"stop":1758797940565,"duration":1323},"status":"passed","steps":[{"name":"Log in as User(username='deanhannah@example.com', password='deanhannah@example.com', role='nurse')","time":{"start":1758797939242,"stop":1758797940341,"duration":1099},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1758797939242,"stop":1758797940341,"duration":1099},"status":"passed","steps":[],"attachments":[{"uid":"59a5b149eafa7cbb","name":"Screenshot","source":"59a5b149eafa7cbb.png","type":"image/png","size":32961}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='deanhannah@example.com', password='deanhannah@example.com', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"12f050b8a76676b3","name":"Screenshot","source":"12f050b8a76676b3.png","type":"image/png","size":32961}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='deanhannah@example.com', password='deanhannah@example.com', role='nurse'), Team(name='Gilbert Group est. 1879', workgroup='Y755I', careplus_venue_code='Y755I', email='christian90@example.net', phone='+447700 900218'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1758797940565,"stop":1758797942510,"duration":1945},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1758797940565,"stop":1758797942510,"duration":1945},"status":"passed","steps":[],"attachments":[{"uid":"45e17c633331d8d6","name":"Screenshot","source":"45e17c633331d8d6.png","type":"image/png","size":171535}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on 'doubles' session at School(name='South Park Enterprise College (11-19)', urn='135065', site=None)","time":{"start":1758797942510,"stop":1758797943840,"duration":1330},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1758797942510,"stop":1758797943840,"duration":1330},"status":"passed","steps":[],"attachments":[{"uid":"ebc4a793e1880f4d","name":"Screenshot","source":"ebc4a793e1880f4d.png","type":"image/png","size":49852}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='South Park Enterprise College (11-19)', urn='135065', site=None), 'doubles')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Edit session","time":{"start":1758797943848,"stop":1758797944450,"duration":602},"status":"passed","steps":[{"name":"Click on Edit session","time":{"start":1758797943848,"stop":1758797944450,"duration":602},"status":"passed","steps":[],"attachments":[{"uid":"5fafd30e425db4f5","name":"Screenshot","source":"5fafd30e425db4f5.png","type":"image/png","size":26681}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Change session dates","time":{"start":1758797944450,"stop":1758797944974,"duration":524},"status":"passed","steps":[{"name":"Click on Change session dates","time":{"start":1758797944450,"stop":1758797944974,"duration":524},"status":"passed","steps":[],"attachments":[{"uid":"48fe0306468d691b","name":"Screenshot","source":"48fe0306468d691b.png","type":"image/png","size":19125}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Fill date fields","time":{"start":1758797944974,"stop":1758797945279,"duration":305},"status":"passed","steps":[{"name":"Fill date fields","time":{"start":1758797944974,"stop":1758797945279,"duration":305},"status":"passed","steps":[],"attachments":[{"uid":"719fc2d5354673e7","name":"Screenshot","source":"719fc2d5354673e7.png","type":"image/png","size":19199}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('02', '10', '2025')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Continue","time":{"start":1758797945279,"stop":1758797945991,"duration":712},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1758797945279,"stop":1758797945991,"duration":712},"status":"passed","steps":[],"attachments":[{"uid":"a3526229154f29d1","name":"Screenshot","source":"a3526229154f29d1.png","type":"image/png","size":26681}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758797945997,"stop":1758797946685,"duration":688},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758797945997,"stop":1758797946685,"duration":688},"status":"passed","steps":[],"attachments":[{"uid":"7263f096e75234f2","name":"Screenshot","source":"7263f096e75234f2.png","type":"image/png","size":49852}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Log out","time":{"start":1758797946693,"stop":1758797947261,"duration":568},"status":"passed","steps":[{"name":"Log out","time":{"start":1758797946693,"stop":1758797947261,"duration":568},"status":"passed","steps":[],"attachments":[{"uid":"f1fcf4e050b65687","name":"Screenshot","source":"f1fcf4e050b65687.png","type":"image/png","size":17819}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":22,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},{"name":"start_consent","time":{"start":1758797947261,"stop":1758797948078,"duration":817},"status":"passed","steps":[{"name":"Click on start button","time":{"start":1758797947505,"stop":1758797948078,"duration":573},"status":"passed","steps":[{"name":"Click on start button","time":{"start":1758797947505,"stop":1758797948078,"duration":573},"status":"passed","steps":[],"attachments":[{"uid":"73ed0b8aeea047ab","name":"Screenshot","source":"73ed0b8aeea047ab.png","type":"image/png","size":18439}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"start_page","time":{"start":1758797947261,"stop":1758797947261,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"online_consent_page","time":{"start":1758797948078,"stop":1758797948078,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: Submit an online consent form giving consent for one or both\n   doubles vaccinations and verify confirmation.\nSteps:\n1. Fill in child and parent details on the consent page, optionally changing school.\n2. Agree to one or both doubles vaccinations as specified by parameter.\n3. Fill in address details.\n4. Answer the required number of health questions, optionally marking one as 'yes'.\n5. If not both vaccines, select a reason for not giving consent to the other.\n6. Submit the consent form.\nVerification:\n- Confirmation message is shown for the correct child, vaccines,\n   and health question status.\n","status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Full name\")","statusTrace":"online_consent_page = <mavis.test.pages.online_consent.OnlineConsentPage object at 0x7f3e357dde50>\nschools = [School(name='South Park Enterprise College (11-19)', urn='135065', site=None), School(name='Ferryhill School', urn='145253', site=None)]\nprogrammes = [<Programme.MENACWY: 'MenACWY'>, <Programme.TD_IPV: 'Td/IPV'>]\nchange_school = True, yes_to_health_questions = False\nchildren = {'HPV': [Child(first_name='Grace', last_name='DONNELLY', nhs_number='9575909011', address=('Studio 98', 'Peter hill', ...ess='gstokes@example.com'), Parent(full_name='Fiona Wilson', relationship='Mum', email_address='nsims@example.net')))]}\n\n    @pytest.mark.parametrize(\n        \"programmes\",\n        [[Programme.MENACWY, Programme.TD_IPV], [Programme.MENACWY], [Programme.TD_IPV]],\n        ids=lambda v: f\"programmes: {v}\",\n    )\n    @pytest.mark.parametrize(\n        \"change_school\",\n        [False, True],\n        ids=lambda v: f\"change_school: {v}\",\n    )\n    @pytest.mark.parametrize(\n        \"yes_to_health_questions\",\n        [False, True],\n        ids=lambda v: f\"yes_to_health_questions: {v}\",\n    )\n    def test_consent_given_for_doubles_vaccination(\n        online_consent_page,\n        schools,\n        programmes,\n        change_school,\n        yes_to_health_questions,\n        children,\n    ):\n        \"\"\"\n        Test: Submit an online consent form giving consent for one or both\n           doubles vaccinations and verify confirmation.\n        Steps:\n        1. Fill in child and parent details on the consent page, optionally changing school.\n        2. Agree to one or both doubles vaccinations as specified by parameter.\n        3. Fill in address details.\n        4. Answer the required number of health questions, optionally marking one as 'yes'.\n        5. If not both vaccines, select a reason for not giving consent to the other.\n        6. Submit the consent form.\n        Verification:\n        - Confirmation message is shown for the correct child, vaccines,\n           and health question status.\n        \"\"\"\n        child = children[\"doubles\"][0]\n        schools = schools[\"doubles\"]\n    \n>       online_consent_page.fill_details(\n            child, child.parents[0], schools, change_school=change_school\n        )\n\ntests/test_online_consent_doubles.py:96: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/online_consent.py:315: in fill_details\n    self.fill_parent_details(parent)\nmavis/test/pages/online_consent.py:183: in fill_parent_details\n    self.fill_parent_name(parent.full_name)\nmavis/test/annotations.py:35: in wrapper\n    return_value = func(self, *args, **kwargs)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nmavis/test/pages/online_consent.py:176: in fill_parent_name\n    self.full_name_textbox.fill(parent_name)\n.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py:15889: in fill\n    self._sync(\n.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py:212: in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:590: in fill\n    await self._fill(**locals_to_params(locals()))\n.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py:602: in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7f3e1f52f0e0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7f3e1dcbb560>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"textbox\", name=\"Full name\")\n\n.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py:558: TimeoutError","steps":[{"name":"Fill child name details","time":{"start":1758797948079,"stop":1758797948753,"duration":674},"status":"passed","steps":[{"name":"Fill child name details","time":{"start":1758797948079,"stop":1758797948753,"duration":674},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758797948136,"stop":1758797948588,"duration":452},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758797948136,"stop":1758797948588,"duration":452},"status":"passed","steps":[],"attachments":[{"uid":"13787bcf7a162c26","name":"Screenshot","source":"13787bcf7a162c26.png","type":"image/png","size":12160}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"577e2ea0c28d62cc","name":"Screenshot","source":"577e2ea0c28d62cc.png","type":"image/png","size":12160}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Damien', 'SMITH')"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Fill child date of birth","time":{"start":1758797948753,"stop":1758797949432,"duration":679},"status":"passed","steps":[{"name":"Fill child date of birth","time":{"start":1758797948753,"stop":1758797949432,"duration":679},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758797948788,"stop":1758797949252,"duration":464},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758797948789,"stop":1758797949252,"duration":463},"status":"passed","steps":[],"attachments":[{"uid":"5866d0c74e6f751b","name":"Screenshot","source":"5866d0c74e6f751b.png","type":"image/png","size":18025}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"aa864541bc2bf347","name":"Screenshot","source":"aa864541bc2bf347.png","type":"image/png","size":18025}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(datetime.date(2012, 4, 27),)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Select child school","time":{"start":1758797949432,"stop":1758797950662,"duration":1230},"status":"passed","steps":[{"name":"Select child school","time":{"start":1758797949432,"stop":1758797950662,"duration":1230},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758797949470,"stop":1758797949930,"duration":460},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758797949470,"stop":1758797949930,"duration":460},"status":"passed","steps":[],"attachments":[{"uid":"1d6748c86d7191db","name":"Screenshot","source":"1d6748c86d7191db.png","type":"image/png","size":15869}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758797949985,"stop":1758797950546,"duration":561},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758797949986,"stop":1758797950546,"duration":560},"status":"passed","steps":[],"attachments":[{"uid":"163c90a3de003886","name":"Screenshot","source":"163c90a3de003886.png","type":"image/png","size":14714}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e919e6b3263e0b8d","name":"Screenshot","source":"e919e6b3263e0b8d.png","type":"image/png","size":14714}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Ferryhill School', urn='145253', site=None),)"}],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Fill parent name","time":{"start":1758797950662,"stop":1758797980809,"duration":30147},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Full name\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/online_consent.py\", line 176, in fill_parent_name\n    self.full_name_textbox.fill(parent_name)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Fill parent name","time":{"start":1758797950662,"stop":1758797980808,"duration":30146},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Full name\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/online_consent.py\", line 176, in fill_parent_name\n    self.full_name_textbox.fill(parent_name)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[],"attachments":[{"uid":"67482147455a8166","name":"Screenshot on failure","source":"67482147455a8166.png","type":"image/png","size":14714}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Roger Wright',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":16,"attachmentsCount":8,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"url::0","time":{"start":1758797980980,"stop":1758797985670,"duration":4690},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758797980980,"stop":1758797981298,"duration":318},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758797980980,"stop":1758797981297,"duration":317},"status":"passed","steps":[],"attachments":[{"uid":"3bb20b10fd8faa72","name":"Screenshot","source":"3bb20b10fd8faa72.png","type":"image/png","size":10192}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='deanhannah@example.com', password='deanhannah@example.com', role='nurse') and choose team Team(name='Gilbert Group est. 1879', workgroup='Y755I', careplus_venue_code='Y755I', email='christian90@example.net', phone='+447700 900218')","time":{"start":1758797981298,"stop":1758797982772,"duration":1474},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1758797981298,"stop":1758797982772,"duration":1474},"status":"passed","steps":[{"name":"Log in as User(username='deanhannah@example.com', password='deanhannah@example.com', role='nurse')","time":{"start":1758797981298,"stop":1758797982565,"duration":1267},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1758797981298,"stop":1758797982565,"duration":1267},"status":"passed","steps":[],"attachments":[{"uid":"e5309704dac63b19","name":"Screenshot","source":"e5309704dac63b19.png","type":"image/png","size":32961}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='deanhannah@example.com', password='deanhannah@example.com', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"65bb6b6f440651e1","name":"Screenshot","source":"65bb6b6f440651e1.png","type":"image/png","size":32961}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='deanhannah@example.com', password='deanhannah@example.com', role='nurse'), Team(name='Gilbert Group est. 1879', workgroup='Y755I', careplus_venue_code='Y755I', email='christian90@example.net', phone='+447700 900218'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1758797982773,"stop":1758797984512,"duration":1739},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1758797982773,"stop":1758797984512,"duration":1739},"status":"passed","steps":[],"attachments":[{"uid":"d9f890ca4c627c20","name":"Screenshot","source":"d9f890ca4c627c20.png","type":"image/png","size":171535}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Log out","time":{"start":1758797985108,"stop":1758797985670,"duration":562},"status":"passed","steps":[{"name":"Log out","time":{"start":1758797985108,"stop":1758797985670,"duration":562},"status":"passed","steps":[],"attachments":[{"uid":"c7ec209272f00153","name":"Screenshot","source":"c7ec209272f00153.png","type":"image/png","size":17819}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"new_context::0","time":{"start":1758797985672,"stop":1758797985682,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1758797985672,"stop":1758797985672,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1758797985682,"stop":1758797985682,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"consent"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_online_consent_doubles"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"2182-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_online_consent_doubles"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"change_school","value":"True"},{"name":"programmes","value":"[<Programme.MENACWY: 'MenACWY'>, <Programme.TD_IPV: 'Td/IPV'>]"},{"name":"yes_to_health_questions","value":"False"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"80a3385e308e1bb0","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Full name\")","time":{"start":1758797900178,"stop":1758797933277,"duration":33099}},{"uid":"79a6c1d3aa8a4954","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Full name\")","time":{"start":1758797851981,"stop":1758797884918,"duration":32937}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"tags":["consent"]},"source":"256c31427f24ad15.json","parameterValues":["True","[<Programme.MENACWY: 'MenACWY'>, <Programme.TD_IPV: 'Td/IPV'>]","False"]}