{"uid":"51f3609a8f040ef2","name":"test_vaccination_file_upload_systmone_historic_invalid_data","fullName":"tests.test_import_vaccinations#test_vaccination_file_upload_systmone_historic_invalid_data","historyId":"9c134d2635a74e9c00214e6cce56058c","time":{"start":1758798009420,"stop":1758798011933,"duration":2513},"description":"\nTest: Upload a SystmOne historic vaccination records file with invalid data and\n   verify error handling.\nSteps:\n1. Navigate to vaccination records import page.\n2. Upload a SystmOne historic file with invalid data.\nVerification:\n- Output lists errors as expected for each record\n","descriptionHtml":"<p>Test: Upload a SystmOne historic vaccination records file with invalid data and<br />\nverify error handling.<br />\nSteps:</p>\n<ol>\n<li>Navigate to vaccination records import page.</li>\n<li>Upload a SystmOne historic file with invalid data.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Output lists errors as expected for each record</li>\n</ul>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"output_path","time":{"start":1758798001009,"stop":1758798001010,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1758798001010,"stop":1758798001010,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1758798001010,"stop":1758798001016,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1758798001010,"stop":1758798001010,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1758798001016,"stop":1758798001049,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1758798001049,"stop":1758798001049,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1758798001049,"stop":1758798001049,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1758798001049,"stop":1758798001050,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1758798001050,"stop":1758798003686,"duration":2636},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758798001050,"stop":1758798002312,"duration":1262},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758798001050,"stop":1758798002312,"duration":1262},"status":"passed","steps":[],"attachments":[{"uid":"d91b655ba4ba8f","name":"Screenshot","source":"d91b655ba4ba8f.png","type":"image/png","size":10189}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='gilesleon@example.org', password='gilesleon@example.org', role='nurse') and choose team Team(name='Baker, Gray and Williams est. 1672', workgroup='T902U', careplus_venue_code='T902U', email='garnerdeclan@example.com', phone='(07700) 900 792')","time":{"start":1758798002312,"stop":1758798003686,"duration":1374},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1758798002312,"stop":1758798003686,"duration":1374},"status":"passed","steps":[{"name":"Log in as User(username='gilesleon@example.org', password='gilesleon@example.org', role='nurse')","time":{"start":1758798002312,"stop":1758798003452,"duration":1140},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1758798002312,"stop":1758798003452,"duration":1140},"status":"passed","steps":[],"attachments":[{"uid":"bb8d37ad2c4d42c","name":"Screenshot","source":"bb8d37ad2c4d42c.png","type":"image/png","size":33012}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='gilesleon@example.org', password='gilesleon@example.org', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5d5d5f84a20f8a6c","name":"Screenshot","source":"5d5d5f84a20f8a6c.png","type":"image/png","size":33012}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='gilesleon@example.org', password='gilesleon@example.org', role='nurse'), Team(name='Baker, Gray and Williams est. 1672', workgroup='T902U', careplus_venue_code='T902U', email='garnerdeclan@example.com', phone='(07700) 900 792'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1758798003686,"stop":1758798003686,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1758798003686,"stop":1758798003689,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1758798003689,"stop":1758798003690,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1758798003690,"stop":1758798003690,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_vaccs_systmone","time":{"start":1758798003690,"stop":1758798009419,"duration":5729},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1758798003690,"stop":1758798005079,"duration":1389},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1758798003690,"stop":1758798005079,"duration":1389},"status":"passed","steps":[],"attachments":[{"uid":"522ffb5403ea54a6","name":"Screenshot","source":"522ffb5403ea54a6.png","type":"image/png","size":137337}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Emmaus School', urn='131743', site=None)","time":{"start":1758798005080,"stop":1758798006308,"duration":1228},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1758798005080,"stop":1758798006308,"duration":1228},"status":"passed","steps":[],"attachments":[{"uid":"6fd4ff898548dc68","name":"Screenshot","source":"6fd4ff898548dc68.png","type":"image/png","size":45308}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Emmaus School', urn='131743', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1758798006313,"stop":1758798006851,"duration":538},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1758798006313,"stop":1758798006851,"duration":538},"status":"passed","steps":[],"attachments":[{"uid":"2ed6c096f057ba53","name":"Screenshot","source":"2ed6c096f057ba53.png","type":"image/png","size":32911}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Import Records","time":{"start":1758798006851,"stop":1758798007728,"duration":877},"status":"passed","steps":[{"name":"Click on Import Records","time":{"start":1758798006851,"stop":1758798007728,"duration":877},"status":"passed","steps":[],"attachments":[{"uid":"b4c071667a6ef206","name":"Screenshot","source":"b4c071667a6ef206.png","type":"image/png","size":89819}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Import Records","time":{"start":1758798007728,"stop":1758798008457,"duration":729},"status":"passed","steps":[{"name":"Click on Import Records","time":{"start":1758798007728,"stop":1758798008457,"duration":729},"status":"passed","steps":[],"attachments":[{"uid":"4d532c6ac1aebce2","name":"Screenshot","source":"4d532c6ac1aebce2.png","type":"image/png","size":23457}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Select Vaccination Records","time":{"start":1758798008457,"stop":1758798008658,"duration":201},"status":"passed","steps":[{"name":"Select Vaccination Records","time":{"start":1758798008457,"stop":1758798008658,"duration":201},"status":"passed","steps":[],"attachments":[{"uid":"b30f8a4eba5dec88","name":"Screenshot","source":"b30f8a4eba5dec88.png","type":"image/png","size":23665}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758798008658,"stop":1758798009419,"duration":761},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758798008658,"stop":1758798009419,"duration":761},"status":"passed","steps":[],"attachments":[{"uid":"7e8e9b9dab07089d","name":"Screenshot","source":"7e8e9b9dab07089d.png","type":"image/png","size":19981}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":14,"attachmentsCount":7,"hasContent":true,"attachmentStep":false},{"name":"import_records_page","time":{"start":1758798003690,"stop":1758798003690,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: Upload a SystmOne historic vaccination records file with invalid data and\n   verify error handling.\nSteps:\n1. Navigate to vaccination records import page.\n2. Upload a SystmOne historic file with invalid data.\nVerification:\n- Output lists errors as expected for each record\n","status":"passed","steps":[{"name":"Set input file to PosixPath('working/VaccsFileMapping.SYSTMONE_HIST_NEGATIVE20250925120009.csv')","time":{"start":1758798009431,"stop":1758798009625,"duration":194},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1758798009431,"stop":1758798009625,"duration":194},"status":"passed","steps":[],"attachments":[{"uid":"579de75bcde2da05","name":"Screenshot","source":"579de75bcde2da05.png","type":"image/png","size":20401}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/VaccsFileMapping.SYSTMONE_HIST_NEGATIVE20250925120009.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758798009625,"stop":1758798010725,"duration":1100},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758798009625,"stop":1758798010725,"duration":1100},"status":"passed","steps":[],"attachments":[{"uid":"26cafc789350fb2a","name":"Screenshot","source":"26cafc789350fb2a.png","type":"image/png","size":94988}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"'EmptyDoB, InvalidDoB, LongerNHSNo, ShorterNHSNo, InvalidVaccsType, InvalidVaccsDose, InvalidVaccsType, EmptyFirstName, EmptyPostcode, InvalidPostcode, EmptySex, InvalidSex, EmptyLastName, EmptyEventDate, InvalidEventDate, FutureEventDate, PastEventDate, InvalidEventTime, InvalidSchoolURN'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1758798010734,"stop":1758798011775,"duration":1041},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1758798010734,"stop":1758798011775,"duration":1041},"status":"passed","steps":[],"attachments":[{"uid":"93885962f130a795","name":"Screenshot","source":"93885962f130a795.png","type":"image/png","size":72827}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_vaccs_systmone::0","time":{"start":1758798011933,"stop":1758798014258,"duration":2325},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1758798011933,"stop":1758798012498,"duration":565},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1758798011933,"stop":1758798012498,"duration":565},"status":"passed","steps":[],"attachments":[{"uid":"334913d492f35a6f","name":"Screenshot","source":"334913d492f35a6f.png","type":"image/png","size":33012}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1758798012498,"stop":1758798013028,"duration":530},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1758798012498,"stop":1758798013027,"duration":529},"status":"passed","steps":[],"attachments":[{"uid":"2fb1915040330ae","name":"Screenshot","source":"2fb1915040330ae.png","type":"image/png","size":32911}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1758798013028,"stop":1758798013740,"duration":712},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1758798013028,"stop":1758798013740,"duration":712},"status":"passed","steps":[],"attachments":[{"uid":"204bd9d7d16d0236","name":"Screenshot","source":"204bd9d7d16d0236.png","type":"image/png","size":38638}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"log_in_as_nurse::0","time":{"start":1758798014259,"stop":1758798014875,"duration":616},"status":"passed","steps":[{"name":"Log out","time":{"start":1758798014260,"stop":1758798014875,"duration":615},"status":"passed","steps":[{"name":"Log out","time":{"start":1758798014260,"stop":1758798014875,"duration":615},"status":"passed","steps":[],"attachments":[{"uid":"cf4e89d7a8248fca","name":"Screenshot","source":"cf4e89d7a8248fca.png","type":"image/png","size":17819}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1758798014876,"stop":1758798014876,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1758798014877,"stop":1758798014888,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1758798014888,"stop":1758798014888,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"vaccinations"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_import_vaccinations"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"2179-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_import_vaccinations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["vaccinations"]},"source":"51f3609a8f040ef2.json","parameterValues":[]}