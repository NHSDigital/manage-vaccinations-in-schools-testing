{"uid":"f30c3a63b7aea4e5","name":"test_recording_hpv_vaccination_e2e","fullName":"tests.test_e2e#test_recording_hpv_vaccination_e2e","historyId":"46033a22bbccd539ed622add716720c2","time":{"start":1761226785082,"stop":1761226841548,"duration":56466},"description":"\nTest: End-to-end test for recording an HPV vaccination for a child.\nSteps:\n1. Setup: Log in as nurse, create session, import class list, and get batch name.\n2. Go to online consent URL and fill in child and parent details.\n3. Agree to HPV vaccination, fill address, answer health questions, and confirm.\n4. Log in as nurse, navigate to session, set session in progress,\n   register child as attending.\n5. Record HPV vaccination for the child.\nVerification:\n- Final consent message is shown after online consent.\n- Vaccination is recorded for the child in the session.\n","descriptionHtml":"<p>Test: End-to-end test for recording an HPV vaccination for a child.<br />\nSteps:</p>\n<ol>\n<li>Setup: Log in as nurse, create session, import class list, and get batch name.</li>\n<li>Go to online consent URL and fill in child and parent details.</li>\n<li>Agree to HPV vaccination, fill address, answer health questions, and confirm.</li>\n<li>Log in as nurse, navigate to session, set session in progress,<br />\nregister child as attending.</li>\n<li>Record HPV vaccination for the child.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Final consent message is shown after online consent.</li>\n<li>Vaccination is recorded for the child in the session.</li>\n</ul>\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"link\", name=\"SMART, Dorothy\")","statusTrace":"hpv_consent_url = '/consents/sqypk2iOGR/hpv/start'\nsetup_session_for_hpv = ['Gardasil9123']\nonline_consent_page = <mavis.test.pages.online_consent.OnlineConsentPage object at 0x7f5fdab163c0>\nsessions_page = <mavis.test.pages.sessions.SessionsPage object at 0x7f5fdab15e80>\nstart_page = <mavis.test.pages.start.StartPage object at 0x7f5fd9a9d980>\nschools = [School(name='Turton School', urn='105253', site=None), School(name=\"Our Lady's Catholic College\", urn='119798', site=None)]\nchildren = {'HPV': [Child(first_name='Dorothy', last_name='SMART', nhs_number='9267803190', address=('Flat 97', 'Bryan lodge', 'A...s='keith90@example.com'), Parent(full_name='Kate Davies', relationship='Mum', email_address='gareth08@example.org')))]}\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7f5fd9ffa360>\nlog_in_page = <mavis.test.pages.log_in.LogInPage object at 0x7f5fd9b6c4b0>\nnurse = User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse')\nteam = Team(name='Jones, Hall and Stephens est. 1811', workgroup='L565V', careplus_venue_code='L565V', email='vwalker@example.net', phone='(07700) 900 080')\nchildren_page = <mavis.test.pages.children.ChildrenPage object at 0x7f5fd9a14510>\n\n    def test_recording_hpv_vaccination_e2e(\n        hpv_consent_url,\n        setup_session_for_hpv,\n        online_consent_page,\n        sessions_page,\n        start_page,\n        schools,\n        children,\n        dashboard_page,\n        log_in_page,\n        nurse,\n        team,\n        children_page,\n    ):\n        \"\"\"\n        Test: End-to-end test for recording an HPV vaccination for a child.\n        Steps:\n        1. Setup: Log in as nurse, create session, import class list, and get batch name.\n        2. Go to online consent URL and fill in child and parent details.\n        3. Agree to HPV vaccination, fill address, answer health questions, and confirm.\n        4. Log in as nurse, navigate to session, set session in progress,\n           register child as attending.\n        5. Record HPV vaccination for the child.\n        Verification:\n        - Final consent message is shown after online consent.\n        - Vaccination is recorded for the child in the session.\n        \"\"\"\n        child = children[Programme.HPV][0]\n        schools = schools[Programme.HPV]\n        gardasil_9_batch_name = setup_session_for_hpv[0]\n        number_of_health_questions = len(Programme.health_questions(Programme.HPV))\n    \n        online_consent_page.go_to_url(hpv_consent_url)\n        start_page.start()\n    \n        online_consent_page.fill_details(child, child.parents[0], schools)\n        online_consent_page.agree_to_hpv_vaccination()\n        online_consent_page.fill_address_details(*child.address)\n        online_consent_page.answer_health_questions(\n            number_of_health_questions,\n            yes_to_health_questions=False,\n        )\n        online_consent_page.click_confirm()\n        online_consent_page.check_final_consent_message(\n            child,\n            programmes=[Programme.HPV],\n            yes_to_health_questions=False,\n        )\n    \n        log_in_page.navigate()\n        log_in_page.log_in_and_choose_team_if_necessary(nurse, team)\n        dashboard_page.click_sessions()\n    \n        sessions_page.click_session_for_programme_group(schools[0], Programme.HPV)\n        sessions_page.click_set_session_in_progress_for_today()\n        sessions_page.register_child_as_attending(str(child))\n>       sessions_page.record_vaccination_for_child(\n            VaccinationRecord(child, Programme.HPV, gardasil_9_batch_name)\n        )\n\ntests/test_e2e.py:119: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/sessions.py:901: in record_vaccination_for_child\n    self.search_child(vaccination_record.child)\nmavis/test/pages/sessions.py:889: in search_child\n    reload_until_element_is_visible(self.page, child_locator)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://qa.mavistesting.com/sessions/sqypk2iOGR/record?q=SMART%2C+Dorothy&%5Bshow_only%5D%5B%5D=&%5Byear_groups%5D%5B%5D=&date_of_birth_day=&date_of_birth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0'>\ntag = <Locator frame=<Frame name= url='https://qa.mavistesting.com/sessions/sqypk2iOGR/record?q=SMART%2C+Dorothy&%5Bshow_onl...rth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0'> selector='internal:role=link[name=\"SMART, Dorothy\"i]'>\nseconds = 30\n\n    def reload_until_element_is_visible(\n        page: Page, tag: Locator, seconds: int = DEFAULT_TIMEOUT_SECONDS\n    ) -> None:\n        for _ in range(seconds * 2):\n            if tag.is_visible():\n                break\n    \n            time.sleep(0.5)\n    \n            page.reload()\n        else:\n>           expect(tag).to_be_visible()\nE           AssertionError: Locator expected to be visible\nE           Actual value: <element(s) not found> \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for get_by_role(\"link\", name=\"SMART, Dorothy\")\n\nmavis/test/utils.py:171: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1761226058826,"stop":1761226058826,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1761226058826,"stop":1761226058826,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1761226058826,"stop":1761226058828,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761226058828,"stop":1761226058828,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1761226058828,"stop":1761226058828,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1761226058828,"stop":1761226058828,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761226058828,"stop":1761226058828,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1761226058828,"stop":1761226086123,"duration":27295},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1761226086123,"stop":1761226086123,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1761226086124,"stop":1761226086124,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1761226086124,"stop":1761226086124,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1761226086124,"stop":1761226086124,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1761226086124,"stop":1761226086441,"duration":317},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1761226086124,"stop":1761226086124,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1761226086441,"stop":1761226086442,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1761226086441,"stop":1761226086441,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1761226086442,"stop":1761226086442,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1761226086442,"stop":1761226086442,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1761226086442,"stop":1761226086566,"duration":124},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1761226086567,"stop":1761226086567,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761226086567,"stop":1761226086568,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1761226086568,"stop":1761226086568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1761226086568,"stop":1761226086568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761226086568,"stop":1761226086568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1761226086568,"stop":1761226086568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1761226086568,"stop":1761226086568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1761226535013,"stop":1761226536432,"duration":1419},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1761226769504,"stop":1761226769504,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1761226769504,"stop":1761226769504,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1761226769504,"stop":1761226769504,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1761226769505,"stop":1761226769510,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1761226769510,"stop":1761226769534,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1761226769534,"stop":1761226769534,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1761226769534,"stop":1761226769534,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1761226769534,"stop":1761226769538,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1761226769534,"stop":1761226769534,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1761226769534,"stop":1761226769534,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1761226769538,"stop":1761226769539,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1761226769539,"stop":1761226769539,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"hpv_consent_url","time":{"start":1761226769539,"stop":1761226774912,"duration":5373},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761226769540,"stop":1761226770698,"duration":1158},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761226769540,"stop":1761226770698,"duration":1158},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse') and choose team Team(name='Jones, Hall and Stephens est. 1811', workgroup='L565V', careplus_venue_code='L565V', email='vwalker@example.net', phone='(07700) 900 080')","time":{"start":1761226770698,"stop":1761226771353,"duration":655},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1761226770698,"stop":1761226771353,"duration":655},"status":"passed","steps":[{"name":"Log in as User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse')","time":{"start":1761226770698,"stop":1761226771327,"duration":629},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1761226770698,"stop":1761226771327,"duration":629},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse'), Team(name='Jones, Hall and Stephens est. 1811', workgroup='L565V', careplus_venue_code='L565V', email='vwalker@example.net', phone='(07700) 900 080'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761226771354,"stop":1761226771570,"duration":216},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761226771354,"stop":1761226771570,"duration":216},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Turton School', urn='105253', site=None)","time":{"start":1761226771570,"stop":1761226772121,"duration":551},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761226771570,"stop":1761226772121,"duration":551},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Turton School', urn='105253', site=None), 'HPV')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to Edit session page","time":{"start":1761226772121,"stop":1761226773410,"duration":1289},"status":"passed","steps":[{"name":"Go to Edit session page","time":{"start":1761226772121,"stop":1761226773410,"duration":1289},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to Change session dates page","time":{"start":1761226773410,"stop":1761226773625,"duration":215},"status":"passed","steps":[{"name":"Go to Change session dates page","time":{"start":1761226773410,"stop":1761226773625,"duration":215},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Continue","time":{"start":1761226773654,"stop":1761226773948,"duration":294},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1761226773654,"stop":1761226773948,"duration":294},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Save changes","time":{"start":1761226773971,"stop":1761226774503,"duration":532},"status":"passed","steps":[{"name":"Click Save changes","time":{"start":1761226773971,"stop":1761226774503,"duration":532},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log out","time":{"start":1761226774525,"stop":1761226774912,"duration":387},"status":"passed","steps":[{"name":"Log out","time":{"start":1761226774525,"stop":1761226774912,"duration":387},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":20,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"schedule_session_and_get_consent_url","time":{"start":1761226769539,"stop":1761226769539,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_session_for_hpv","time":{"start":1761226774913,"stop":1761226785080,"duration":10167},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761226774913,"stop":1761226775017,"duration":104},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761226774913,"stop":1761226775017,"duration":104},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse') and choose team Team(name='Jones, Hall and Stephens est. 1811', workgroup='L565V', careplus_venue_code='L565V', email='vwalker@example.net', phone='(07700) 900 080')","time":{"start":1761226775017,"stop":1761226775708,"duration":691},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1761226775017,"stop":1761226775708,"duration":691},"status":"passed","steps":[{"name":"Log in as User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse')","time":{"start":1761226775017,"stop":1761226775689,"duration":672},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1761226775017,"stop":1761226775689,"duration":672},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse'), Team(name='Jones, Hall and Stephens est. 1811', workgroup='L565V', careplus_venue_code='L565V', email='vwalker@example.net', phone='(07700) 900 080'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to vaccines page","time":{"start":1761226775708,"stop":1761226775880,"duration":172},"status":"passed","steps":[{"name":"Go to vaccines page","time":{"start":1761226775708,"stop":1761226775880,"duration":172},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Add batch for 'Gardasil 9'","time":{"start":1761226775880,"stop":1761226776070,"duration":190},"status":"passed","steps":[{"name":"Add batch for {1}","time":{"start":1761226775880,"stop":1761226776070,"duration":190},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Vaccine.GARDASIL_9: 'Gardasil 9'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in name with 'Gardasil9123'","time":{"start":1761226776070,"stop":1761226776089,"duration":19},"status":"passed","steps":[{"name":"Fill in name with {1}","time":{"start":1761226776070,"stop":1761226776089,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Gardasil9123',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in expiry date with datetime.date(2025, 10, 24)","time":{"start":1761226776089,"stop":1761226776112,"duration":23},"status":"passed","steps":[{"name":"Fill in expiry date with {1}","time":{"start":1761226776089,"stop":1761226776112,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(datetime.date(2025, 10, 24),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Confirm add batch","time":{"start":1761226776112,"stop":1761226776283,"duration":171},"status":"passed","steps":[{"name":"Confirm add batch","time":{"start":1761226776112,"stop":1761226776283,"duration":171},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761226776283,"stop":1761226776463,"duration":180},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761226776283,"stop":1761226776463,"duration":180},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761226776463,"stop":1761226776718,"duration":255},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761226776463,"stop":1761226776718,"duration":255},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Turton School', urn='105253', site=None)","time":{"start":1761226776718,"stop":1761226777307,"duration":589},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761226776718,"stop":1761226777307,"duration":589},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Turton School', urn='105253', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import class lists","time":{"start":1761226777307,"stop":1761226777618,"duration":311},"status":"passed","steps":[{"name":"Click on Import class lists","time":{"start":1761226777307,"stop":1761226777618,"duration":311},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761226777662,"stop":1761226778108,"duration":446},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226777662,"stop":1761226778108,"duration":446},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.FIXED_CHILD20251023143938.csv')","time":{"start":1761226778120,"stop":1761226778138,"duration":18},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1761226778120,"stop":1761226778138,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.FIXED_CHILD20251023143938.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761226779138,"stop":1761226779464,"duration":326},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226779138,"stop":1761226779463,"duration":325},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1761226779503,"stop":1761226779676,"duration":173},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1761226779503,"stop":1761226779675,"duration":172},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to dashboard","time":{"start":1761226784522,"stop":1761226784659,"duration":137},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761226784522,"stop":1761226784659,"duration":137},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log out","time":{"start":1761226784659,"stop":1761226785080,"duration":421},"status":"passed","steps":[{"name":"Log out","time":{"start":1761226784659,"stop":1761226785080,"duration":421},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":36,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"import_records_page","time":{"start":1761226774913,"stop":1761226774913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"vaccines_page","time":{"start":1761226774913,"stop":1761226774913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_session_with_file_upload","time":{"start":1761226774913,"stop":1761226774913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_batch_page","time":{"start":1761226774913,"stop":1761226774913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_vaccine_batch","time":{"start":1761226774913,"stop":1761226774913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"start_page","time":{"start":1761226785081,"stop":1761226785081,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children_page","time":{"start":1761226785081,"stop":1761226785081,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"online_consent_page","time":{"start":1761226785081,"stop":1761226785081,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: End-to-end test for recording an HPV vaccination for a child.\nSteps:\n1. Setup: Log in as nurse, create session, import class list, and get batch name.\n2. Go to online consent URL and fill in child and parent details.\n3. Agree to HPV vaccination, fill address, answer health questions, and confirm.\n4. Log in as nurse, navigate to session, set session in progress,\n   register child as attending.\n5. Record HPV vaccination for the child.\nVerification:\n- Final consent message is shown after online consent.\n- Vaccination is recorded for the child in the session.\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"link\", name=\"SMART, Dorothy\")","statusTrace":"hpv_consent_url = '/consents/sqypk2iOGR/hpv/start'\nsetup_session_for_hpv = ['Gardasil9123']\nonline_consent_page = <mavis.test.pages.online_consent.OnlineConsentPage object at 0x7f5fdab163c0>\nsessions_page = <mavis.test.pages.sessions.SessionsPage object at 0x7f5fdab15e80>\nstart_page = <mavis.test.pages.start.StartPage object at 0x7f5fd9a9d980>\nschools = [School(name='Turton School', urn='105253', site=None), School(name=\"Our Lady's Catholic College\", urn='119798', site=None)]\nchildren = {'HPV': [Child(first_name='Dorothy', last_name='SMART', nhs_number='9267803190', address=('Flat 97', 'Bryan lodge', 'A...s='keith90@example.com'), Parent(full_name='Kate Davies', relationship='Mum', email_address='gareth08@example.org')))]}\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7f5fd9ffa360>\nlog_in_page = <mavis.test.pages.log_in.LogInPage object at 0x7f5fd9b6c4b0>\nnurse = User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse')\nteam = Team(name='Jones, Hall and Stephens est. 1811', workgroup='L565V', careplus_venue_code='L565V', email='vwalker@example.net', phone='(07700) 900 080')\nchildren_page = <mavis.test.pages.children.ChildrenPage object at 0x7f5fd9a14510>\n\n    def test_recording_hpv_vaccination_e2e(\n        hpv_consent_url,\n        setup_session_for_hpv,\n        online_consent_page,\n        sessions_page,\n        start_page,\n        schools,\n        children,\n        dashboard_page,\n        log_in_page,\n        nurse,\n        team,\n        children_page,\n    ):\n        \"\"\"\n        Test: End-to-end test for recording an HPV vaccination for a child.\n        Steps:\n        1. Setup: Log in as nurse, create session, import class list, and get batch name.\n        2. Go to online consent URL and fill in child and parent details.\n        3. Agree to HPV vaccination, fill address, answer health questions, and confirm.\n        4. Log in as nurse, navigate to session, set session in progress,\n           register child as attending.\n        5. Record HPV vaccination for the child.\n        Verification:\n        - Final consent message is shown after online consent.\n        - Vaccination is recorded for the child in the session.\n        \"\"\"\n        child = children[Programme.HPV][0]\n        schools = schools[Programme.HPV]\n        gardasil_9_batch_name = setup_session_for_hpv[0]\n        number_of_health_questions = len(Programme.health_questions(Programme.HPV))\n    \n        online_consent_page.go_to_url(hpv_consent_url)\n        start_page.start()\n    \n        online_consent_page.fill_details(child, child.parents[0], schools)\n        online_consent_page.agree_to_hpv_vaccination()\n        online_consent_page.fill_address_details(*child.address)\n        online_consent_page.answer_health_questions(\n            number_of_health_questions,\n            yes_to_health_questions=False,\n        )\n        online_consent_page.click_confirm()\n        online_consent_page.check_final_consent_message(\n            child,\n            programmes=[Programme.HPV],\n            yes_to_health_questions=False,\n        )\n    \n        log_in_page.navigate()\n        log_in_page.log_in_and_choose_team_if_necessary(nurse, team)\n        dashboard_page.click_sessions()\n    \n        sessions_page.click_session_for_programme_group(schools[0], Programme.HPV)\n        sessions_page.click_set_session_in_progress_for_today()\n        sessions_page.register_child_as_attending(str(child))\n>       sessions_page.record_vaccination_for_child(\n            VaccinationRecord(child, Programme.HPV, gardasil_9_batch_name)\n        )\n\ntests/test_e2e.py:119: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/sessions.py:901: in record_vaccination_for_child\n    self.search_child(vaccination_record.child)\nmavis/test/pages/sessions.py:889: in search_child\n    reload_until_element_is_visible(self.page, child_locator)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://qa.mavistesting.com/sessions/sqypk2iOGR/record?q=SMART%2C+Dorothy&%5Bshow_only%5D%5B%5D=&%5Byear_groups%5D%5B%5D=&date_of_birth_day=&date_of_birth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0'>\ntag = <Locator frame=<Frame name= url='https://qa.mavistesting.com/sessions/sqypk2iOGR/record?q=SMART%2C+Dorothy&%5Bshow_onl...rth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0'> selector='internal:role=link[name=\"SMART, Dorothy\"i]'>\nseconds = 30\n\n    def reload_until_element_is_visible(\n        page: Page, tag: Locator, seconds: int = DEFAULT_TIMEOUT_SECONDS\n    ) -> None:\n        for _ in range(seconds * 2):\n            if tag.is_visible():\n                break\n    \n            time.sleep(0.5)\n    \n            page.reload()\n        else:\n>           expect(tag).to_be_visible()\nE           AssertionError: Locator expected to be visible\nE           Actual value: <element(s) not found> \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for get_by_role(\"link\", name=\"SMART, Dorothy\")\n\nmavis/test/utils.py:171: AssertionError","steps":[{"name":"Click on start button","time":{"start":1761226785285,"stop":1761226785574,"duration":289},"status":"passed","steps":[{"name":"Click on start button","time":{"start":1761226785285,"stop":1761226785574,"duration":289},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill child name details","time":{"start":1761226785574,"stop":1761226785902,"duration":328},"status":"passed","steps":[{"name":"Fill child name details","time":{"start":1761226785574,"stop":1761226785902,"duration":328},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226785628,"stop":1761226785902,"duration":274},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226785628,"stop":1761226785902,"duration":274},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Dorothy', 'SMART')"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill child date of birth","time":{"start":1761226785902,"stop":1761226786206,"duration":304},"status":"passed","steps":[{"name":"Fill child date of birth","time":{"start":1761226785902,"stop":1761226786206,"duration":304},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226785933,"stop":1761226786206,"duration":273},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226785933,"stop":1761226786206,"duration":273},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(datetime.date(2012, 3, 18),)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select child school","time":{"start":1761226786206,"stop":1761226786547,"duration":341},"status":"passed","steps":[{"name":"Select child school","time":{"start":1761226786206,"stop":1761226786547,"duration":341},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226786263,"stop":1761226786547,"duration":284},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226786263,"stop":1761226786547,"duration":284},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Turton School', urn='105253', site=None),)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill parent name","time":{"start":1761226786548,"stop":1761226786567,"duration":19},"status":"passed","steps":[{"name":"Fill parent name","time":{"start":1761226786548,"stop":1761226786567,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Dr Vincent James',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'Dad' radio button","time":{"start":1761226786567,"stop":1761226786611,"duration":44},"status":"passed","steps":[{"name":"Click on {1} radio button","time":{"start":1761226786567,"stop":1761226786611,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Dad',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill email address","time":{"start":1761226786612,"stop":1761226786618,"duration":6},"status":"passed","steps":[{"name":"Fill email address","time":{"start":1761226786612,"stop":1761226786618,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('sheilaelliott@example.net',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761226786618,"stop":1761226786890,"duration":272},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226786618,"stop":1761226786890,"duration":272},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Agree to HPV vaccination","time":{"start":1761226786890,"stop":1761226787229,"duration":339},"status":"passed","steps":[{"name":"Agree to HPV vaccination","time":{"start":1761226786890,"stop":1761226787229,"duration":339},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226786945,"stop":1761226787229,"duration":284},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226786945,"stop":1761226787229,"duration":284},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill address details","time":{"start":1761226787229,"stop":1761226787540,"duration":311},"status":"passed","steps":[{"name":"Fill address details","time":{"start":1761226787229,"stop":1761226787540,"duration":311},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226787268,"stop":1761226787540,"duration":272},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226787268,"stop":1761226787540,"duration":272},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Flat 97', 'Bryan lodge', 'Ameliaview', 'S33 1DH')"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select No","time":{"start":1761226787540,"stop":1761226787595,"duration":55},"status":"passed","steps":[{"name":"Select No","time":{"start":1761226787540,"stop":1761226787595,"duration":55},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761226787595,"stop":1761226787868,"duration":273},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226787595,"stop":1761226787868,"duration":273},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select No","time":{"start":1761226787868,"stop":1761226787912,"duration":44},"status":"passed","steps":[{"name":"Select No","time":{"start":1761226787868,"stop":1761226787912,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761226787912,"stop":1761226788193,"duration":281},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226787912,"stop":1761226788193,"duration":281},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select No","time":{"start":1761226788193,"stop":1761226788247,"duration":54},"status":"passed","steps":[{"name":"Select No","time":{"start":1761226788193,"stop":1761226788247,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761226788247,"stop":1761226788553,"duration":306},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226788247,"stop":1761226788553,"duration":306},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select No","time":{"start":1761226788553,"stop":1761226788595,"duration":42},"status":"passed","steps":[{"name":"Select No","time":{"start":1761226788553,"stop":1761226788595,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761226788595,"stop":1761226788995,"duration":400},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761226788595,"stop":1761226788995,"duration":400},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Confirm","time":{"start":1761226788995,"stop":1761226789184,"duration":189},"status":"passed","steps":[{"name":"Click Confirm","time":{"start":1761226788995,"stop":1761226789184,"duration":189},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to log in page","time":{"start":1761226789201,"stop":1761226789312,"duration":111},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761226789201,"stop":1761226789312,"duration":111},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse') and choose team Team(name='Jones, Hall and Stephens est. 1811', workgroup='L565V', careplus_venue_code='L565V', email='vwalker@example.net', phone='(07700) 900 080')","time":{"start":1761226789313,"stop":1761226789972,"duration":659},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1761226789313,"stop":1761226789972,"duration":659},"status":"passed","steps":[{"name":"Log in as User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse')","time":{"start":1761226789313,"stop":1761226789953,"duration":640},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1761226789313,"stop":1761226789953,"duration":640},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse'), Team(name='Jones, Hall and Stephens est. 1811', workgroup='L565V', careplus_venue_code='L565V', email='vwalker@example.net', phone='(07700) 900 080'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761226789973,"stop":1761226790188,"duration":215},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761226789973,"stop":1761226790188,"duration":215},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Turton School', urn='105253', site=None)","time":{"start":1761226790188,"stop":1761226790799,"duration":611},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761226790188,"stop":1761226790799,"duration":611},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Turton School', urn='105253', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Set session in progress for today","time":{"start":1761226790799,"stop":1761226791187,"duration":388},"status":"passed","steps":[{"name":"Click on Set session in progress for today","time":{"start":1761226790799,"stop":1761226791187,"duration":388},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Register tab","time":{"start":1761226791187,"stop":1761226791448,"duration":261},"status":"passed","steps":[{"name":"Click on Register tab","time":{"start":1761226791187,"stop":1761226791448,"duration":261},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'SMART, Dorothy'","time":{"start":1761226791449,"stop":1761226791655,"duration":206},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1761226791449,"stop":1761226791655,"duration":206},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('SMART, Dorothy',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Attending","time":{"start":1761226791655,"stop":1761226792435,"duration":780},"status":"passed","steps":[{"name":"Click on Attending","time":{"start":1761226791655,"stop":1761226792435,"duration":780},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record vaccinations","time":{"start":1761226792436,"stop":1761226792787,"duration":351},"status":"passed","steps":[{"name":"Click on Record vaccinations","time":{"start":1761226792436,"stop":1761226792787,"duration":351},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'SMART, Dorothy'","time":{"start":1761226792787,"stop":1761226793010,"duration":223},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1761226792787,"stop":1761226793010,"duration":223},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('SMART, Dorothy',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":70,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"hpv_consent_url::0","time":{"start":1761226841570,"stop":1761226872355,"duration":30785},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/_pytest/fixtures.py\", line 939, in _teardown_yield_fixture\n    next(it)\n    ~~~~^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/tests/test_e2e.py\", line 53, in hpv_consent_url\n    yield from schedule_session_and_get_consent_url(\n        schools[Programme.HPV][0], Programme.HPV\n    )\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/fixtures/helpers.py\", line 61, in wrapper\n    log_in_page.log_in_and_choose_team_if_necessary(nurse, team)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 39, in log_in_and_choose_team_if_necessary\n    self.log_in(user)\n    ~~~~~~~~~~~^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Go to log in page","time":{"start":1761226841570,"stop":1761226841843,"duration":273},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761226841570,"stop":1761226841843,"duration":273},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse') and choose team Team(name='Jones, Hall and Stephens est. 1811', workgroup='L565V', careplus_venue_code='L565V', email='vwalker@example.net', phone='(07700) 900 080')","time":{"start":1761226841843,"stop":1761226872352,"duration":30509},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 39, in log_in_and_choose_team_if_necessary\n    self.log_in(user)\n    ~~~~~~~~~~~^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1761226841843,"stop":1761226872351,"duration":30508},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 39, in log_in_and_choose_team_if_necessary\n    self.log_in(user)\n    ~~~~~~~~~~~^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Log in as User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse')","time":{"start":1761226841843,"stop":1761226872105,"duration":30262},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Log in as {1}","time":{"start":1761226841843,"stop":1761226872104,"duration":30261},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[],"attachments":[{"uid":"8edee895d9fc72f","name":"Screenshot on failure","source":"8edee895d9fc72f.png","type":"image/png","size":29404}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"7efadbb5d32e3593","name":"Screenshot on failure","source":"7efadbb5d32e3593.png","type":"image/png","size":29408}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='harmstrong@example.com', password='harmstrong@example.com', role='nurse'), Team(name='Jones, Hall and Stephens est. 1811', workgroup='L565V', careplus_venue_code='L565V', email='vwalker@example.net', phone='(07700) 900 080'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1761226872356,"stop":1761226872356,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1761226872357,"stop":1761226872366,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1761226872366,"stop":1761226872366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1761226952415,"stop":1761226952415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1761226952415,"stop":1761226952446,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1761226952448,"stop":1761226952458,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1761226952460,"stop":1761226953435,"duration":975},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"e2e"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_e2e"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"2241-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_e2e"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a7d5ca50eb4f7928","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".nhsuk-summary-list__key\").filter(has_text=\"Synced with NHS England?\").locator(\"xpath=following-sibling::*[1]\").get_by_text(\"Synced\", exact=True)","time":{"start":1761226677304,"stop":1761226738250,"duration":60946}},{"uid":"35a26fa5c241a469","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".nhsuk-summary-list__key\").filter(has_text=\"Synced with NHS England?\").locator(\"xpath=following-sibling::*[1]\").get_by_text(\"Synced\", exact=True)","time":{"start":1761226548813,"stop":1761226614632,"duration":65819}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["e2e"]},"source":"f30c3a63b7aea4e5.json","parameterValues":[]}