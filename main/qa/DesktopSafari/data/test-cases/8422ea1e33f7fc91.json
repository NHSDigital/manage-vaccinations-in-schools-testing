{"uid":"8422ea1e33f7fc91","name":"test_report_view","fullName":"tests.test_reporting_values#test_report_view","historyId":"6bb6b4b22331dc5e0cecdee6058c6a31","time":{"start":1761970060636,"stop":1761970150277,"duration":89641},"description":"\nTest: Verify reporting values update correctly after vaccination and edit.\nSteps:\n1. Record a flu vaccination for a child and verify initial reporting values.\n2. Refresh reports and check that the cohort and vaccination percentages update.\n3. Edit the child's vaccination record to mark the outcome as refused.\n4. Refresh reports and verify that the reporting values reflect the refusal.\nVerification:\n- After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.\n- After marking as refused, report shows 0 more vaccinated and\n  1 more not vaccinated.\n","descriptionHtml":"<p>Test: Verify reporting values update correctly after vaccination and edit.<br />\nSteps:</p>\n<ol>\n<li>Record a flu vaccination for a child and verify initial reporting values.</li>\n<li>Refresh reports and check that the cohort and vaccination percentages update.</li>\n<li>Edit the child's vaccination record to mark the outcome as refused.</li>\n<li>Refresh reports and verify that the reporting values reflect the refusal.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.</li>\n<li>After marking as refused, report shows 0 more vaccinated and<br />\n1 more not vaccinated.</li>\n</ul>\n","status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.check: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"radio\", name=\"flu\")","statusTrace":"record_injected_flu = (Child(first_name='Justin', last_name='WATSON', nhs_number='9941754632', address=('Studio 1', 'Samuel causeway', 'Nich...hleen@example.com'))), datetime.datetime(2025, 11, 1, 4, 7, 40, 635239, tzinfo=zoneinfo.ZoneInfo(key='Europe/London')))\nschools = {'HPV': [School(name='Hazel Oak School', urn='104130', site=None), School(name='Bank View High School', urn='133441', ...reenway Junior School', urn='138492', site=None), School(name=\"St Stephen's Primary School\", urn='124084', site=None)]}\nreports_vaccinations_page = <mavis.test.pages.reports.ReportsVaccinationsPage object at 0x7ff68db36c10>\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7ff697f2ea40>\nchildren_page = <mavis.test.pages.children.ChildrenPage object at 0x7ff68d9f4dd0>\nvaccination_record_page = <mavis.test.pages.vaccination_record.VaccinationRecordPage object at 0x7ff68db94590>\nedit_vaccination_record_page = <mavis.test.pages.vaccination_record.EditVaccinationRecordPage object at 0x7ff68db946e0>\n\n    def test_report_view(\n        record_injected_flu,\n        schools,\n        reports_vaccinations_page,\n        dashboard_page,\n        children_page,\n        vaccination_record_page,\n        edit_vaccination_record_page,\n    ):\n        \"\"\"\n        Test: Verify reporting values update correctly after vaccination and edit.\n        Steps:\n        1. Record a flu vaccination for a child and verify initial reporting values.\n        2. Refresh reports and check that the cohort and vaccination percentages update.\n        3. Edit the child's vaccination record to mark the outcome as refused.\n        4. Refresh reports and verify that the reporting values reflect the refusal.\n        Verification:\n        - After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.\n        - After marking as refused, report shows 0 more vaccinated and\n          1 more not vaccinated.\n        \"\"\"\n    \n        child, _ = record_injected_flu\n        school = schools[Programme.FLU][0]\n    \n        reports_vaccinations_page.navigate()\n        reports_vaccinations_page.check_filter_for_programme(Programme.FLU)\n    \n        vaccinated_count = reports_vaccinations_page.get_children_count(\"Vaccinated\")\n        unvaccinated_count = reports_vaccinations_page.get_children_count(\"Not vaccinated\")\n    \n        (\n            expected_cohort_count,\n            expected_unvaccinated_percentage,\n            expected_vaccinated_percentage,\n        ) = reports_vaccinations_page.get_expected_cohort_and_percentage_strings(\n            unvaccinated_count, vaccinated_count\n        )\n    \n        reports_vaccinations_page.check_cohort_has_n_children(expected_cohort_count)\n        reports_vaccinations_page.check_category_percentage(\n            \"Not vaccinated\", expected_unvaccinated_percentage\n        )\n        reports_vaccinations_page.check_category_percentage(\n            \"Vaccinated\", expected_vaccinated_percentage\n        )\n    \n        reports_vaccinations_page.navigate_and_refresh_reports()\n>       reports_vaccinations_page.check_filter_for_programme(Programme.FLU)\n\ntests/test_reporting_values.py:135: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/annotations.py:35: in wrapper\n    return_value = func(self, *args, **kwargs)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nmavis/test/pages/reports.py:48: in check_filter_for_programme\n    self.page.get_by_role(\"radio\", name=programme).check()\n.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py:15451: in check\n    self._sync(\n.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py:145: in check\n    return await self._frame.check(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py:829: in check\n    await self._channel.send(\"check\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7ff6b93adbe0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7ff68d690b40>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.check: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"radio\", name=\"flu\")\n\n.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py:558: TimeoutError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1761968743566,"stop":1761968743566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761968743566,"stop":1761968743566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1761968743566,"stop":1761968743567,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761968743567,"stop":1761968743567,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1761968743567,"stop":1761968743568,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761968743567,"stop":1761968743567,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1761968743568,"stop":1761968758143,"duration":14575},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1761968743568,"stop":1761968743568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1761968758143,"stop":1761968758143,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1761968758143,"stop":1761968758143,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1761968758143,"stop":1761968758143,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1761968758143,"stop":1761968758143,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1761968758143,"stop":1761968758143,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1761968758144,"stop":1761968758435,"duration":291},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1761968758435,"stop":1761968758435,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1761968758435,"stop":1761968758435,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1761968758435,"stop":1761968758435,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1761968758435,"stop":1761968758435,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1761968758435,"stop":1761968759650,"duration":1215},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1761968759650,"stop":1761968759650,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1761968759651,"stop":1761968759651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1761968759651,"stop":1761968759651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761968759651,"stop":1761968759651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761968759651,"stop":1761968759651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1761968759651,"stop":1761968759651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1761968759651,"stop":1761968759651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1761969904232,"stop":1761969907917,"duration":3685},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1761969987420,"stop":1761969987420,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1761969987420,"stop":1761969987420,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1761969987421,"stop":1761969987429,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1761969987421,"stop":1761969987421,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1761969987429,"stop":1761969987582,"duration":153},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1761969987582,"stop":1761969987582,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1761969987583,"stop":1761969987583,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1761969987583,"stop":1761969990061,"duration":2478},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761969987583,"stop":1761969988862,"duration":1279},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761969987583,"stop":1761969988862,"duration":1279},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='jacob78@example.com', password='jacob78@example.com', role='nurse') and choose team Team(name='Briggs-Smith est. 2019', workgroup='B570X', careplus_venue_code='B570X', email='wobrien@example.net', phone='+44(0)7700 900898')","time":{"start":1761969988863,"stop":1761969990061,"duration":1198},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1761969988863,"stop":1761969990061,"duration":1198},"status":"passed","steps":[{"name":"Log in as User(username='jacob78@example.com', password='jacob78@example.com', role='nurse')","time":{"start":1761969988863,"stop":1761969990021,"duration":1158},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1761969988863,"stop":1761969990021,"duration":1158},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='jacob78@example.com', password='jacob78@example.com', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='jacob78@example.com', password='jacob78@example.com', role='nurse'), Team(name='Briggs-Smith est. 2019', workgroup='B570X', careplus_venue_code='B570X', email='wobrien@example.net', phone='+44(0)7700 900898'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"log_in_page","time":{"start":1761969987583,"stop":1761969987583,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"vaccines_page","time":{"start":1761969990061,"stop":1761969990061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_batch_page","time":{"start":1761969990061,"stop":1761969990061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1761969990061,"stop":1761969990067,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_vaccine_batch","time":{"start":1761969990061,"stop":1761969990061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1761969990061,"stop":1761969990061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1761969990067,"stop":1761969990069,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"refresh_and_setup_recording_injected_flu","time":{"start":1761969990069,"stop":1761970043750,"duration":53681},"status":"passed","steps":[{"name":"Navigate to and refresh Reports","time":{"start":1761969990070,"stop":1761970030359,"duration":40289},"status":"passed","steps":[{"name":"Navigate to and refresh Reports","time":{"start":1761969990070,"stop":1761970030359,"duration":40289},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to dashboard","time":{"start":1761970030359,"stop":1761970030657,"duration":298},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761970030359,"stop":1761970030657,"duration":298},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to vaccines page","time":{"start":1761970030657,"stop":1761970030960,"duration":303},"status":"passed","steps":[{"name":"Go to vaccines page","time":{"start":1761970030657,"stop":1761970030960,"duration":303},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Add batch for 'Cell-based Trivalent Influenza Vaccine Seqirus'","time":{"start":1761970030960,"stop":1761970031182,"duration":222},"status":"passed","steps":[{"name":"Add batch for {1}","time":{"start":1761970030960,"stop":1761970031182,"duration":222},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Vaccine.SEQUIRUS: 'Cell-based Trivalent Influenza Vaccine Seqirus'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in name with 'ABC123'","time":{"start":1761970031182,"stop":1761970031238,"duration":56},"status":"passed","steps":[{"name":"Fill in name with {1}","time":{"start":1761970031182,"stop":1761970031238,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('ABC123',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in expiry date with datetime.date(2025, 11, 2)","time":{"start":1761970031238,"stop":1761970031286,"duration":48},"status":"passed","steps":[{"name":"Fill in expiry date with {1}","time":{"start":1761970031238,"stop":1761970031286,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(datetime.date(2025, 11, 2),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Confirm add batch","time":{"start":1761970031286,"stop":1761970031770,"duration":484},"status":"passed","steps":[{"name":"Confirm add batch","time":{"start":1761970031286,"stop":1761970031770,"duration":484},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761970031770,"stop":1761970032020,"duration":250},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761970031770,"stop":1761970032020,"duration":250},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761970032020,"stop":1761970032307,"duration":287},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761970032020,"stop":1761970032307,"duration":287},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'flu' session at School(name='Greenway Junior School', urn='138492', site=None)","time":{"start":1761970032307,"stop":1761970033126,"duration":819},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761970032307,"stop":1761970033126,"duration":819},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Greenway Junior School', urn='138492', site=None), <Programme.FLU: 'flu'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import class lists","time":{"start":1761970033137,"stop":1761970033561,"duration":424},"status":"passed","steps":[{"name":"Click on Import class lists","time":{"start":1761970033137,"stop":1761970033561,"duration":424},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970033653,"stop":1761970034426,"duration":773},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970033653,"stop":1761970034426,"duration":773},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.FIXED_CHILD20251101040714.csv')","time":{"start":1761970034435,"stop":1761970034474,"duration":39},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1761970034435,"stop":1761970034474,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.FIXED_CHILD20251101040714.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970035474,"stop":1761970036133,"duration":659},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970035474,"stop":1761970036133,"duration":659},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1761970036298,"stop":1761970036511,"duration":213},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1761970036298,"stop":1761970036511,"duration":213},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":30,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"sessions_page","time":{"start":1761969990069,"stop":1761969990069,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reports_vaccinations_page","time":{"start":1761969990069,"stop":1761969990069,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"import_records_page","time":{"start":1761969990069,"stop":1761969990069,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children_page","time":{"start":1761970043750,"stop":1761970043751,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"verbal_consent_page","time":{"start":1761970043751,"stop":1761970043751,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"record_injected_flu","time":{"start":1761970043751,"stop":1761970060635,"duration":16884},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761970043751,"stop":1761970043946,"duration":195},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761970043751,"stop":1761970043946,"duration":195},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761970043947,"stop":1761970044222,"duration":275},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761970043947,"stop":1761970044222,"duration":275},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'flu' session at School(name='Greenway Junior School', urn='138492', site=None)","time":{"start":1761970044222,"stop":1761970045146,"duration":924},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761970044222,"stop":1761970045146,"duration":924},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Greenway Junior School', urn='138492', site=None), <Programme.FLU: 'flu'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Consent tab","time":{"start":1761970045146,"stop":1761970045437,"duration":291},"status":"passed","steps":[{"name":"Click on Consent tab","time":{"start":1761970045146,"stop":1761970045437,"duration":291},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on child Child(first_name='Justin', last_name='WATSON', nhs_number='9941754632', address=('Studio 1', 'Samuel causeway', 'Nicholsonton', 'YO5R 9HL'), date_of_birth=datetime.date(2016, 3, 17), year_group=5, parents=(Parent(full_name='Carl Walters', relationship='Dad', email_address='meganharris@example.org'), Parent(full_name='Jade Brown-Clarke', relationship='Mum', email_address='middletonkathleen@example.com')))","time":{"start":1761970045855,"stop":1761970046216,"duration":361},"status":"passed","steps":[{"name":"Click on child {1}","time":{"start":1761970045855,"stop":1761970046216,"duration":361},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(Child(first_name='Justin', last_name='WATSON', nhs_number='9941754632', address=('Studio 1', 'Samuel causeway', 'Nicholsonton', 'YO5R 9HL'), date_of_birth=datetime.date(2016, 3, 17), year_group=5, parents=(Parent(full_name='Carl Walters', relationship='Dad', email_address='meganharris@example.org'), Parent(full_name='Jade Brown-Clarke', relationship='Mum', email_address='middletonkathleen@example.com'))),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'flu' tab","time":{"start":1761970046216,"stop":1761970046233,"duration":17},"status":"passed","steps":[{"name":"Click on {1} tab","time":{"start":1761970046216,"stop":1761970046233,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record a new consent response","time":{"start":1761970046234,"stop":1761970048036,"duration":1802},"status":"passed","steps":[{"name":"Click on Record a new consent response","time":{"start":1761970046234,"stop":1761970048036,"duration":1802},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'Carl Walters (Dad)' radio button","time":{"start":1761970048036,"stop":1761970048131,"duration":95},"status":"passed","steps":[{"name":"Click on {1} radio button","time":{"start":1761970048036,"stop":1761970048131,"duration":95},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Carl Walters (Dad)',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970048131,"stop":1761970048797,"duration":666},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970048131,"stop":1761970048797,"duration":666},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970048798,"stop":1761970049630,"duration":832},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970048798,"stop":1761970049630,"duration":832},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select consent method","time":{"start":1761970049630,"stop":1761970049715,"duration":85},"status":"passed","steps":[{"name":"Select consent method","time":{"start":1761970049630,"stop":1761970049715,"duration":85},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<ConsentMethod.IN_PERSON: 'In person'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970049715,"stop":1761970050354,"duration":639},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970049715,"stop":1761970050354,"duration":639},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Yes, for the injected vaccine only","time":{"start":1761970050354,"stop":1761970050444,"duration":90},"status":"passed","steps":[{"name":"Click on Yes, for the injected vaccine only","time":{"start":1761970050354,"stop":1761970050444,"duration":90},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970050444,"stop":1761970051121,"duration":677},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970050444,"stop":1761970051121,"duration":677},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Does your child have a bleeding disorder or are they taking anticoagulant therapy?'","time":{"start":1761970051121,"stop":1761970051217,"duration":96},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761970051121,"stop":1761970051217,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.BLEEDING_DISORDER_FLU: 'Does your child have a bleeding disorder or are they taking anticoagulant therapy?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Has your child had a severe allergic reaction (anaphylaxis) to a previous dose of the injected flu vaccine, or any ingredient of the vaccine?'","time":{"start":1761970051217,"stop":1761970051271,"duration":54},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761970051217,"stop":1761970051271,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.SEVERE_ALLERGIC_REACTION_INJECTED: 'Has your child had a severe allergic reaction (anaphylaxis) to a previous dose of the injected flu vaccine, or any ingredient of the vaccine?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Does your child have any other medical conditions the immunisation team should be aware of?'","time":{"start":1761970051271,"stop":1761970051320,"duration":49},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761970051271,"stop":1761970051320,"duration":49},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.MEDICAL_CONDITIONS_FLU: 'Does your child have any other medical conditions the immunisation team should be aware of?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Has your child had a flu vaccination in the last 3 months?'","time":{"start":1761970051320,"stop":1761970051353,"duration":33},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761970051320,"stop":1761970051353,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.FLU_PREVIOUSLY: 'Has your child had a flu vaccination in the last 3 months?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Does your child need extra support during vaccination sessions?'","time":{"start":1761970051353,"stop":1761970051385,"duration":32},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761970051353,"stop":1761970051385,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.EXTRA_SUPPORT: 'Does your child need extra support during vaccination sessions?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970051385,"stop":1761970052022,"duration":637},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970051385,"stop":1761970052022,"duration":637},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Confirm","time":{"start":1761970052022,"stop":1761970053767,"duration":1745},"status":"passed","steps":[{"name":"Click Confirm","time":{"start":1761970052022,"stop":1761970053767,"duration":1745},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Register tab","time":{"start":1761970053767,"stop":1761970054107,"duration":340},"status":"passed","steps":[{"name":"Click on Register tab","time":{"start":1761970053767,"stop":1761970054107,"duration":340},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'WATSON, Justin'","time":{"start":1761970054107,"stop":1761970054438,"duration":331},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1761970054107,"stop":1761970054438,"duration":331},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('WATSON, Justin',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Attending","time":{"start":1761970054438,"stop":1761970055967,"duration":1529},"status":"passed","steps":[{"name":"Click on Attending","time":{"start":1761970054438,"stop":1761970055967,"duration":1529},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record vaccinations","time":{"start":1761970055967,"stop":1761970056393,"duration":426},"status":"passed","steps":[{"name":"Click on Record vaccinations","time":{"start":1761970055967,"stop":1761970056393,"duration":426},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'WATSON, Justin'","time":{"start":1761970056393,"stop":1761970056647,"duration":254},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1761970056394,"stop":1761970056647,"duration":253},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('WATSON, Justin',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'flu' tab","time":{"start":1761970056962,"stop":1761970057013,"duration":51},"status":"passed","steps":[{"name":"Click on {1} tab","time":{"start":1761970056962,"stop":1761970057013,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Confirm pre-screening checks are true","time":{"start":1761970057013,"stop":1761970057162,"duration":149},"status":"passed","steps":[{"name":"Confirm pre-screening checks are true","time":{"start":1761970057013,"stop":1761970057162,"duration":149},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>, <ConsentOption.INJECTION: 'Injection'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Yes","time":{"start":1761970057193,"stop":1761970057213,"duration":20},"status":"passed","steps":[{"name":"Click on Yes","time":{"start":1761970057193,"stop":1761970057213,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(Child(first_name='Justin', last_name='WATSON', nhs_number='9941754632', address=('Studio 1', 'Samuel causeway', 'Nicholsonton', 'YO5R 9HL'), date_of_birth=datetime.date(2016, 3, 17), year_group=5, parents=(Parent(full_name='Carl Walters', relationship='Dad', email_address='meganharris@example.org'), Parent(full_name='Jade Brown-Clarke', relationship='Mum', email_address='middletonkathleen@example.com'))),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Yes","time":{"start":1761970057214,"stop":1761970057326,"duration":112},"status":"passed","steps":[{"name":"Click on Yes","time":{"start":1761970057214,"stop":1761970057326,"duration":112},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<ConsentOption.INJECTION: 'Injection'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select vaccination site 'Left arm (upper position)'","time":{"start":1761970057326,"stop":1761970057453,"duration":127},"status":"passed","steps":[{"name":"Select vaccination site {1}","time":{"start":1761970057326,"stop":1761970057453,"duration":127},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<DeliverySite.LEFT_ARM_UPPER: 'Left arm (upper position)'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Continue","time":{"start":1761970057453,"stop":1761970058127,"duration":674},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1761970057454,"stop":1761970058127,"duration":673},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Choose batch 'ABC123'","time":{"start":1761970058127,"stop":1761970058880,"duration":753},"status":"passed","steps":[{"name":"Choose batch {1}","time":{"start":1761970058127,"stop":1761970058880,"duration":753},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1761970058214,"stop":1761970058880,"duration":666},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1761970058214,"stop":1761970058880,"duration":666},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('ABC123',)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Confirm","time":{"start":1761970058942,"stop":1761970060589,"duration":1647},"status":"passed","steps":[{"name":"Click on Confirm","time":{"start":1761970058943,"stop":1761970060589,"duration":1646},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":70,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"vaccination_record_page","time":{"start":1761970060635,"stop":1761970060635,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"edit_vaccination_record_page","time":{"start":1761970060636,"stop":1761970060636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: Verify reporting values update correctly after vaccination and edit.\nSteps:\n1. Record a flu vaccination for a child and verify initial reporting values.\n2. Refresh reports and check that the cohort and vaccination percentages update.\n3. Edit the child's vaccination record to mark the outcome as refused.\n4. Refresh reports and verify that the reporting values reflect the refusal.\nVerification:\n- After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.\n- After marking as refused, report shows 0 more vaccinated and\n  1 more not vaccinated.\n","status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.check: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"radio\", name=\"flu\")","statusTrace":"record_injected_flu = (Child(first_name='Justin', last_name='WATSON', nhs_number='9941754632', address=('Studio 1', 'Samuel causeway', 'Nich...hleen@example.com'))), datetime.datetime(2025, 11, 1, 4, 7, 40, 635239, tzinfo=zoneinfo.ZoneInfo(key='Europe/London')))\nschools = {'HPV': [School(name='Hazel Oak School', urn='104130', site=None), School(name='Bank View High School', urn='133441', ...reenway Junior School', urn='138492', site=None), School(name=\"St Stephen's Primary School\", urn='124084', site=None)]}\nreports_vaccinations_page = <mavis.test.pages.reports.ReportsVaccinationsPage object at 0x7ff68db36c10>\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7ff697f2ea40>\nchildren_page = <mavis.test.pages.children.ChildrenPage object at 0x7ff68d9f4dd0>\nvaccination_record_page = <mavis.test.pages.vaccination_record.VaccinationRecordPage object at 0x7ff68db94590>\nedit_vaccination_record_page = <mavis.test.pages.vaccination_record.EditVaccinationRecordPage object at 0x7ff68db946e0>\n\n    def test_report_view(\n        record_injected_flu,\n        schools,\n        reports_vaccinations_page,\n        dashboard_page,\n        children_page,\n        vaccination_record_page,\n        edit_vaccination_record_page,\n    ):\n        \"\"\"\n        Test: Verify reporting values update correctly after vaccination and edit.\n        Steps:\n        1. Record a flu vaccination for a child and verify initial reporting values.\n        2. Refresh reports and check that the cohort and vaccination percentages update.\n        3. Edit the child's vaccination record to mark the outcome as refused.\n        4. Refresh reports and verify that the reporting values reflect the refusal.\n        Verification:\n        - After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.\n        - After marking as refused, report shows 0 more vaccinated and\n          1 more not vaccinated.\n        \"\"\"\n    \n        child, _ = record_injected_flu\n        school = schools[Programme.FLU][0]\n    \n        reports_vaccinations_page.navigate()\n        reports_vaccinations_page.check_filter_for_programme(Programme.FLU)\n    \n        vaccinated_count = reports_vaccinations_page.get_children_count(\"Vaccinated\")\n        unvaccinated_count = reports_vaccinations_page.get_children_count(\"Not vaccinated\")\n    \n        (\n            expected_cohort_count,\n            expected_unvaccinated_percentage,\n            expected_vaccinated_percentage,\n        ) = reports_vaccinations_page.get_expected_cohort_and_percentage_strings(\n            unvaccinated_count, vaccinated_count\n        )\n    \n        reports_vaccinations_page.check_cohort_has_n_children(expected_cohort_count)\n        reports_vaccinations_page.check_category_percentage(\n            \"Not vaccinated\", expected_unvaccinated_percentage\n        )\n        reports_vaccinations_page.check_category_percentage(\n            \"Vaccinated\", expected_vaccinated_percentage\n        )\n    \n        reports_vaccinations_page.navigate_and_refresh_reports()\n>       reports_vaccinations_page.check_filter_for_programme(Programme.FLU)\n\ntests/test_reporting_values.py:135: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/annotations.py:35: in wrapper\n    return_value = func(self, *args, **kwargs)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nmavis/test/pages/reports.py:48: in check_filter_for_programme\n    self.page.get_by_role(\"radio\", name=programme).check()\n.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py:15451: in check\n    self._sync(\n.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py:145: in check\n    return await self._frame.check(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py:829: in check\n    await self._channel.send(\"check\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7ff6b93adbe0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7ff68d690b40>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.check: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"radio\", name=\"flu\")\n\n.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py:558: TimeoutError","steps":[{"name":"Go to Reports page","time":{"start":1761970060636,"stop":1761970062254,"duration":1618},"status":"passed","steps":[{"name":"Go to Reports page","time":{"start":1761970060636,"stop":1761970062254,"duration":1618},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click 'flu'","time":{"start":1761970062254,"stop":1761970062339,"duration":85},"status":"passed","steps":[{"name":"Click {1}","time":{"start":1761970062254,"stop":1761970062339,"duration":85},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check cohort has '0' children","time":{"start":1761970062349,"stop":1761970062356,"duration":7},"status":"passed","steps":[{"name":"Check cohort has {1} children","time":{"start":1761970062349,"stop":1761970062356,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('0',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check category 'Not vaccinated' percentage is '0'%","time":{"start":1761970062356,"stop":1761970062362,"duration":6},"status":"passed","steps":[{"name":"Check category {1} percentage is {2}%","time":{"start":1761970062356,"stop":1761970062362,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Not vaccinated', '0')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check category 'Vaccinated' percentage is '0'%","time":{"start":1761970062362,"stop":1761970062368,"duration":6},"status":"passed","steps":[{"name":"Check category {1} percentage is {2}%","time":{"start":1761970062362,"stop":1761970062368,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Vaccinated', '0')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Navigate to and refresh Reports","time":{"start":1761970062368,"stop":1761970120185,"duration":57817},"status":"passed","steps":[{"name":"Navigate to and refresh Reports","time":{"start":1761970062368,"stop":1761970120185,"duration":57817},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click 'flu'","time":{"start":1761970120185,"stop":1761970150276,"duration":30091},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.check: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"radio\", name=\"flu\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/reports.py\", line 48, in check_filter_for_programme\n    self.page.get_by_role(\"radio\", name=programme).check()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15451, in check\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.check(\n        ^^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 145, in check\n    return await self._frame.check(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 829, in check\n    await self._channel.send(\"check\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Click {1}","time":{"start":1761970120185,"stop":1761970150275,"duration":30090},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.check: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"radio\", name=\"flu\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/reports.py\", line 48, in check_filter_for_programme\n    self.page.get_by_role(\"radio\", name=programme).check()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15451, in check\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.check(\n        ^^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 145, in check\n    return await self._frame.check(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 829, in check\n    await self._channel.send(\"check\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[],"attachments":[{"uid":"25768e64e819f8c6","name":"Screenshot on failure","source":"25768e64e819f8c6.png","type":"image/png","size":2945}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":14,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"refresh_and_setup_recording_injected_flu::0","time":{"start":1761970150393,"stop":1761970151723,"duration":1330},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761970150393,"stop":1761970150690,"duration":297},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761970150393,"stop":1761970150690,"duration":297},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761970150690,"stop":1761970150911,"duration":221},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761970150690,"stop":1761970150911,"duration":221},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761970150911,"stop":1761970151183,"duration":272},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761970150911,"stop":1761970151183,"duration":272},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"log_in_as_nurse::0","time":{"start":1761970151725,"stop":1761970152534,"duration":809},"status":"passed","steps":[{"name":"Log out","time":{"start":1761970151725,"stop":1761970152534,"duration":809},"status":"passed","steps":[{"name":"Log out","time":{"start":1761970151725,"stop":1761970152534,"duration":809},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1761970152535,"stop":1761970152535,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1761970152536,"stop":1761970152547,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1761970152548,"stop":1761970152548,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1761970285288,"stop":1761970285288,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1761970285289,"stop":1761970285381,"duration":92},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1761970285382,"stop":1761970285392,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1761970285393,"stop":1761970289074,"duration":3681},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_reporting_values"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"5978-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_reporting_values"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"8422ea1e33f7fc91.json","parameterValues":[]}