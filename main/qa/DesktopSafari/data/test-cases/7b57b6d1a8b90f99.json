{"uid":"7b57b6d1a8b90f99","name":"test_report_view","fullName":"tests.test_reporting_values#test_report_view","historyId":"6bb6b4b22331dc5e0cecdee6058c6a31","time":{"start":1761970220324,"stop":1761970283087,"duration":62763},"description":"\nTest: Verify reporting values update correctly after vaccination and edit.\nSteps:\n1. Record a flu vaccination for a child and verify initial reporting values.\n2. Refresh reports and check that the cohort and vaccination percentages update.\n3. Edit the child's vaccination record to mark the outcome as refused.\n4. Refresh reports and verify that the reporting values reflect the refusal.\nVerification:\n- After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.\n- After marking as refused, report shows 0 more vaccinated and\n  1 more not vaccinated.\n","descriptionHtml":"<p>Test: Verify reporting values update correctly after vaccination and edit.<br />\nSteps:</p>\n<ol>\n<li>Record a flu vaccination for a child and verify initial reporting values.</li>\n<li>Refresh reports and check that the cohort and vaccination percentages update.</li>\n<li>Edit the child's vaccination record to mark the outcome as refused.</li>\n<li>Refresh reports and verify that the reporting values reflect the refusal.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.</li>\n<li>After marking as refused, report shows 0 more vaccinated and<br />\n1 more not vaccinated.</li>\n</ul>\n","status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.check: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"radio\", name=\"flu\")","statusTrace":"record_injected_flu = (Child(first_name='Simon', last_name='PAGE', nhs_number='9983323931', address=('Studio 61', 'Allan union', 'Judithboro...mith@example.com'))), datetime.datetime(2025, 11, 1, 4, 10, 20, 323583, tzinfo=zoneinfo.ZoneInfo(key='Europe/London')))\nschools = {'HPV': [School(name='Hazel Oak School', urn='104130', site=None), School(name='Bank View High School', urn='133441', ...reenway Junior School', urn='138492', site=None), School(name=\"St Stephen's Primary School\", urn='124084', site=None)]}\nreports_vaccinations_page = <mavis.test.pages.reports.ReportsVaccinationsPage object at 0x7ff68d461090>\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7ff68d70fac0>\nchildren_page = <mavis.test.pages.children.ChildrenPage object at 0x7ff68d276690>\nvaccination_record_page = <mavis.test.pages.vaccination_record.VaccinationRecordPage object at 0x7ff68d462850>\nedit_vaccination_record_page = <mavis.test.pages.vaccination_record.EditVaccinationRecordPage object at 0x7ff68d463d90>\n\n    def test_report_view(\n        record_injected_flu,\n        schools,\n        reports_vaccinations_page,\n        dashboard_page,\n        children_page,\n        vaccination_record_page,\n        edit_vaccination_record_page,\n    ):\n        \"\"\"\n        Test: Verify reporting values update correctly after vaccination and edit.\n        Steps:\n        1. Record a flu vaccination for a child and verify initial reporting values.\n        2. Refresh reports and check that the cohort and vaccination percentages update.\n        3. Edit the child's vaccination record to mark the outcome as refused.\n        4. Refresh reports and verify that the reporting values reflect the refusal.\n        Verification:\n        - After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.\n        - After marking as refused, report shows 0 more vaccinated and\n          1 more not vaccinated.\n        \"\"\"\n    \n        child, _ = record_injected_flu\n        school = schools[Programme.FLU][0]\n    \n        reports_vaccinations_page.navigate()\n        reports_vaccinations_page.check_filter_for_programme(Programme.FLU)\n    \n        vaccinated_count = reports_vaccinations_page.get_children_count(\"Vaccinated\")\n        unvaccinated_count = reports_vaccinations_page.get_children_count(\"Not vaccinated\")\n    \n        (\n            expected_cohort_count,\n            expected_unvaccinated_percentage,\n            expected_vaccinated_percentage,\n        ) = reports_vaccinations_page.get_expected_cohort_and_percentage_strings(\n            unvaccinated_count, vaccinated_count\n        )\n    \n        reports_vaccinations_page.check_cohort_has_n_children(expected_cohort_count)\n        reports_vaccinations_page.check_category_percentage(\n            \"Not vaccinated\", expected_unvaccinated_percentage\n        )\n        reports_vaccinations_page.check_category_percentage(\n            \"Vaccinated\", expected_vaccinated_percentage\n        )\n    \n        reports_vaccinations_page.navigate_and_refresh_reports()\n>       reports_vaccinations_page.check_filter_for_programme(Programme.FLU)\n\ntests/test_reporting_values.py:135: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/annotations.py:35: in wrapper\n    return_value = func(self, *args, **kwargs)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nmavis/test/pages/reports.py:48: in check_filter_for_programme\n    self.page.get_by_role(\"radio\", name=programme).check()\n.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py:15451: in check\n    self._sync(\n.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py:145: in check\n    return await self._frame.check(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py:829: in check\n    await self._channel.send(\"check\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7ff6b93adbe0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7ff69e570930>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.check: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"radio\", name=\"flu\")\n\n.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py:558: TimeoutError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":true,"beforeStages":[{"name":"base_url","time":{"start":1761968743566,"stop":1761968743566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761968743566,"stop":1761968743566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1761968743566,"stop":1761968743567,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761968743567,"stop":1761968743567,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1761968743567,"stop":1761968743568,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761968743567,"stop":1761968743567,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1761968743568,"stop":1761968758143,"duration":14575},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1761968743568,"stop":1761968743568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1761968758143,"stop":1761968758143,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1761968758143,"stop":1761968758143,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1761968758143,"stop":1761968758143,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1761968758143,"stop":1761968758143,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1761968758143,"stop":1761968758143,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1761968758144,"stop":1761968758435,"duration":291},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1761968758435,"stop":1761968758435,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1761968758435,"stop":1761968758435,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1761968758435,"stop":1761968758435,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1761968758435,"stop":1761968758435,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1761968758435,"stop":1761968759650,"duration":1215},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1761968759650,"stop":1761968759650,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1761968759651,"stop":1761968759651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1761968759651,"stop":1761968759651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761968759651,"stop":1761968759651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761968759651,"stop":1761968759651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1761968759651,"stop":1761968759651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1761968759651,"stop":1761968759651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1761969904232,"stop":1761969907917,"duration":3685},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1761970152553,"stop":1761970152553,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1761970152553,"stop":1761970152553,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1761970152554,"stop":1761970152554,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1761970152554,"stop":1761970152563,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1761970152563,"stop":1761970152801,"duration":238},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1761970152801,"stop":1761970152802,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1761970152802,"stop":1761970152802,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1761970152802,"stop":1761970152802,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1761970152802,"stop":1761970155256,"duration":2454},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761970152802,"stop":1761970154148,"duration":1346},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761970152802,"stop":1761970154147,"duration":1345},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='jacob78@example.com', password='jacob78@example.com', role='nurse') and choose team Team(name='Briggs-Smith est. 2019', workgroup='B570X', careplus_venue_code='B570X', email='wobrien@example.net', phone='+44(0)7700 900898')","time":{"start":1761970154148,"stop":1761970155256,"duration":1108},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1761970154148,"stop":1761970155256,"duration":1108},"status":"passed","steps":[{"name":"Log in as User(username='jacob78@example.com', password='jacob78@example.com', role='nurse')","time":{"start":1761970154148,"stop":1761970155208,"duration":1060},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1761970154148,"stop":1761970155208,"duration":1060},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='jacob78@example.com', password='jacob78@example.com', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='jacob78@example.com', password='jacob78@example.com', role='nurse'), Team(name='Briggs-Smith est. 2019', workgroup='B570X', careplus_venue_code='B570X', email='wobrien@example.net', phone='+44(0)7700 900898'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"vaccines_page","time":{"start":1761970155256,"stop":1761970155256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_vaccine_batch","time":{"start":1761970155256,"stop":1761970155257,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_batch_page","time":{"start":1761970155256,"stop":1761970155256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1761970155257,"stop":1761970155257,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1761970155257,"stop":1761970155263,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1761970155264,"stop":1761970155265,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"import_records_page","time":{"start":1761970155265,"stop":1761970155265,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1761970155265,"stop":1761970155266,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reports_vaccinations_page","time":{"start":1761970155266,"stop":1761970155266,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"refresh_and_setup_recording_injected_flu","time":{"start":1761970155266,"stop":1761970203518,"duration":48252},"status":"passed","steps":[{"name":"Navigate to and refresh Reports","time":{"start":1761970155266,"stop":1761970186686,"duration":31420},"status":"passed","steps":[{"name":"Navigate to and refresh Reports","time":{"start":1761970155266,"stop":1761970186686,"duration":31420},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to dashboard","time":{"start":1761970186686,"stop":1761970186991,"duration":305},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761970186687,"stop":1761970186991,"duration":304},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to vaccines page","time":{"start":1761970186991,"stop":1761970187308,"duration":317},"status":"passed","steps":[{"name":"Go to vaccines page","time":{"start":1761970186991,"stop":1761970187308,"duration":317},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Add batch for 'Cell-based Trivalent Influenza Vaccine Seqirus'","time":{"start":1761970187308,"stop":1761970187527,"duration":219},"status":"passed","steps":[{"name":"Add batch for {1}","time":{"start":1761970187309,"stop":1761970187527,"duration":218},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Vaccine.SEQUIRUS: 'Cell-based Trivalent Influenza Vaccine Seqirus'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in name with 'ABC123'","time":{"start":1761970187527,"stop":1761970187581,"duration":54},"status":"passed","steps":[{"name":"Fill in name with {1}","time":{"start":1761970187528,"stop":1761970187581,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('ABC123',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in expiry date with datetime.date(2025, 11, 2)","time":{"start":1761970187581,"stop":1761970187627,"duration":46},"status":"passed","steps":[{"name":"Fill in expiry date with {1}","time":{"start":1761970187581,"stop":1761970187627,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(datetime.date(2025, 11, 2),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Confirm add batch","time":{"start":1761970187627,"stop":1761970188115,"duration":488},"status":"passed","steps":[{"name":"Confirm add batch","time":{"start":1761970187627,"stop":1761970188115,"duration":488},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761970188115,"stop":1761970188363,"duration":248},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761970188115,"stop":1761970188363,"duration":248},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761970188363,"stop":1761970188661,"duration":298},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761970188363,"stop":1761970188661,"duration":298},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'flu' session at School(name='Greenway Junior School', urn='138492', site=None)","time":{"start":1761970188661,"stop":1761970189447,"duration":786},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761970188661,"stop":1761970189447,"duration":786},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Greenway Junior School', urn='138492', site=None), <Programme.FLU: 'flu'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import class lists","time":{"start":1761970189455,"stop":1761970189847,"duration":392},"status":"passed","steps":[{"name":"Click on Import class lists","time":{"start":1761970189455,"stop":1761970189847,"duration":392},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970189944,"stop":1761970190700,"duration":756},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970189944,"stop":1761970190700,"duration":756},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.FIXED_CHILD20251101040950.csv')","time":{"start":1761970190710,"stop":1761970190747,"duration":37},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1761970190710,"stop":1761970190747,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.FIXED_CHILD20251101040950.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970191747,"stop":1761970192406,"duration":659},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970191747,"stop":1761970192406,"duration":659},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1761970192563,"stop":1761970195187,"duration":2624},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1761970192563,"stop":1761970195187,"duration":2624},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":30,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"verbal_consent_page","time":{"start":1761970203518,"stop":1761970203519,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children_page","time":{"start":1761970203518,"stop":1761970203518,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"record_injected_flu","time":{"start":1761970203519,"stop":1761970220324,"duration":16805},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761970203519,"stop":1761970203710,"duration":191},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761970203519,"stop":1761970203710,"duration":191},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761970203710,"stop":1761970203978,"duration":268},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761970203710,"stop":1761970203978,"duration":268},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'flu' session at School(name='Greenway Junior School', urn='138492', site=None)","time":{"start":1761970203978,"stop":1761970204749,"duration":771},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761970203978,"stop":1761970204749,"duration":771},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Greenway Junior School', urn='138492', site=None), <Programme.FLU: 'flu'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Consent tab","time":{"start":1761970204749,"stop":1761970205076,"duration":327},"status":"passed","steps":[{"name":"Click on Consent tab","time":{"start":1761970204749,"stop":1761970205076,"duration":327},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on child Child(first_name='Simon', last_name='PAGE', nhs_number='9983323931', address=('Studio 61', 'Allan union', 'Judithborough', 'B55 2YN'), date_of_birth=datetime.date(2015, 12, 13), year_group=5, parents=(Parent(full_name='Jack Swift', relationship='Dad', email_address='donalddavies@example.org'), Parent(full_name='Victoria Austin', relationship='Mum', email_address='msmith@example.com')))","time":{"start":1761970205708,"stop":1761970206236,"duration":528},"status":"passed","steps":[{"name":"Click on child {1}","time":{"start":1761970205709,"stop":1761970206236,"duration":527},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(Child(first_name='Simon', last_name='PAGE', nhs_number='9983323931', address=('Studio 61', 'Allan union', 'Judithborough', 'B55 2YN'), date_of_birth=datetime.date(2015, 12, 13), year_group=5, parents=(Parent(full_name='Jack Swift', relationship='Dad', email_address='donalddavies@example.org'), Parent(full_name='Victoria Austin', relationship='Mum', email_address='msmith@example.com'))),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'flu' tab","time":{"start":1761970206236,"stop":1761970206254,"duration":18},"status":"passed","steps":[{"name":"Click on {1} tab","time":{"start":1761970206236,"stop":1761970206254,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record a new consent response","time":{"start":1761970206254,"stop":1761970208078,"duration":1824},"status":"passed","steps":[{"name":"Click on Record a new consent response","time":{"start":1761970206254,"stop":1761970208078,"duration":1824},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'Jack Swift (Dad)' radio button","time":{"start":1761970208078,"stop":1761970208165,"duration":87},"status":"passed","steps":[{"name":"Click on {1} radio button","time":{"start":1761970208078,"stop":1761970208165,"duration":87},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Jack Swift (Dad)',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970208165,"stop":1761970208821,"duration":656},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970208165,"stop":1761970208821,"duration":656},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970208822,"stop":1761970209528,"duration":706},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970208822,"stop":1761970209528,"duration":706},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select consent method","time":{"start":1761970209528,"stop":1761970209624,"duration":96},"status":"passed","steps":[{"name":"Select consent method","time":{"start":1761970209528,"stop":1761970209624,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<ConsentMethod.IN_PERSON: 'In person'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970209624,"stop":1761970210293,"duration":669},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970209624,"stop":1761970210293,"duration":669},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Yes, for the injected vaccine only","time":{"start":1761970210293,"stop":1761970210379,"duration":86},"status":"passed","steps":[{"name":"Click on Yes, for the injected vaccine only","time":{"start":1761970210293,"stop":1761970210379,"duration":86},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970210379,"stop":1761970211008,"duration":629},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970210379,"stop":1761970211008,"duration":629},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Does your child have a bleeding disorder or are they taking anticoagulant therapy?'","time":{"start":1761970211008,"stop":1761970211102,"duration":94},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761970211008,"stop":1761970211102,"duration":94},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.BLEEDING_DISORDER_FLU: 'Does your child have a bleeding disorder or are they taking anticoagulant therapy?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Has your child had a severe allergic reaction (anaphylaxis) to a previous dose of the injected flu vaccine, or any ingredient of the vaccine?'","time":{"start":1761970211103,"stop":1761970211154,"duration":51},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761970211103,"stop":1761970211154,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.SEVERE_ALLERGIC_REACTION_INJECTED: 'Has your child had a severe allergic reaction (anaphylaxis) to a previous dose of the injected flu vaccine, or any ingredient of the vaccine?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Does your child have any other medical conditions the immunisation team should be aware of?'","time":{"start":1761970211154,"stop":1761970211207,"duration":53},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761970211154,"stop":1761970211206,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.MEDICAL_CONDITIONS_FLU: 'Does your child have any other medical conditions the immunisation team should be aware of?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Has your child had a flu vaccination in the last 3 months?'","time":{"start":1761970211207,"stop":1761970211239,"duration":32},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761970211207,"stop":1761970211239,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.FLU_PREVIOUSLY: 'Has your child had a flu vaccination in the last 3 months?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Does your child need extra support during vaccination sessions?'","time":{"start":1761970211239,"stop":1761970211272,"duration":33},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761970211239,"stop":1761970211272,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.EXTRA_SUPPORT: 'Does your child need extra support during vaccination sessions?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761970211272,"stop":1761970211934,"duration":662},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761970211272,"stop":1761970211934,"duration":662},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Confirm","time":{"start":1761970211934,"stop":1761970213723,"duration":1789},"status":"passed","steps":[{"name":"Click Confirm","time":{"start":1761970211934,"stop":1761970213723,"duration":1789},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Register tab","time":{"start":1761970213723,"stop":1761970214043,"duration":320},"status":"passed","steps":[{"name":"Click on Register tab","time":{"start":1761970213723,"stop":1761970214043,"duration":320},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'PAGE, Simon'","time":{"start":1761970214043,"stop":1761970214286,"duration":243},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1761970214043,"stop":1761970214286,"duration":243},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('PAGE, Simon',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Attending","time":{"start":1761970214286,"stop":1761970215771,"duration":1485},"status":"passed","steps":[{"name":"Click on Attending","time":{"start":1761970214286,"stop":1761970215771,"duration":1485},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record vaccinations","time":{"start":1761970215771,"stop":1761970216190,"duration":419},"status":"passed","steps":[{"name":"Click on Record vaccinations","time":{"start":1761970215771,"stop":1761970216190,"duration":419},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'PAGE, Simon'","time":{"start":1761970216190,"stop":1761970216438,"duration":248},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1761970216190,"stop":1761970216438,"duration":248},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('PAGE, Simon',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'flu' tab","time":{"start":1761970216746,"stop":1761970216819,"duration":73},"status":"passed","steps":[{"name":"Click on {1} tab","time":{"start":1761970216746,"stop":1761970216819,"duration":73},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Confirm pre-screening checks are true","time":{"start":1761970216820,"stop":1761970216976,"duration":156},"status":"passed","steps":[{"name":"Confirm pre-screening checks are true","time":{"start":1761970216820,"stop":1761970216976,"duration":156},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>, <ConsentOption.INJECTION: 'Injection'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Yes","time":{"start":1761970217002,"stop":1761970217021,"duration":19},"status":"passed","steps":[{"name":"Click on Yes","time":{"start":1761970217002,"stop":1761970217021,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(Child(first_name='Simon', last_name='PAGE', nhs_number='9983323931', address=('Studio 61', 'Allan union', 'Judithborough', 'B55 2YN'), date_of_birth=datetime.date(2015, 12, 13), year_group=5, parents=(Parent(full_name='Jack Swift', relationship='Dad', email_address='donalddavies@example.org'), Parent(full_name='Victoria Austin', relationship='Mum', email_address='msmith@example.com'))),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Yes","time":{"start":1761970217021,"stop":1761970217076,"duration":55},"status":"passed","steps":[{"name":"Click on Yes","time":{"start":1761970217021,"stop":1761970217076,"duration":55},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<ConsentOption.INJECTION: 'Injection'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select vaccination site 'Left arm (upper position)'","time":{"start":1761970217076,"stop":1761970217154,"duration":78},"status":"passed","steps":[{"name":"Select vaccination site {1}","time":{"start":1761970217076,"stop":1761970217154,"duration":78},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<DeliverySite.LEFT_ARM_UPPER: 'Left arm (upper position)'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Continue","time":{"start":1761970217154,"stop":1761970217814,"duration":660},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1761970217154,"stop":1761970217814,"duration":660},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Choose batch 'ABC123'","time":{"start":1761970217814,"stop":1761970218551,"duration":737},"status":"passed","steps":[{"name":"Choose batch {1}","time":{"start":1761970217814,"stop":1761970218551,"duration":737},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1761970217899,"stop":1761970218551,"duration":652},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1761970217899,"stop":1761970218551,"duration":652},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('ABC123',)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Confirm","time":{"start":1761970218609,"stop":1761970220275,"duration":1666},"status":"passed","steps":[{"name":"Click on Confirm","time":{"start":1761970218609,"stop":1761970220275,"duration":1666},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":70,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"vaccination_record_page","time":{"start":1761970220324,"stop":1761970220324,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"edit_vaccination_record_page","time":{"start":1761970220324,"stop":1761970220324,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: Verify reporting values update correctly after vaccination and edit.\nSteps:\n1. Record a flu vaccination for a child and verify initial reporting values.\n2. Refresh reports and check that the cohort and vaccination percentages update.\n3. Edit the child's vaccination record to mark the outcome as refused.\n4. Refresh reports and verify that the reporting values reflect the refusal.\nVerification:\n- After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.\n- After marking as refused, report shows 0 more vaccinated and\n  1 more not vaccinated.\n","status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.check: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"radio\", name=\"flu\")","statusTrace":"record_injected_flu = (Child(first_name='Simon', last_name='PAGE', nhs_number='9983323931', address=('Studio 61', 'Allan union', 'Judithboro...mith@example.com'))), datetime.datetime(2025, 11, 1, 4, 10, 20, 323583, tzinfo=zoneinfo.ZoneInfo(key='Europe/London')))\nschools = {'HPV': [School(name='Hazel Oak School', urn='104130', site=None), School(name='Bank View High School', urn='133441', ...reenway Junior School', urn='138492', site=None), School(name=\"St Stephen's Primary School\", urn='124084', site=None)]}\nreports_vaccinations_page = <mavis.test.pages.reports.ReportsVaccinationsPage object at 0x7ff68d461090>\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7ff68d70fac0>\nchildren_page = <mavis.test.pages.children.ChildrenPage object at 0x7ff68d276690>\nvaccination_record_page = <mavis.test.pages.vaccination_record.VaccinationRecordPage object at 0x7ff68d462850>\nedit_vaccination_record_page = <mavis.test.pages.vaccination_record.EditVaccinationRecordPage object at 0x7ff68d463d90>\n\n    def test_report_view(\n        record_injected_flu,\n        schools,\n        reports_vaccinations_page,\n        dashboard_page,\n        children_page,\n        vaccination_record_page,\n        edit_vaccination_record_page,\n    ):\n        \"\"\"\n        Test: Verify reporting values update correctly after vaccination and edit.\n        Steps:\n        1. Record a flu vaccination for a child and verify initial reporting values.\n        2. Refresh reports and check that the cohort and vaccination percentages update.\n        3. Edit the child's vaccination record to mark the outcome as refused.\n        4. Refresh reports and verify that the reporting values reflect the refusal.\n        Verification:\n        - After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.\n        - After marking as refused, report shows 0 more vaccinated and\n          1 more not vaccinated.\n        \"\"\"\n    \n        child, _ = record_injected_flu\n        school = schools[Programme.FLU][0]\n    \n        reports_vaccinations_page.navigate()\n        reports_vaccinations_page.check_filter_for_programme(Programme.FLU)\n    \n        vaccinated_count = reports_vaccinations_page.get_children_count(\"Vaccinated\")\n        unvaccinated_count = reports_vaccinations_page.get_children_count(\"Not vaccinated\")\n    \n        (\n            expected_cohort_count,\n            expected_unvaccinated_percentage,\n            expected_vaccinated_percentage,\n        ) = reports_vaccinations_page.get_expected_cohort_and_percentage_strings(\n            unvaccinated_count, vaccinated_count\n        )\n    \n        reports_vaccinations_page.check_cohort_has_n_children(expected_cohort_count)\n        reports_vaccinations_page.check_category_percentage(\n            \"Not vaccinated\", expected_unvaccinated_percentage\n        )\n        reports_vaccinations_page.check_category_percentage(\n            \"Vaccinated\", expected_vaccinated_percentage\n        )\n    \n        reports_vaccinations_page.navigate_and_refresh_reports()\n>       reports_vaccinations_page.check_filter_for_programme(Programme.FLU)\n\ntests/test_reporting_values.py:135: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/annotations.py:35: in wrapper\n    return_value = func(self, *args, **kwargs)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nmavis/test/pages/reports.py:48: in check_filter_for_programme\n    self.page.get_by_role(\"radio\", name=programme).check()\n.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py:15451: in check\n    self._sync(\n.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py:145: in check\n    return await self._frame.check(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py:829: in check\n    await self._channel.send(\"check\", self._timeout, locals_to_params(locals()))\n.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7ff6b93adbe0>\ncb = <function Channel.send.<locals>.<lambda> at 0x7ff69e570930>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.check: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"radio\", name=\"flu\")\n\n.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py:558: TimeoutError","steps":[{"name":"Go to Reports page","time":{"start":1761970220325,"stop":1761970222081,"duration":1756},"status":"passed","steps":[{"name":"Go to Reports page","time":{"start":1761970220325,"stop":1761970222081,"duration":1756},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click 'flu'","time":{"start":1761970222081,"stop":1761970222153,"duration":72},"status":"passed","steps":[{"name":"Click {1}","time":{"start":1761970222081,"stop":1761970222153,"duration":72},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check cohort has '0' children","time":{"start":1761970222161,"stop":1761970222172,"duration":11},"status":"passed","steps":[{"name":"Check cohort has {1} children","time":{"start":1761970222161,"stop":1761970222172,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('0',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check category 'Not vaccinated' percentage is '0'%","time":{"start":1761970222172,"stop":1761970222181,"duration":9},"status":"passed","steps":[{"name":"Check category {1} percentage is {2}%","time":{"start":1761970222172,"stop":1761970222181,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Not vaccinated', '0')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check category 'Vaccinated' percentage is '0'%","time":{"start":1761970222182,"stop":1761970222186,"duration":4},"status":"passed","steps":[{"name":"Check category {1} percentage is {2}%","time":{"start":1761970222182,"stop":1761970222186,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Vaccinated', '0')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Navigate to and refresh Reports","time":{"start":1761970222187,"stop":1761970253003,"duration":30816},"status":"passed","steps":[{"name":"Navigate to and refresh Reports","time":{"start":1761970222187,"stop":1761970253003,"duration":30816},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click 'flu'","time":{"start":1761970253003,"stop":1761970283086,"duration":30083},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.check: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"radio\", name=\"flu\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/reports.py\", line 48, in check_filter_for_programme\n    self.page.get_by_role(\"radio\", name=programme).check()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15451, in check\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.check(\n        ^^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 145, in check\n    return await self._frame.check(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 829, in check\n    await self._channel.send(\"check\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Click {1}","time":{"start":1761970253003,"stop":1761970283085,"duration":30082},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.check: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"radio\", name=\"flu\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/reports.py\", line 48, in check_filter_for_programme\n    self.page.get_by_role(\"radio\", name=programme).check()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15451, in check\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.check(\n        ^^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 145, in check\n    return await self._frame.check(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 829, in check\n    await self._channel.send(\"check\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[],"attachments":[{"uid":"75276a01f01e75b1","name":"Screenshot on failure","source":"75276a01f01e75b1.png","type":"image/png","size":2945}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":14,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"refresh_and_setup_recording_injected_flu::0","time":{"start":1761970283193,"stop":1761970284449,"duration":1256},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761970283193,"stop":1761970283493,"duration":300},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761970283193,"stop":1761970283493,"duration":300},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761970283493,"stop":1761970283700,"duration":207},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761970283493,"stop":1761970283700,"duration":207},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761970283700,"stop":1761970283971,"duration":271},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761970283700,"stop":1761970283971,"duration":271},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"log_in_as_nurse::0","time":{"start":1761970284452,"stop":1761970285274,"duration":822},"status":"passed","steps":[{"name":"Log out","time":{"start":1761970284452,"stop":1761970285274,"duration":822},"status":"passed","steps":[{"name":"Log out","time":{"start":1761970284452,"stop":1761970285274,"duration":822},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"new_context::0","time":{"start":1761970285275,"stop":1761970285284,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1761970285275,"stop":1761970285275,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1761970285285,"stop":1761970285285,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1761970285288,"stop":1761970285288,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1761970285289,"stop":1761970285381,"duration":92},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1761970285382,"stop":1761970285392,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1761970285393,"stop":1761970289074,"duration":3681},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_reporting_values"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"5978-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_reporting_values"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"8422ea1e33f7fc91","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.check: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"radio\", name=\"flu\")","time":{"start":1761970060636,"stop":1761970150277,"duration":89641}},{"uid":"cfc2dc84a801ec52","status":"failed","statusDetails":"AssertionError: Locator expected to contain text '1 child'\nActual value: \n        \n\n          \n    \n      \n\n      \nImport (1 November 2025 at 4:06am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on1 November 2025 at 4:06amImported byNURSE, NurseUploaded fileClassFileMapping.FIXED_CHILD20251101040618.csvTypeClass listYear groupsYear 5\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for class lists\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesCHILD_FIRST_NAMERequired, must use alphabetical characters (you can include accents like Chloë, hyphens like Anne-Marie or apostrophes like D'Arcy but no other special characters).CHILD_LAST_NAMERequired, must use alphabetical characters (you can include accents like Jiménez, hyphens like Burne-Jones or apostrophes like O'Hare but no other special characters).CHILD_PREFERRED_FIRST_NAMEOptional, must use alphabetical characters (you can include accents like Chloë, hyphens like Anne-Marie or apostrophes like D'Arcy but no other special characters).CHILD_PREFERRED_LAST_NAMEOptional, must use alphabetical characters (you can include accents like Jiménez, hyphens like Burne-Jones or apostrophes like O'Hare but no other special characters).CHILD_DATE_OF_BIRTHRequired, must use DD/MM/YYYY or YYYY-MM-DD format.CHILD_YEAR_GROUPOptional, numeric, the child’s year group, for example 8. If present, and when the child’s date of birth would place them in a different year, this value can be used to override the cohort the child will be placed in.CHILD_REGISTRATIONOptional, the child’s registration group, for example 8T5.CHILD_NHS_NUMBEROptional, must be 10 digits and numeric.CHILD_GENDEROptional, must be one of: Male, Female, Not known or Not specified.CHILD_ADDRESS_LINE_1OptionalCHILD_ADDRESS_LINE_2OptionalCHILD_TOWNOptionalCHILD_POSTCODEOptional, must be formatted as a valid postcode.PARENT_1_NAMEOptional, must use alphabetical characters (you can include accents like Chloë, hyphens like Anne-Marie or apostrophes like D'Arcy but no other special characters).PARENT_1_RELATIONSHIPOptional, must be one of: Mum, Dad or Guardian.PARENT_1_EMAILOptional, must be formatted as a valid email address.PARENT_1_PHONEOptional, must be formatted as a valid phone number.PARENT_2_NAMEOptional, must use alphabetical characters (you can include accents like Chloë, hyphens like Anne-Marie or apostrophes like D'Arcy but no other special characters).PARENT_2_RELATIONSHIPOptional, must be one of: Mum, Dad or Guardian.PARENT_2_EMAILOptional, must be formatted as a valid email address.PARENT_2_PHONEOptional, must be formatted as a valid phone number.\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  CHILD_YEAR_GROUP: is not part of this programme\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n       \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"main\")\n    9 × locator resolved to <main role=\"main\" id=\"main-content\" class=\"nhsuk-main-wrapper\">…</main>\n      - unexpected value \"\n        \n\n          \n    \n      \n\n      \nImport (1 November 2025 at 4:06am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on1 November 2025 at 4:06amImported byNURSE, NurseUploaded fileClassFileMapping.FIXED_CHILD20251101040618.csvTypeClass listYear groupsYear 5\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for class lists\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesCHILD_FIRST_NAMERequired, must use alphabetical characters (you can include accents like Chloë, hyphens like Anne-Marie or apostrophes like D'Arcy but no other special characters).CHILD_LAST_NAMERequired, must use alphabetical characters (you can include accents like Jiménez, hyphens like Burne-Jones or apostrophes like O'Hare but no other special characters).CHILD_PREFERRED_FIRST_NAMEOptional, must use alphabetical characters (you can include accents like Chloë, hyphens like Anne-Marie or apostrophes like D'Arcy but no other special characters).CHILD_PREFERRED_LAST_NAMEOptional, must use alphabetical characters (you can include accents like Jiménez, hyphens like Burne-Jones or apostrophes like O'Hare but no other special characters).CHILD_DATE_OF_BIRTHRequired, must use DD/MM/YYYY or YYYY-MM-DD format.CHILD_YEAR_GROUPOptional, numeric, the child’s year group, for example 8. If present, and when the child’s date of birth would place them in a different year, this value can be used to override the cohort the child will be placed in.CHILD_REGISTRATIONOptional, the child’s registration group, for example 8T5.CHILD_NHS_NUMBEROptional, must be 10 digits and numeric.CHILD_GENDEROptional, must be one of: Male, Female, Not known or Not specified.CHILD_ADDRESS_LINE_1OptionalCHILD_ADDRESS_LINE_2OptionalCHILD_TOWNOptionalCHILD_POSTCODEOptional, must be formatted as a valid postcode.PARENT_1_NAMEOptional, must use alphabetical characters (you can include accents like Chloë, hyphens like Anne-Marie or apostrophes like D'Arcy but no other special characters).PARENT_1_RELATIONSHIPOptional, must be one of: Mum, Dad or Guardian.PARENT_1_EMAILOptional, must be formatted as a valid email address.PARENT_1_PHONEOptional, must be formatted as a valid phone number.PARENT_2_NAMEOptional, must use alphabetical characters (you can include accents like Chloë, hyphens like Anne-Marie or apostrophes like D'Arcy but no other special characters).PARENT_2_RELATIONSHIPOptional, must be one of: Mum, Dad or Guardian.PARENT_2_EMAILOptional, must be formatted as a valid email address.PARENT_2_PHONEOptional, must be formatted as a valid phone number.\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  CHILD_YEAR_GROUP: is not part of this programme\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n      \"","time":{"start":1761969904231,"stop":1761969904231,"duration":0}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"tags":[]},"source":"7b57b6d1a8b90f99.json","parameterValues":[]}