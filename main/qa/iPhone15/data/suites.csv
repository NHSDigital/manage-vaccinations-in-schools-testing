"DESCRIPTION","DURATION IN MS","NAME","PARENT SUITE","START TIME","STATUS","STOP TIME","SUB SUITE","SUITE","TEST CLASS","TEST METHOD"
"
Test: Submit an online consent form giving consent for HPV vaccination and
   verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to HPV vaccination.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccine, and
  health question status.
","6364","test_consent_given_for_hpv_vaccination[yes_to_health_questions: False]","tests","Sat Nov 01 05:00:06 GMT 2025","passed","Sat Nov 01 05:00:12 GMT 2025","","test_online_consent_hpv","",""
"
Test: Verify that logging out via the reporting component works correctly.
Steps:
1. Log in as nurse and choose team if necessary.
2. Navigate to the reports page.
3. Log out using the reporting component.
4. Verify the log out page is displayed.
Verification:
- User is successfully logged out and the log out page is shown.
","4240","test_log_out_via_reporting_component","tests","Sat Nov 01 05:06:05 GMT 2025","passed","Sat Nov 01 05:06:09 GMT 2025","","test_reporting_downloads","",""
"
Test: Record verbal refusal of consent and verify activity log entry.
Steps:
1. Schedule session and import class list.
2. Record verbal refusal for the child.
3. Select 'consent refused' in session and check activity log.
Verification:
- Activity log contains entry for consent refusal by the parent.
","9343","test_consent_refused_and_activity_log","tests","Sat Nov 01 04:52:27 GMT 2025","passed","Sat Nov 01 04:52:37 GMT 2025","","test_sessions","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","801","test_batch_name_too_long[Gardasil 9]","tests","Sat Nov 01 04:47:11 GMT 2025","passed","Sat Nov 01 04:47:11 GMT 2025","","test_vaccines","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","2617","test_batch_add_change_archive[Nimenrix]","tests","Sat Nov 01 04:46:01 GMT 2025","passed","Sat Nov 01 04:46:03 GMT 2025","","test_vaccines","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","2960","test_batch_add_change_archive[Priorix]","tests","Sat Nov 01 04:46:13 GMT 2025","passed","Sat Nov 01 04:46:16 GMT 2025","","test_vaccines","",""
"
Test: Upload a NIVS historic flu vaccination file for previous years and verify
   it is disallowed.
Steps:
1. Upload a historic flu file for previous years.
Verification:
- Output indicates flu vaccinations for previous years are not allowed.
","2270","test_vaccination_file_upload_nivs_disallow_flu_for_previous_years","tests","Sat Nov 01 04:55:33 GMT 2025","passed","Sat Nov 01 04:55:35 GMT 2025","","test_import_vaccinations","",""
"
Test: Attempt to log in with invalid or empty credentials and verify error message.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Attempt to log in with the given username and password.
Verification:
- Error message is displayed indicating invalid credentials.
","806","test_login_with_invalid_credentials[password: invalid-username: ]","tests","Sat Nov 01 04:49:48 GMT 2025","passed","Sat Nov 01 04:49:49 GMT 2025","","test_log_in","",""
"
Test: Edit the programmes of an existing session and verify changes.
Steps:
1. Open a session with a fixed child.
2. Edit the session to change its programmes.
3. Save changes and verify the updated programmes are reflected.
4. Verify the Flu tab appears for a child in the session.
Verification:
- Session programmes are updated correctly without errors.
","2915","test_editing_session_programmes","tests","Sat Nov 01 04:54:19 GMT 2025","passed","Sat Nov 01 04:54:22 GMT 2025","","test_sessions","",""
"
Test: Log in with valid credentials for each user role and verify dashboard links
   and team information.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Log in as the specified user role and select team if necessary.
3. Verify that all expected dashboard links are visible.
4. Verify that team information is visible in Team page.
5. Log out.
Verification:
- Log out button and all dashboard navigation links are visible after login.
- Team name and email are visible in the Team page.
","2060","test_login_with_valid_credentials[role: medical_secretary]","tests","Sat Nov 01 04:49:53 GMT 2025","passed","Sat Nov 01 04:49:55 GMT 2025","","test_log_in","",""
"
Test: Upload a cohort file with invalid structure and verify error handling.
Steps:
1. Navigate to cohort import page.
2. Upload a file with incorrect structure.
Verification:
- Import fails and structural error is shown.
","2267","test_cohort_upload_with_invalid_structure","tests","Sat Nov 01 04:46:14 GMT 2025","passed","Sat Nov 01 04:46:16 GMT 2025","","test_programmes","",""
"
Test: Download the school moves CSV and verify the headers.
Steps:
1. Setup: Ensure school moves exist by confirming/ignoring moves for two children.
2. Click the download button on the school moves page.
3. Enter a date range and confirm the download.
4. Read the downloaded CSV.
Verification:
- The CSV contains all expected headers for school moves.
- The CSV contains correct data for the two children involved in the school moves.
","2959","test_download_school_moves_csv","tests","Sat Nov 01 05:04:12 GMT 2025","passed","Sat Nov 01 05:04:15 GMT 2025","","test_school_moves","",""
"
Test: Generate and verify CarePlus report for MMR programme.
Steps:
1. Navigate to reports page.
2. Generate CarePlus report for MMR.
Verification:
- Report is generated in CarePlus format for MMR.
","2438","test_verify_careplus_report_for_mmr","tests","Sat Nov 01 04:49:22 GMT 2025","passed","Sat Nov 01 04:49:24 GMT 2025","","test_programmes","",""
"
Test: Click the 'Send reminders' link and PDF download links in sessions and
verify there are no errors.
Steps:
1. Open a session with a fixed child.
2. Click 'Send reminders' link and verify no errors.
3. Attempt to download consent PDFs and verify no errors.
Verification:
- No errors occur when sending reminders or downloading PDFs.
","803","test_session_verify_consent_reminders_and_pdf_downloads","tests","Sat Nov 01 04:53:56 GMT 2025","passed","Sat Nov 01 04:53:56 GMT 2025","","test_sessions","",""
"
Test: Changing a child's NHS number to an invalid value should fail.
Steps:
1. Setup: Import a fixed child class list and navigate to the children page.
2. Search for the child by name.
3. Open the child's record and edit it.
4. Attempt to change the NHS number to an invalid value (""9123456789"").
5. Continue to submit the change.
Verification:
- An alert appears with the message ""Enter a valid NHS number"".
","15801","test_invalid_nhs_number_change_is_rejected","tests","Sat Nov 01 04:59:59 GMT 2025","passed","Sat Nov 01 05:00:15 GMT 2025","","test_children","",""
"
Test: Verify the search functionality within a session.
Steps:
1. Open a session with a random child.
2. Use the search feature to look for children.
Verification:
- Search returns expected results for the session.
","715","test_session_search_functionality","tests","Sat Nov 01 04:50:00 GMT 2025","passed","Sat Nov 01 04:50:01 GMT 2025","","test_sessions","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","811","test_batch_name_too_long[MMR VaxPro]","tests","Sat Nov 01 04:47:26 GMT 2025","passed","Sat Nov 01 04:47:27 GMT 2025","","test_vaccines","",""
"
Test: Verify pre-screening questions are pre-filled correctly when recording
   multiple vaccinations in the same session.
Steps:
1. Setup: Schedule sessions for HPV, doubles, and flu for the same school and
   import a fixed child class list.
2. For each programme group (HPV, doubles, flu):
    a. Navigate to the session and register the child as attending.
    b. Go to the consent tab and search for the child.
    c. For each vaccine in the programme group:
        i. Record verbal consent for the child.
        ii. Record a vaccination for the child with a long notes field.
Verification:
- For each combination of vaccines, the correct pre-screening questions
  (""feeling well"", ""not pregnant"") are pre-filled as described in the docstring.
- Long notes (over 1000 characters) are accepted (MAV-955).
","54840","test_pre_screening_questions_prefilled_for_multiple_vaccinations","tests","Sat Nov 01 05:04:20 GMT 2025","passed","Sat Nov 01 05:05:14 GMT 2025","","test_reset","",""
"
Test: Submit multiple online flu consent forms with different methods and
   verify the correct method is displayed in the session.
Steps:
1. Fill in child and parent details and submit consent with the first method.
2. Submit a second consent for the same child with the
   second method (different parent).
3. Navigate to the session and consent tab.
4. Search for the child and verify the correct consent method is shown.
5. Verify the pattern of consent details text in the offline excel.
Verification:
- The consent method displayed in the session matches the expected method
  from the last consent.
- The consent details in the excel download match the expected pattern.
","30152","test_flu_consent_method_displayed_correctly[consents: (<ConsentOption.BOTH: ''>, <ConsentOption.BOTH: ''>, <ConsentOption.NASAL_SPRAY: 'Nasal spray'>)]","tests","Sat Nov 01 04:52:50 GMT 2025","passed","Sat Nov 01 04:53:20 GMT 2025","","test_online_consent_flu","",""
"
Test: Upload an invalid child list file and verify error handling.
Steps:
1. Navigate to child record import page.
2. Upload a child list file with invalid data.
Verification:
- Output lists errors as expected for each record
Scenarios covered:
EmptyFirstName, EmptyLastName, EmptyURN, EmptyDOB, LongNHSNo, ShortNHSNo,
InvalidPostCode, InvalidParent1Email, InvalidParent2Email, InvalidYearGroup,
SpaceInDOB, InvalidFirstName, InvalidLastName, InvalidParent1Name,InvalidParent2Name
","2223","test_child_list_file_upload_invalid_data","tests","Sat Nov 01 04:54:52 GMT 2025","passed","Sat Nov 01 04:54:54 GMT 2025","","test_import_child_lists","",""
"
Test: A PSD can be created for a child and the vaccination can be
   administered by a healthcare assistant.
Steps:
1. Import child records and set up a session with PSD enabled.
2. Record verbal consent with PSD option for the child.
3. Verify the PSD is created.
4. Log in as a healthcare assistant and administer the vaccination.
Verification:
- The PSD is correctly created and the vaccination is recorded without errors.
","21932","test_delivering_vaccination_after_psd","tests","Sat Nov 01 05:01:30 GMT 2025","passed","Sat Nov 01 05:01:52 GMT 2025","","test_psd","",""
"
Test: Upload an empty vaccination records file and verify error handling.
Steps:
1. Navigate to vaccination records import page.
2. Upload an empty file.
Verification:
- Output indicates error or no records imported.
","1592","test_vaccination_file_upload_empty_file","tests","Sat Nov 01 04:49:42 GMT 2025","passed","Sat Nov 01 04:49:44 GMT 2025","","test_import_vaccinations","",""
"
Test: Verify children page headers and filtering by child name.
Steps:
1. Setup: Import a fixed child class list and navigate to the children page.
2. Search for a child using all filters by name.
3. Verify the table headers are correct.
Verification:
- Assert that exactly one child is found in the results.
","20021","test_children_page_headers_and_filtering","tests","Sat Nov 01 04:58:24 GMT 2025","failed","Sat Nov 01 04:58:44 GMT 2025","","test_children","",""
"
Test: Submit an online consent form giving consent for MMR vaccination and
   verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to MMR vaccination.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccine, and
  health question status.
","11584","test_consent_given_for_mmr_vaccination[consent_option: Either-yes_to_health_questions: False]","tests","Sat Nov 01 04:55:43 GMT 2025","passed","Sat Nov 01 04:55:55 GMT 2025","","test_online_consent_mmr","",""
"
Test: Submit an online consent form giving consent for MMR vaccination and
   verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to MMR vaccination.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccine, and
  health question status.
","11128","test_consent_given_for_mmr_vaccination[consent_option: Without gelatine-yes_to_health_questions: False]","tests","Sat Nov 01 04:54:58 GMT 2025","passed","Sat Nov 01 04:55:10 GMT 2025","","test_online_consent_mmr","",""
"
Test: Generate and verify CarePlus report for MenACWY and Td/IPV programmes.
Steps:
1. Navigate to reports page.
2. Generate CarePlus report for MenACWY.
3. Generate CarePlus report for Td/IPV.
Verification:
- Reports are generated in CarePlus format for both MenACWY and Td/IPV.
","5605","test_verify_careplus_report_for_doubles","tests","Sat Nov 01 04:48:47 GMT 2025","passed","Sat Nov 01 04:48:53 GMT 2025","","test_programmes","",""
"
Test: Submit multiple online flu consent forms with different methods and
   verify the correct method is displayed in the session.
Steps:
1. Fill in child and parent details and submit consent with the first method.
2. Submit a second consent for the same child with the
   second method (different parent).
3. Navigate to the session and consent tab.
4. Search for the child and verify the correct consent method is shown.
5. Verify the pattern of consent details text in the offline excel.
Verification:
- The consent method displayed in the session matches the expected method
  from the last consent.
- The consent details in the excel download match the expected pattern.
","26685","test_flu_consent_method_displayed_correctly[consents: (<ConsentOption.NASAL_SPRAY: 'Nasal spray'>, <ConsentOption.NASAL_SPRAY: 'Nasal spray'>, <ConsentOption.NASAL_SPRAY: 'Nasal spray'>)]","tests","Sat Nov 01 04:48:21 GMT 2025","passed","Sat Nov 01 04:48:48 GMT 2025","","test_online_consent_flu","",""
"
Test: Upload a valid cohort (class list) file and verify successful import.
Steps:
1. Navigate to cohort import page.
2. Upload a valid cohort file.
Verification:
- Import completes successfully with expected records.
","27815","test_cohort_upload_with_valid_file","tests","Sat Nov 01 04:45:31 GMT 2025","passed","Sat Nov 01 04:45:59 GMT 2025","","test_programmes","",""
"
Test: Submit online flu consent for a new child and
change schools.
Steps:
1. Fill in child and parent details and change schools.
2. Verify the school move is created in Mavis and confirm it.
3. Navigate to the session at the new school and go to consent tab.
4. Search for the child and verify the correct consent appears.
Verification:
- The consent method displayed in the session matches the expected method.
","19354","test_online_consent_school_moves_with_new_patient","tests","Sat Nov 01 05:03:25 GMT 2025","passed","Sat Nov 01 05:03:44 GMT 2025","","test_online_consent_school_moves","",""
"
Test: Archive an unmatched consent response and verify it is removed from the list.
Steps:
1. Select a child from the unmatched consent responses.
2. Click the archive button and provide notes.
Verification:
- Archived alert is visible.
- The consent response for the child is no longer visible in the unmatched list.
","1078","test_archive_unmatched_consent_response_removes_from_list","tests","Sat Nov 01 04:56:38 GMT 2025","passed","Sat Nov 01 04:56:39 GMT 2025","","test_consent_responses","",""
"
Test: Submit an online consent form giving consent for one or both
   doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines,
   and health question status.
","8079","test_consent_given_for_doubles_vaccination[yes_to_health_questions: True-programmes: [<Programme.MENACWY: 'MenACWY'>]]","tests","Sat Nov 01 04:55:06 GMT 2025","passed","Sat Nov 01 04:55:14 GMT 2025","","test_online_consent_doubles","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","831","test_batch_name_too_long[Cell-based Trivalent Influenza Vaccine Seqirus]","tests","Sat Nov 01 04:47:06 GMT 2025","passed","Sat Nov 01 04:47:07 GMT 2025","","test_vaccines","",""
"
Test: Archive a child via cohort upload and then unarchive by re-uploading.
Steps:
1. Import a fixed child cohort file.
2. Archive the child from the children page.
3. Re-import the same cohort file.
4. Verify the child is unarchived.
Verification:
- Child is archived after first import and unarchived after second import.
","80312","test_archive_and_unarchive_child_via_cohort_upload","tests","Sat Nov 01 04:46:32 GMT 2025","passed","Sat Nov 01 04:47:53 GMT 2025","","test_programmes","",""
"
Test: Log in with valid credentials for each user role and verify dashboard links
   and team information.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Log in as the specified user role and select team if necessary.
3. Verify that all expected dashboard links are visible.
4. Verify that team information is visible in Team page.
5. Log out.
Verification:
- Log out button and all dashboard navigation links are visible after login.
- Team name and email are visible in the Team page.
","6842","test_login_with_valid_credentials[role: superuser]","tests","Sat Nov 01 04:50:00 GMT 2025","passed","Sat Nov 01 04:50:07 GMT 2025","","test_log_in","",""
"
Test: Submit an online consent form giving consent for one or both
   doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines,
   and health question status.
","7998","test_consent_given_for_doubles_vaccination[yes_to_health_questions: False-programmes: [<Programme.MENACWY: 'MenACWY'>]]","tests","Sat Nov 01 04:54:09 GMT 2025","passed","Sat Nov 01 04:54:17 GMT 2025","","test_online_consent_doubles","",""
"
Test: Check the tallying feature counts as expected
Steps:
1. Record consent for injection, withdraw it, invalidate it,
   provide nasal spray consent and vaccinate.
2. Verify the tally updates correctly after each action.
Verification:
- Tally counts match expected values after each step.
","0","test_tallying","tests","Sat Nov 01 05:04:18 GMT 2025","skipped","Sat Nov 01 05:04:18 GMT 2025","","test_tallying","",""
"
Test: Edit a vaccination dose to 'not given' and verify outcome.
Steps:
1. Navigate to the child in the programme.
2. Edit the vaccination record and change outcome to 'they refused it'.
3. Save changes.
Verification:
- Alert confirms vaccination outcome recorded as refused.
","6044","test_edit_vaccination_dose_to_not_given","tests","Sat Nov 01 04:48:30 GMT 2025","passed","Sat Nov 01 04:48:37 GMT 2025","","test_programmes","",""
"
Test: Submit an online consent form refusing MMR vaccination and
   verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Select 'do not agree' to vaccination.
3. Choose refusal reason and provide details.
4. Submit the consent form.
Verification:
- Confirmation text indicates consent was refused for MMR vaccination.
","4625","test_consent_refused_for_mmr_vaccination","tests","Sat Nov 01 04:54:42 GMT 2025","passed","Sat Nov 01 04:54:47 GMT 2025","","test_online_consent_mmr","",""
"
Test: Generate and verify SystmOne report for MMR programme.
Steps:
1. Navigate to reports page.
2. Generate SystmOne report for MMR.
Verification:
- Report is generated in SystmOne format for MMR.
","2546","test_verify_systmone_report_for_mmr","tests","Sat Nov 01 04:49:33 GMT 2025","passed","Sat Nov 01 04:49:36 GMT 2025","","test_programmes","",""
"
Test: Upload a vaccination file with community clinic name case variations and
   verify correct handling.
Steps:
1. Upload a file with clinic name case variations.
Verification:
- Output indicates clinic names are handled case-insensitively and
   imported correctly.
","2161","test_vaccination_file_upload_community_clinic_name_case","tests","Sat Nov 01 04:56:08 GMT 2025","passed","Sat Nov 01 04:56:10 GMT 2025","","test_import_vaccinations","",""
"
Test: Upload a vaccination file with no URN/care setting and verify location is
   set to school (MAV-855).
Steps:
1. Upload a vaccination file missing care setting.
2. Navigate to children page and search for the child.
3. Open vaccination details for the child.
Verification:
- Vaccination location is displayed as the school.
Scenarios covered: MAV-855
","20818","test_vaccination_file_upload_no_urn_location_mav_855","tests","Sat Nov 01 04:52:33 GMT 2025","passed","Sat Nov 01 04:52:54 GMT 2025","","test_import_vaccinations","",""
"
Test: Attempt to log in with invalid or empty credentials and verify error message.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Attempt to log in with the given username and password.
Verification:
- Error message is displayed indicating invalid credentials.
","744","test_login_with_invalid_credentials[password: invalid-username: invalid]","tests","Sat Nov 01 04:49:50 GMT 2025","passed","Sat Nov 01 04:49:51 GMT 2025","","test_log_in","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","3079","test_batch_add_change_archive[Fluenz]","tests","Sat Nov 01 04:45:30 GMT 2025","passed","Sat Nov 01 04:45:33 GMT 2025","","test_vaccines","",""
"
Test: Match an unmatched consent response to a child and verify activity log.
Steps:
1. Import a fixed child class list for the current year.
2. Navigate to unmatched consent responses and select a child.
3. Click match and complete the matching process.
4. Verify the child is removed from unmatched responses.
5. Go to children page and verify activity log for the matched child.
Verification:
- Matched alert is visible.
- Consent response for the child is no longer visible in unmatched list.
- Activity log for the child shows the match event.
","51337","test_match_unmatched_consent_response_and_verify_activity_log","tests","Sat Nov 01 04:56:59 GMT 2025","passed","Sat Nov 01 04:57:50 GMT 2025","","test_consent_responses","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","852","test_batch_name_too_short[MMR VaxPro]","tests","Sat Nov 01 04:46:50 GMT 2025","passed","Sat Nov 01 04:46:51 GMT 2025","","test_vaccines","",""
"
Test: Submit an online consent form giving consent for one or both
   doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines,
   and health question status.
","7908","test_consent_given_for_doubles_vaccination[yes_to_health_questions: True-programmes: [<Programme.MENACWY: 'MenACWY'>, <Programme.TD_IPV: 'Td/IPV'>]]","tests","Sat Nov 01 04:54:47 GMT 2025","passed","Sat Nov 01 04:54:55 GMT 2025","","test_online_consent_doubles","",""
"
Test: Generate and verify CSV report for MenACWY and Td/IPV programmes.
Steps:
1. Navigate to reports page.
2. Generate CSV report for MenACWY.
3. Generate CSV report for Td/IPV.
Verification:
- Reports are generated in CSV format for both MenACWY and Td/IPV.
","5580","test_verify_csv_report_for_doubles","tests","Sat Nov 01 04:49:02 GMT 2025","passed","Sat Nov 01 04:49:07 GMT 2025","","test_programmes","",""
"
Test: Submit an online consent form giving consent for one or both
   doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines,
   and health question status.
","8648","test_consent_given_for_doubles_vaccination[yes_to_health_questions: False-programmes: [<Programme.MENACWY: 'MenACWY'>, <Programme.TD_IPV: 'Td/IPV'>]]","tests","Sat Nov 01 04:53:50 GMT 2025","passed","Sat Nov 01 04:53:59 GMT 2025","","test_online_consent_doubles","",""
"
Test: Upload a child list file with extra whitespace and verify normalization.
Steps:
1. Upload a file with whitespace issues.
2. Navigate to children page.
3. Verify the list is normalized and imported correctly.
Verification:
- Imported list matches expected normalized data.
","87188","test_child_list_file_upload_whitespace_normalization","tests","Sat Nov 01 04:55:18 GMT 2025","passed","Sat Nov 01 04:56:46 GMT 2025","","test_import_child_lists","",""
"
Test: Upload a child list file with invalid structure and verify error handling.
Steps:
1. Navigate to child record import page.
2. Upload a file with incorrect structure.
Verification:
- Output indicates structural errors.
","2129","test_child_list_file_upload_invalid_structure","tests","Sat Nov 01 04:54:59 GMT 2025","passed","Sat Nov 01 04:55:01 GMT 2025","","test_import_child_lists","",""
"
Test: Verify attendance filters on the register tab work as expected.
Steps:
1. Open the register tab in a session.
2. Check and uncheck year group checkboxes and update results.
3. Use advanced filters to include archived records.
Verification:
- Search summary updates correctly as filters are applied and removed.
","1323","test_attendance_filters_functionality","tests","Sat Nov 01 04:49:26 GMT 2025","passed","Sat Nov 01 04:49:27 GMT 2025","","test_sessions","",""
"
Test: Upload a class list file with extra whitespace and verify normalization.
Steps:
1. Upload a file with whitespace issues.
2. Navigate to children page.
3. Verify the list is normalized and imported correctly.
Verification:
- Imported list matches expected normalized data.
","74901","test_class_list_file_upload_whitespace_normalization","tests","Sat Nov 01 04:53:05 GMT 2025","passed","Sat Nov 01 04:54:20 GMT 2025","","test_import_class_lists","",""
"
Test: Submit multiple online flu consent forms with different methods and
   verify the correct method is displayed in the session.
Steps:
1. Fill in child and parent details and submit consent with the first method.
2. Submit a second consent for the same child with the
   second method (different parent).
3. Navigate to the session and consent tab.
4. Search for the child and verify the correct consent method is shown.
5. Verify the pattern of consent details text in the offline excel.
Verification:
- The consent method displayed in the session matches the expected method
  from the last consent.
- The consent details in the excel download match the expected pattern.
","20230","test_flu_consent_method_displayed_correctly[consents: (<ConsentOption.INJECTION: 'Injection'>, <ConsentOption.INJECTION: 'Injection'>, <ConsentOption.INJECTION: 'Injection'>)]","tests","Sat Nov 01 04:49:33 GMT 2025","passed","Sat Nov 01 04:49:53 GMT 2025","","test_online_consent_flu","",""
"
Test: Record two consents from the same parent (positive then refusal)
   and verify activity log.
Steps:
1. Open the session and consent tab for the child.
2. Record a written positive consent for parent 1.
3. Record a triage outcome as safe to vaccinate.
4. Record a verbal refusal for the same parent.
5. Check the consent refused text and session activity log.
Verification:
- Consent refused text is shown for the parent.
- Activity log contains entries for refusal, triage, and initial consent.
","20653","test_parent_provides_consent_twice","tests","Sat Nov 01 05:01:46 GMT 2025","passed","Sat Nov 01 05:02:07 GMT 2025","","test_verbal_consent","",""
"
Test: Upload an empty cohort file and verify error handling.
Steps:
1. Navigate to cohort import page.
2. Upload an empty file.
Verification:
- Import fails and error is shown.
","1671","test_cohort_upload_with_empty_file","tests","Sat Nov 01 04:46:26 GMT 2025","passed","Sat Nov 01 04:46:28 GMT 2025","","test_programmes","",""
"
Test: Upload an empty class list file and verify error handling.
Steps:
1. Navigate to class list import page for the correct school and year group.
2. Upload an empty file.
Verification:
- Output indicates error or no records imported.
","5741","test_class_list_file_upload_empty_file","tests","Sat Nov 01 04:52:33 GMT 2025","passed","Sat Nov 01 04:52:38 GMT 2025","","test_import_class_lists","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","800","test_batch_name_too_long[Priorix]","tests","Sat Nov 01 04:47:31 GMT 2025","passed","Sat Nov 01 04:47:32 GMT 2025","","test_vaccines","",""
"
Test: Upload a valid class list file and verify successful import.
Steps:
1. Navigate to class list import page for the correct school and year group.
2. Upload a valid class list file.
Verification:
- Output indicates successful import of records.
Scenarios covered:
AllValidValues, YearGroupOverride, SameYearGroup, EmptyPostCode, EmptyYearGroup,
UnicodeApostrophe1, UnicodeApostrophe2, UnicodeApostrophe3, DuplicateEmail
","70047","test_class_list_file_upload_valid_data","tests","Sat Nov 01 04:50:27 GMT 2025","passed","Sat Nov 01 04:51:37 GMT 2025","","test_import_class_lists","",""
"
Test: Verify that the downloaded report contains all expected headers.
Steps:
1. Navigate to the reports page.
2. Select TD/IPV programme and all variables.
3. Download the report.
Verification:
- The report contains all expected column headers.
","32351","test_report_has_all_expected_headers","tests","Sat Nov 01 05:05:32 GMT 2025","broken","Sat Nov 01 05:06:05 GMT 2025","","test_reporting_downloads","",""
"
Test: Upload a class list file with invalid structure and verify error handling.
Steps:
1. Navigate to class list import page for the correct school and year group.
2. Upload a file with incorrect structure.
Verification:
- Output indicates structural errors.
","6110","test_class_list_file_upload_invalid_structure","tests","Sat Nov 01 04:52:03 GMT 2025","passed","Sat Nov 01 04:52:09 GMT 2025","","test_import_class_lists","",""
"
Test: Submit an online consent form giving consent for flu vaccination
   (nasal spray, injection, or both) and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Agree to flu vaccination, selecting the consent option
   (nasal spray, injection, or both).
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, consent option,
  and health question status.
","7703","test_consent_given_for_flu_vaccination[yes_to_health_questions: False-consent_option: Injection]","tests","Sat Nov 01 04:46:14 GMT 2025","passed","Sat Nov 01 04:46:21 GMT 2025","","test_online_consent_flu","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","747","test_batch_name_too_short[Gardasil 9]","tests","Sat Nov 01 04:46:33 GMT 2025","passed","Sat Nov 01 04:46:34 GMT 2025","","test_vaccines","",""
"
Test: Upload a vaccination records file with extra whitespace and
   verify normalization.
Steps:
1. Upload a file with whitespace issues.
2. Navigate to children page.
3. Verify the list is normalized and imported correctly.
Verification:
- Imported list matches expected normalized data.
Scenarios covered:
TwoSpaces, Tabs, NBSP (non-breaking space), ZWJ (zero-width joiner)
","72624","test_vaccination_file_upload_whitespace_normalization","tests","Sat Nov 01 04:53:49 GMT 2025","passed","Sat Nov 01 04:55:01 GMT 2025","","test_import_vaccinations","",""
"
Test: Submit an online consent form refusing flu vaccination and
   verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Select 'do not agree' to vaccination.
3. Choose refusal reason and provide details.
4. Submit the consent form.
Verification:
- Confirmation text indicates consent was refused for flu vaccination.
","4867","test_consent_refused_for_flu_vaccination","tests","Sat Nov 01 04:45:36 GMT 2025","passed","Sat Nov 01 04:45:41 GMT 2025","","test_online_consent_flu","",""
"
Test: Record a paper refusal and verify the consent refused checkbox is checked.
Steps:
1. Open a session with a fixed child.
2. Review a child with no response and record a paper refusal.
3. Go to the overview tab and review consent refused.
Verification:
- Consent refused checkbox is checked for the child.
","8471","test_consent_filters","tests","Sat Nov 01 04:50:26 GMT 2025","passed","Sat Nov 01 04:50:34 GMT 2025","","test_sessions","",""
"
Test: Upload a vaccination records file with only headers and verify no records are
   imported.
Steps:
1. Navigate to vaccination records import page.
2. Upload a header-only file.
Verification:
- Output indicates no records imported.
","1597","test_vaccination_file_upload_header_only","tests","Sat Nov 01 04:48:32 GMT 2025","passed","Sat Nov 01 04:48:34 GMT 2025","","test_import_vaccinations","",""
"
Test: Upload a cohort file with only headers and verify no records are imported.
Steps:
1. Navigate to cohort import page.
2. Upload a header-only file.
Verification:
- No records are imported and appropriate message is shown.
","1591","test_cohort_upload_with_header_only_file","tests","Sat Nov 01 04:46:20 GMT 2025","passed","Sat Nov 01 04:46:22 GMT 2025","","test_programmes","",""
"
Test: Upload a valid child list file and verify successful import.
Steps:
1. Navigate to child record import page.
2. Upload a valid child list file.
Verification:
- Output indicates successful import of records.
Scenarios covered:
AllValidValues, Homeschooled, UnknownSchool, YearGroupEmpty, UnicodeApostrophe1,
UnicodeApostrophe2, UnicodeApostrophe3, DuplicateEmail
","14179","test_child_list_file_upload_valid_data","tests","Sat Nov 01 04:54:33 GMT 2025","passed","Sat Nov 01 04:54:47 GMT 2025","","test_import_child_lists","",""
"
Test: Add multiple notes to a session and verify their order in the activity log.
Steps:
1. Open a session with a fixed child.
2. Add two notes in sequence.
3. Refresh and search for the child in the session.
4. Verify the most recent note appears first in the list.
Verification:
- Notes appear in reverse chronological order in the activity log.
","5405","test_session_activity_notes_order","tests","Sat Nov 01 04:51:18 GMT 2025","passed","Sat Nov 01 04:51:23 GMT 2025","","test_sessions","",""
"
Test: End-to-end test for recording an HPV vaccination for a child.
Steps:
1. Setup: Log in as nurse, create session, import class list, and get batch name.
2. Go to online consent URL and fill in child and parent details.
3. Agree to HPV vaccination, fill address, answer health questions, and confirm.
4. Log in as nurse, navigate to session, set session in progress,
   register child as attending.
5. Record HPV vaccination for the child.
Verification:
- Final consent message is shown after online consent.
- Vaccination is recorded for the child in the session.
","17225","test_recording_hpv_vaccination_e2e","tests","Sat Nov 01 04:57:05 GMT 2025","passed","Sat Nov 01 04:57:22 GMT 2025","","test_e2e","",""
"
Test: Create a new child record from an unmatched consent response
   without NHS number.
Steps:
1. Select a child from unmatched consent responses.
2. Click to create a new record and complete the process.
3. Verify the child is removed from unmatched responses.
4. Go to children page and verify activity log for the created child.
Verification:
- Created alert is visible.
- Consent response for the child is no longer visible in unmatched list.
- Activity log for the child shows the creation event.
","17744","test_create_child_record_from_consent_without_nhs_number","tests","Sat Nov 01 04:59:02 GMT 2025","passed","Sat Nov 01 04:59:20 GMT 2025","","test_consent_responses","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","774","test_batch_name_too_short[Menveo]","tests","Sat Nov 01 04:46:42 GMT 2025","passed","Sat Nov 01 04:46:42 GMT 2025","","test_vaccines","",""
"
Test: Submit multiple online flu consent forms with different methods and
   verify the correct method is displayed in the session.
Steps:
1. Fill in child and parent details and submit consent with the first method.
2. Submit a second consent for the same child with the
   second method (different parent).
3. Navigate to the session and consent tab.
4. Search for the child and verify the correct consent method is shown.
5. Verify the pattern of consent details text in the offline excel.
Verification:
- The consent method displayed in the session matches the expected method
  from the last consent.
- The consent details in the excel download match the expected pattern.
","25701","test_flu_consent_method_displayed_correctly[consents: (<ConsentOption.BOTH: ''>, <ConsentOption.INJECTION: 'Injection'>, <ConsentOption.INJECTION: 'Injection'>)]","tests","Sat Nov 01 04:51:55 GMT 2025","passed","Sat Nov 01 04:52:21 GMT 2025","","test_online_consent_flu","",""
"
Test: End-to-end test for recording a flu vaccination for a child.
Steps:
1. Setup: Log in as nurse, create session, import class list, and get batch name.
2. Go to online consent URL and fill in child and parent details.
3. Agree to flu vaccination, fill address, answer health questions, and confirm.
4. Log in as nurse, navigate to session, set session in progress,
   register child as attending.
5. Record flu vaccination for the child.
Verification:
- Final consent message is shown after online consent.
- Vaccination is recorded for the child in the session.
","39657","test_recording_flu_vaccination_e2e","tests","Sat Nov 01 04:58:55 GMT 2025","passed","Sat Nov 01 04:59:34 GMT 2025","","test_e2e","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","712","test_batch_name_too_long[Nimenrix]","tests","Sat Nov 01 04:47:23 GMT 2025","passed","Sat Nov 01 04:47:23 GMT 2025","","test_vaccines","",""
"
Test: Upload an invalid class list file and verify error handling.
Steps:
1. Navigate to class list import page for the correct school and year group.
2. Upload a class list file with invalid data.
Verification:
- Output lists errors as expected for each record
Scenarios covered:
EmptyFirstName, EmptyLastName, EmptyDOB, LongNHSNo, InvalidPostCode,
InvalidParent1Email, InvalidParent2Email, InvalidYearGroup, InvalidFirstName,
InvalidLastName, InvalidPrefFirstName, InvalidPrefLastName, InvalidParent1Name,
InvalidParent2Name
","7895","test_class_list_file_upload_invalid_data","tests","Sat Nov 01 04:51:45 GMT 2025","passed","Sat Nov 01 04:51:53 GMT 2025","","test_import_class_lists","",""
"
Test: End-to-end test for recording MenACWY and Td/IPV (""doubles"") vaccinations
Steps:
1. Setup: Log in as nurse, create session, import class list, and get batch names.
2. Go to online consent URL and fill in child and parent details.
3. Agree to both MenACWY and Td/IPV vaccinations, fill address,
   answer health questions
4. Log in as nurse, navigate to session, set session in progress,
   register child as attending.
5. Record MenACWY and Td/IPV vaccinations for the child.
Verification:
- Final consent message is shown after online consent.
- Both vaccinations are recorded for the child in the session.
","24160","test_recording_doubles_vaccination_e2e","tests","Sat Nov 01 04:58:04 GMT 2025","passed","Sat Nov 01 04:58:28 GMT 2025","","test_e2e","",""
"
Test: Submit an online consent form giving consent for one or both
   doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines,
   and health question status.
","8391","test_consent_given_for_doubles_vaccination[yes_to_health_questions: False-programmes: [<Programme.TD_IPV: 'Td/IPV'>]]","tests","Sat Nov 01 04:54:28 GMT 2025","passed","Sat Nov 01 04:54:36 GMT 2025","","test_online_consent_doubles","",""
"
Test: Generate and verify CSV report for MMR programme.
Steps:
1. Navigate to reports page.
2. Generate CSV report for MMR.
Verification:
- Report is generated in CSV format for MMR.
","2483","test_verify_csv_report_for_mmr","tests","Sat Nov 01 04:49:27 GMT 2025","passed","Sat Nov 01 04:49:30 GMT 2025","","test_programmes","",""
"
Test: Verify the log out page functionality.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Log in as a nurse and choose team if necessary.
3. Navigate to the log out page.
4. Verify the log out page is displayed correctly.
5. Click the log out button and verify redirection to the start page.
Verification:
- Log out page is displayed with the correct heading.
- After logging out, the start page link is visible.
","1891","test_logout_page","tests","Sat Nov 01 04:50:16 GMT 2025","passed","Sat Nov 01 04:50:18 GMT 2025","","test_log_in","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","2783","test_batch_add_change_archive[MenQuadfi]","tests","Sat Nov 01 04:45:48 GMT 2025","passed","Sat Nov 01 04:45:51 GMT 2025","","test_vaccines","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","723","test_batch_name_too_long[MenQuadfi]","tests","Sat Nov 01 04:47:15 GMT 2025","passed","Sat Nov 01 04:47:15 GMT 2025","","test_vaccines","",""
"
Test: Verify that the flu vaccine is not available for selection if not enabled
   in onboarding.
Steps:
1. Retrieve the list of enabled programmes from onboarding.
2. Check the vaccines page for flu vaccine availability.
Verification:
- Flu vaccine is not available for selection if not present in the
  enabled programmes.
","1","test_verify_flu_not_available","tests","Sat Nov 01 04:47:39 GMT 2025","passed","Sat Nov 01 04:47:39 GMT 2025","","test_vaccines","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","2733","test_batch_add_change_archive[Gardasil 9]","tests","Sat Nov 01 04:45:42 GMT 2025","passed","Sat Nov 01 04:45:45 GMT 2025","","test_vaccines","",""
"
Test: Upload a class list file with only headers and verify no
   records are imported.
Steps:
1. Navigate to class list import page for the correct school and year group.
2. Upload a header-only file.
Verification:
- Output indicates no records imported.
","5716","test_class_list_file_upload_header_only","tests","Sat Nov 01 04:52:18 GMT 2025","passed","Sat Nov 01 04:52:24 GMT 2025","","test_import_class_lists","",""
"
Test: Submit an online consent form giving consent for flu vaccination
   (nasal spray, injection, or both) and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Agree to flu vaccination, selecting the consent option
   (nasal spray, injection, or both).
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, consent option,
  and health question status.
","8134","test_consent_given_for_flu_vaccination[yes_to_health_questions: True-consent_option: Injection]","tests","Sat Nov 01 04:47:19 GMT 2025","passed","Sat Nov 01 04:47:27 GMT 2025","","test_online_consent_flu","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","2629","test_batch_add_change_archive[Cell-based Trivalent Influenza Vaccine Seqirus]","tests","Sat Nov 01 04:45:36 GMT 2025","passed","Sat Nov 01 04:45:39 GMT 2025","","test_vaccines","",""
"
Test: Create, edit, and delete an injected flu vaccination record and verify changes
in the IMMS API and Mavis status.
Steps:
1. Setup: Schedule flu session, import class list, add vaccine batch, and
   register child with verbal consent.
2. Create: Record flu vaccination for the child (LEFT_ARM_UPPER).
3. Verify: Check the vaccination record exists in the IMMS API.
   Check Mavis shows ""Synced"".
4. Edit: Change the delivery site to RIGHT_ARM_LOWER and save.
5. Verify: Check the updated vaccination record in the IMMS API.
   Check Mavis still shows ""Synced"".
6. Edit: Change the outcome to ""They refused it"" and save.
7. Verify: Check the vaccination record is removed from the IMMS API.
   Check Mavis shows ""Not synced"".
","24159","test_create_edit_delete_nasal_flu_vaccination_and_verify_imms_api","tests","Sat Nov 01 05:01:55 GMT 2025","passed","Sat Nov 01 05:02:20 GMT 2025","","test_imms_api_flu","",""
"
Test: Merging two child records does not cause a crash (MAV-1839).
Steps:
1. Setup: Import a class list with two fixed children and navigate to the
   children page.
2. Search for the first child by name.
3. Open the first child's record and start the archive (merge) process.
4. Select the second child as the duplicate.
5. Complete the archive/merge.
Verification:
- An alert appears with the message ""This record has been archived""
","15578","test_merge_child_records_does_not_crash","tests","Sat Nov 01 05:00:38 GMT 2025","passed","Sat Nov 01 05:00:53 GMT 2025","","test_children","",""
"
Test: Confirm and ignore school moves for two children and
   verify the correct alerts.
Steps:
1. Setup: Schedule sessions for two schools, upload class lists for both,
   and trigger school moves.
2. Go to the school moves page and locate rows for both children.
3. For the first child, confirm the school move and verify the confirmation alert.
4. For the second child, ignore the school move and verify the ignored alert.
Verification:
- The correct confirmation and ignored alerts are shown for each child.
- The school moves table contains the expected text for both children.
","2603","test_confirm_and_ignore","tests","Sat Nov 01 05:03:30 GMT 2025","passed","Sat Nov 01 05:03:33 GMT 2025","","test_school_moves","",""
"
Test: Upload a class list file with the wrong year group and verify error handling.
Steps:
1. Navigate to class list import page for the correct school and year group.
2. Upload a file with an incorrect year group.
Verification:
- Output indicates year group mismatch or error.
","9302","test_class_list_file_upload_wrong_year_group","tests","Sat Nov 01 04:52:47 GMT 2025","passed","Sat Nov 01 04:52:56 GMT 2025","","test_import_class_lists","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","729","test_batch_name_too_long[Fluenz]","tests","Sat Nov 01 04:47:02 GMT 2025","passed","Sat Nov 01 04:47:03 GMT 2025","","test_vaccines","",""
"
Test: Add and edit Gillick competence assessment for a child.
Steps:
1. Open the session for the school and programme.
2. Navigate to Gillick competence assessment for the child.
3. Add a Gillick competence assessment as competent.
4. Edit the assessment to mark as not competent.
Verification:
- Gillick competence status is updated and reflected for the child.
","31825","test_gillick_competence","tests","Sat Nov 01 04:57:41 GMT 2025","broken","Sat Nov 01 04:58:13 GMT 2025","","test_verbal_consent","",""
"
Test: Generate and verify SystmOne report for MenACWY programme.
Steps:
1. Navigate to reports page.
2. Generate SystmOne report for MenACWY.
Verification:
- Report is generated in SystmOne format for MenACWY.
","2585","test_verify_systmone_report_for_menacwy","tests","Sat Nov 01 04:49:16 GMT 2025","passed","Sat Nov 01 04:49:19 GMT 2025","","test_programmes","",""
"
Test: Submit an online consent form refusing HPV vaccination and
   verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Select 'do not agree' to vaccination.
3. Choose refusal reason and provide details.
4. Submit the consent form.
Verification:
- Confirmation text indicates consent was refused for HPV vaccination.
","4748","test_consent_refused_for_hpv_vaccination","tests","Sat Nov 01 04:59:50 GMT 2025","passed","Sat Nov 01 04:59:55 GMT 2025","","test_online_consent_hpv","",""
"
Test: Validate Gillick competence assessment notes length and update.
Steps:
1. Open the session for the school and programme.
2. Navigate to Gillick competence assessment for the child.
3. Attempt to complete assessment with notes over 1000 characters (should error).
4. Complete assessment with valid notes.
5. Edit assessment and again try to update with notes over 1000
   characters (should error).
Verification:
- Error is shown for notes over 1000 characters.
- Assessment can be completed and updated with valid notes.
","32018","test_gillick_competence_notes","tests","Sat Nov 01 05:00:15 GMT 2025","broken","Sat Nov 01 05:00:47 GMT 2025","","test_verbal_consent","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","751","test_batch_name_too_short[Priorix]","tests","Sat Nov 01 04:46:54 GMT 2025","passed","Sat Nov 01 04:46:55 GMT 2025","","test_vaccines","",""
"
Test: Generate and verify CSV report for HPV programme.
Steps:
1. Navigate to reports page.
2. Generate CSV report for HPV.
Verification:
- Report is generated in CSV format for HPV.
","2578","test_verify_csv_report_for_hpv","tests","Sat Nov 01 04:48:56 GMT 2025","passed","Sat Nov 01 04:48:58 GMT 2025","","test_programmes","",""
"
Test: Record verbal consent and triage outcome for a child in a session.
Steps:
1. Schedule session and import class list.
2. Record verbal consent for the child.
3. Update triage outcome to 'safe to vaccinate'.
Verification:
- Triage outcome is updated and reflected for the child.
","12824","test_triage_consent_given_and_triage_outcome","tests","Sat Nov 01 04:51:49 GMT 2025","passed","Sat Nov 01 04:52:02 GMT 2025","","test_sessions","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","789","test_batch_name_too_short[MenQuadfi]","tests","Sat Nov 01 04:46:37 GMT 2025","passed","Sat Nov 01 04:46:38 GMT 2025","","test_vaccines","",""
"
Test: Generate and verify SystmOne report for HPV programme.
Steps:
1. Navigate to reports page.
2. Generate SystmOne report for HPV.
Verification:
- Report is generated in SystmOne format for HPV.
","2515","test_verify_systmone_report_for_hpv","tests","Sat Nov 01 04:49:10 GMT 2025","passed","Sat Nov 01 04:49:13 GMT 2025","","test_programmes","",""
"
Test: Upload a SystmOne vaccination records file with invalid data and
   verify error handling.
Steps:
1. Navigate to vaccination records import page.
2. Upload a SystmOne file with invalid data.
Verification:
- Output lists errors as expected for each record
Scenarios covered:
EmptyDoB, InvalidDoB, LongerNHSNo, ShorterNHSNo, InvalidVaccsType, InvalidVaccsDose,
InvalidVaccsType, EmptyFirstName, EmptyPostcode, InvalidPostcode, EmptySex,
InvalidSex, EmptyLastName, EmptyEventDate, InvalidEventDate, FutureEventDate,
PastEventDate, InvalidEventTime, FutureEventTime, InvalidSchoolURN, LongBatchNumber,
AllValuesMMR_DoseSeq3
","2307","test_vaccination_file_upload_systmone_invalid_data","tests","Sat Nov 01 04:53:13 GMT 2025","passed","Sat Nov 01 04:53:15 GMT 2025","","test_import_vaccinations","",""
"
Test: Log in with valid credentials for each user role and verify dashboard links
   and team information.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Log in as the specified user role and select team if necessary.
3. Verify that all expected dashboard links are visible.
4. Verify that team information is visible in Team page.
5. Log out.
Verification:
- Log out button and all dashboard navigation links are visible after login.
- Team name and email are visible in the Team page.
","1931","test_login_with_valid_credentials[role: healthcare_assistant]","tests","Sat Nov 01 04:50:09 GMT 2025","passed","Sat Nov 01 04:50:11 GMT 2025","","test_log_in","",""
"
Test: Submit online flu consent for an existing child and
change schools.
Steps:
1. Fill in child and parent details and change schools.
2. Verify the school move is created in Mavis and confirm it.
3. Navigate to the session at the new school and go to consent tab.
4. Search for the child and verify the correct consent appears.
Verification:
- The consent method displayed in the session matches the expected method.
","19143","test_online_consent_school_moves_with_existing_patient","tests","Sat Nov 01 05:02:55 GMT 2025","passed","Sat Nov 01 05:03:14 GMT 2025","","test_online_consent_school_moves","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","800","test_batch_name_too_short[Revaxis]","tests","Sat Nov 01 04:46:58 GMT 2025","passed","Sat Nov 01 04:46:59 GMT 2025","","test_vaccines","",""
"
Test: Submit an online consent form giving consent for MMR vaccination and
   verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to MMR vaccination.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccine, and
  health question status.
","11251","test_consent_given_for_mmr_vaccination[consent_option: Either-yes_to_health_questions: True]","tests","Sat Nov 01 04:56:07 GMT 2025","passed","Sat Nov 01 04:56:18 GMT 2025","","test_online_consent_mmr","",""
"
Test: Upload a vaccination records file with invalid structure and
   verify error handling.
Steps:
1. Navigate to vaccination records import page.
2. Upload a file with incorrect structure.
Verification:
- Output indicates structural errors.
","2278","test_vaccination_file_upload_invalid_structure","tests","Sat Nov 01 04:47:56 GMT 2025","passed","Sat Nov 01 04:47:58 GMT 2025","","test_import_vaccinations","",""
"
Test: Attempt to log in with invalid or empty credentials and verify error message.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Attempt to log in with the given username and password.
Verification:
- Error message is displayed indicating invalid credentials.
","527","test_login_with_invalid_credentials[password: -username: ]","tests","Sat Nov 01 04:49:44 GMT 2025","passed","Sat Nov 01 04:49:44 GMT 2025","","test_log_in","",""
"
Test: Export session data to Excel and send clinic invitations,
   then verify vaccination record.
Steps:
1. Schedule session, import class list, and send clinic invitations.
2. Record verbal consent and register child as attending.
3. Record vaccination for the child at the clinic.
4. Verify vaccination outcome and Excel export.
Verification:
- Vaccination outcome is recorded and session Excel export is available.
","37823","test_verify_excel_export_and_clinic_invitation","tests","Sat Nov 01 04:52:58 GMT 2025","passed","Sat Nov 01 04:53:36 GMT 2025","","test_sessions","",""
"
Test: Create a new child record from an unmatched consent response with NHS number.
Steps:
1. Select a child from unmatched consent responses.
2. Click to create a new record and complete the process.
3. Verify the child is removed from unmatched responses.
4. Go to children page and verify activity log for the created child.
Verification:
- Created alert is visible.
- Consent response for the child is no longer visible in unmatched list.
- Activity log for the child shows the creation event.
","33934","test_create_child_record_from_consent_with_nhs_number","tests","Sat Nov 01 04:58:09 GMT 2025","passed","Sat Nov 01 04:58:43 GMT 2025","","test_consent_responses","",""
"
Test: Upload an invalid cohort (class list) file and verify error handling.
Steps:
1. Navigate to cohort import page.
2. Upload a cohort file with invalid data.
Verification:
- Import fails and error is shown.
","5601","test_cohort_upload_with_invalid_file","tests","Sat Nov 01 04:46:03 GMT 2025","passed","Sat Nov 01 04:46:09 GMT 2025","","test_programmes","",""
"
Test: Upload a child list file with only headers and verify no records are imported.
Steps:
1. Navigate to child record import page.
2. Upload a header-only file.
Verification:
- Output indicates no records imported.
","1655","test_child_list_file_upload_header_only","tests","Sat Nov 01 04:55:06 GMT 2025","passed","Sat Nov 01 04:55:07 GMT 2025","","test_import_child_lists","",""
"
Test: Submit an online consent form giving consent for one or both
   doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines,
   and health question status.
","8002","test_consent_given_for_doubles_vaccination[yes_to_health_questions: True-programmes: [<Programme.TD_IPV: 'Td/IPV'>]]","tests","Sat Nov 01 04:55:24 GMT 2025","passed","Sat Nov 01 04:55:32 GMT 2025","","test_online_consent_doubles","",""
"
Test: Upload a SystmOne historic flu vaccination file for previous years and verify
   it is disallowed.
Steps:
1. Upload a SystmOne historic flu file for previous years.
Verification:
- Output indicates flu vaccinations for previous years are not allowed.
","2134","test_vaccination_file_upload_systmone_disallow_flu_for_previous_years","tests","Sat Nov 01 04:55:42 GMT 2025","passed","Sat Nov 01 04:55:44 GMT 2025","","test_import_vaccinations","",""
"
Test: Attempt to create an invalid session and verify error handling.
Steps:
1. Navigate to sessions page.
2. Attempt to create a session with invalid data for the school and programme.
3. Attempt to create sessions in previous and next academic years.
Verification:
- Error is shown or invalid session is not created.
","7225","test_create_invalid_session","tests","Sat Nov 01 04:48:05 GMT 2025","passed","Sat Nov 01 04:48:13 GMT 2025","","test_sessions","",""
"
Test: Ensure patient details page loads for a child with missing vaccine info
   (MAV-853).
Steps:
1. Setup: Import class list, schedule session, import cohort, and upload vaccination
   records with missing vaccine info.
2. Search for the child by name.
3. Click to view the child's record.
4. Open the activity log.
5. View vaccination details for the child.
Verification:
- Activity log header shows ""Vaccinated with Gardasil 9"".
- Vaccination details show ""Outcome"" as ""Vaccinated"".
","15291","test_patient_details_load_with_missing_vaccine_info","tests","Sat Nov 01 04:59:27 GMT 2025","passed","Sat Nov 01 04:59:43 GMT 2025","","test_children","",""
"
Test: Upload duplicate vaccination records and verify duplicate handling.
Steps:
1. Upload a vaccination file with duplicate records.
2. Upload a second file with more duplicates.
Verification:
- Output indicates duplicates are detected and handled.
Scenarios covered:
1. Duplicate records within the same file, and
2. Duplicate records across 2 different files
","22340","test_vaccination_file_upload_duplicate_records","tests","Sat Nov 01 04:47:11 GMT 2025","passed","Sat Nov 01 04:47:34 GMT 2025","","test_import_vaccinations","",""
"
Test: Upload a SystmOne vaccination records file with valid data and verify import.
Steps:
1. Navigate to vaccination records import page.
2. Upload a SystmOne file with valid data.
Verification:
- Output indicates successful import of SystmOne records.
Scenarios covered:
AllValuesCervarix, AllValuesG9, AllValuesHistorical, MandatoryValues, Batch100Chars,
AllValuesMMR_DoseSeq1, AllValuesMMR_DoseSeq2
","3600","test_vaccination_file_upload_systmone_valid_data","tests","Sat Nov 01 04:53:02 GMT 2025","passed","Sat Nov 01 04:53:06 GMT 2025","","test_import_vaccinations","",""
"
Test: Submit an online consent form giving consent for MMR vaccination and
   verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to MMR vaccination.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccine, and
  health question status.
","10877","test_consent_given_for_mmr_vaccination[consent_option: Without gelatine-yes_to_health_questions: True]","tests","Sat Nov 01 04:55:21 GMT 2025","passed","Sat Nov 01 04:55:32 GMT 2025","","test_online_consent_mmr","",""
"
Test: Upload an empty child list file and verify error handling.
Steps:
1. Navigate to child record import page.
2. Upload an empty file.
Verification:
- Output indicates error or no records imported.
","1642","test_child_list_file_upload_empty_file","tests","Sat Nov 01 04:55:12 GMT 2025","passed","Sat Nov 01 04:55:14 GMT 2025","","test_import_child_lists","",""
"
Test: Submit an online consent form refusing doubles vaccination and
   verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Select 'do not agree' to vaccination.
3. Choose refusal reason and provide details.
4. Submit the consent form.
Verification:
- Confirmation text indicates consent was refused for MenACWY and Td/IPV.
","5596","test_consent_refused_for_doubles_vaccination","tests","Sat Nov 01 04:53:34 GMT 2025","passed","Sat Nov 01 04:53:40 GMT 2025","","test_online_consent_doubles","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","2720","test_batch_add_change_archive[Revaxis]","tests","Sat Nov 01 04:46:19 GMT 2025","passed","Sat Nov 01 04:46:22 GMT 2025","","test_vaccines","",""
"
Test: Log in with valid credentials for each user role and verify dashboard links
   and team information.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Log in as the specified user role and select team if necessary.
3. Verify that all expected dashboard links are visible.
4. Verify that team information is visible in Team page.
5. Log out.
Verification:
- Log out button and all dashboard navigation links are visible after login.
- Team name and email are visible in the Team page.
","2064","test_login_with_valid_credentials[role: prescriber]","tests","Sat Nov 01 04:50:12 GMT 2025","passed","Sat Nov 01 04:50:14 GMT 2025","","test_log_in","",""
"
Test: Upload a SystmOne historic vaccination records file with invalid data and
   verify error handling.
Steps:
1. Navigate to vaccination records import page.
2. Upload a SystmOne historic file with invalid data.
Verification:
- Output lists errors as expected for each record
Scenarios covered:
EmptyDoB, InvalidDoB, LongerNHSNo, ShorterNHSNo, InvalidVaccsType, InvalidVaccsDose,
InvalidVaccsType, EmptyFirstName, EmptyPostcode, InvalidPostcode, EmptySex,
InvalidSex, EmptyLastName, EmptyEventDate, InvalidEventDate, FutureEventDate,
PastEventDate, InvalidEventTime, InvalidSchoolURN
","2265","test_vaccination_file_upload_systmone_historic_invalid_data","tests","Sat Nov 01 04:53:23 GMT 2025","passed","Sat Nov 01 04:53:25 GMT 2025","","test_import_vaccinations","",""
"
Test: Upload a valid vaccination records file and verify successful import.
Steps:
1. Navigate to vaccination records import page.
2. Upload a valid vaccination file.
Verification:
- Output indicates successful import of records.
Scenarios covered:
HPV:
HPV_Optional, HPV_Gardasil9, HPV_Gardasil, HPV_Cervarix, HPV_NFA, HPV_Add_Not_Known,
HPV_AllowPastExpiryDate, HPV_SiteRAU, HPV_SiteRAL, HPV_NotVaccinated,
Doubles:
TDIPV_Optional, TDIPV_NFA, TDIPV_Add_Not_Known, TDIPV_AllowPastExpiryDate,
TDIPV_SiteRAU, TDIPV_SiteRAL, TDIPV_NotVaccinated, MenACWY_Optional, MenACWY_NFA,
MenACWY_Add_Not_Known, MenACWY_AllowPastExpiryDate, MenACWY_SiteRAU,MenACWY_SiteRAL,
MenACWY_NotVaccinated, MenACWY_BatchName100Chars,
Flu:
Flu_Optional, Flu_NFA,
Flu_Add_Not_Known, Flu_AllowPastExpiryDate, Flu_SiteRAU, Flu_SiteRAL,
Flu_NotVaccinated, Flu_BatchName100Chars,
MMR:
MMR_Optional, MMR_NFA, MMR_Add_Not_Known,
MMR_AllowPastExpiryDate, MMR_SiteRAU, MMR_SiteRAL, MMR_NotVaccinated,
MMR_BatchName100Chars, MMR_DoseSeq1WithoutSess, MMR_DoseSeq2WithoutSess,
MMR_UnknownDoseSeq
","16912","test_vaccination_file_upload_valid_data","tests","Sat Nov 01 04:45:51 GMT 2025","passed","Sat Nov 01 04:46:08 GMT 2025","","test_import_vaccinations","",""
"
Test: Log in with valid credentials for each user role and verify dashboard links
   and team information.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Log in as the specified user role and select team if necessary.
3. Verify that all expected dashboard links are visible.
4. Verify that team information is visible in Team page.
5. Log out.
Verification:
- Log out button and all dashboard navigation links are visible after login.
- Team name and email are visible in the Team page.
","2191","test_login_with_valid_credentials[role: nurse]","tests","Sat Nov 01 04:49:56 GMT 2025","passed","Sat Nov 01 04:49:59 GMT 2025","","test_log_in","",""
"
Test: Verify that the Accessibility Statement link is present and clickable.
Steps:
1. Navigate to the start page.
2. Click the Accessibility Statement link.
3. Verify the accessibility statement page is displayed.
Verification:
- The Accessibility Statement page is displayed.
","1327","test_accessibility_statement_link","tests","Sat Nov 01 05:01:03 GMT 2025","passed","Sat Nov 01 05:01:04 GMT 2025","","test_start","",""
"
Test: Verify that the start page heading and start link are visible.
Steps:
1. Navigate to the start page.
2. Check that the heading is visible.
3. Check that the start link is visible.
Verification:
- Both the heading and start link are present and visible on the page.
","1244","test_start_page_elements_visible","tests","Sat Nov 01 05:01:01 GMT 2025","passed","Sat Nov 01 05:01:02 GMT 2025","","test_start","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","955","test_batch_name_too_short[Fluenz]","tests","Sat Nov 01 04:46:25 GMT 2025","passed","Sat Nov 01 04:46:26 GMT 2025","","test_vaccines","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","806","test_batch_name_too_long[Revaxis]","tests","Sat Nov 01 04:47:35 GMT 2025","passed","Sat Nov 01 04:47:36 GMT 2025","","test_vaccines","",""
"
Test: Record conflicting consents from parents, resolve with Gillick competence,
   and verify status.
Steps:
1. Open the session and consent tab for the child.
2. Record a verbal positive consent for parent 1.
3. Record a verbal refusal for parent 2, resulting in conflicting consent.
4. Assess Gillick competence as competent.
5. Record child verbal consent.
6. Verify consent status and activity log.
Verification:
- Consent status updates to 'Conflicting consent', then 'Safe to vaccinate',
  then 'Consent given'.
- Activity log contains entry for Gillick competent child consent.
","47147","test_conflicting_consent_with_gillick_consent","tests","Sat Nov 01 05:04:56 GMT 2025","broken","Sat Nov 01 05:05:44 GMT 2025","","test_verbal_consent","",""
"
Test: Verify that downloaded report has expected values
Steps:
1. Record an HPV vaccination for a child.
2. Refresh reports and check cohort and vaccination percentages.
3. Download the report and verify cohort, vaccinated, and not vaccinated values.
Verification:
- Cohort size, vaccinated, and not vaccinated values are correct in both UI
  and downloaded report.
","62328","test_report_has_correct_values","tests","Sat Nov 01 05:03:17 GMT 2025","broken","Sat Nov 01 05:04:19 GMT 2025","","test_reporting_downloads","",""
"
Test: Create, edit, and delete a session for a school and verify lifecycle actions.
Steps:
1. Navigate to sessions page.
2. Create a new session for the school and programme.
3. Edit the session to set the date to today.
4. Delete all sessions for the school.
Verification:
- Session is created, edited, and deleted without errors.
","13256","test_session_lifecycle","tests","Sat Nov 01 04:47:49 GMT 2025","passed","Sat Nov 01 04:48:02 GMT 2025","","test_sessions","",""
"
Test: Upload a historic vaccination records file with invalid data and
   verify error handling.
Steps:
1. Navigate to vaccination records import page.
2. Upload a historic file with invalid data.
Verification:
- Output lists errors as expected for each record
Scenarios covered:
InvalidODSCode, EmptyOrgCode, EmptySchoolURN, NotKnownSchoolEmpty, LongNHSNumber,
ShortNHSNumber, EmptyForename, EmptyLastname, EmptyDOB, InvalidFormatDOB, FutureDOB,
NonLeapYearDOB, EmptyGender, InvalidGender, EmptyPostCode, InvalidPostCode,
EmptyVaccDate, FutureVaccDate, EmptyVaccGiven, EmptyBatchNumber, EmptyExpiryDate,
EmptyAnatomicalSite, InvalidAnatomicalSite, InvalidAnatomicalSite,
InvalidAnatomicalSite, EmptyDoseSeq, InvalidDoseSeq, EmptyCareSetting,
InvalidProfFName, InvalidProfSName, InvalidProfEmail, InvalidClinic, InvalidTime,
InvalidReason, InvalidVaccinatedFlag, InvalidCareSetting, TimeInFuture,
LongBatchNumber
","3243","test_vaccination_file_upload_historic_invalid_data","tests","Sat Nov 01 04:51:51 GMT 2025","passed","Sat Nov 01 04:51:54 GMT 2025","","test_import_vaccinations","",""
"
Test: Submit an online consent form giving consent for flu vaccination
   (nasal spray, injection, or both) and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Agree to flu vaccination, selecting the consent option
   (nasal spray, injection, or both).
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, consent option,
  and health question status.
","12402","test_consent_given_for_flu_vaccination[yes_to_health_questions: True-consent_option: Nasal spray]","tests","Sat Nov 01 04:46:56 GMT 2025","passed","Sat Nov 01 04:47:08 GMT 2025","","test_online_consent_flu","",""
"
Test: Upload a SystmOne vaccination records file with extra whitespace and
   verify normalization.
Steps:
1. Upload a SystmOne file with whitespace issues.
Verification:
- Output indicates successful normalization and import.
Scenarios covered:
TwoSpaces, Tabs, NBSP (non-breaking space), ZWJ (zero-width joiner),
HistoricalTwoSpaces, HistoricalTabs, HistoricalNBSP, HistoricalZWJ
","3520","test_vaccination_file_upload_systmone_whitespace_normalization","tests","Sat Nov 01 04:55:08 GMT 2025","passed","Sat Nov 01 04:55:12 GMT 2025","","test_import_vaccinations","",""
"
Test: Record invalid and refused consents and verify activity log entries.
Steps:
1. Open the session and consent tab for the child.
2. Record a 'no response' verbal consent for parent 1.
3. Record a refusal verbal consent for parent 2.
4. Invalidate the refusal from parent 2.
5. Check the session activity log for correct entries.
Verification:
- Activity log contains entries for invalidated consent, refusal, and no response.
","20021","test_invalid_consent","tests","Sat Nov 01 05:01:08 GMT 2025","passed","Sat Nov 01 05:01:28 GMT 2025","","test_verbal_consent","",""
"
Test: Generate and verify CarePlus report for HPV programme.
Steps:
1. Navigate to reports page.
2. Generate CarePlus report for HPV.
Verification:
- Report is generated in CarePlus format for HPV.
","2618","test_verify_careplus_report_for_hpv","tests","Sat Nov 01 04:48:41 GMT 2025","passed","Sat Nov 01 04:48:44 GMT 2025","","test_programmes","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","769","test_batch_name_too_long[Menveo]","tests","Sat Nov 01 04:47:19 GMT 2025","passed","Sat Nov 01 04:47:19 GMT 2025","","test_vaccines","",""
"
Test: Upload a historic vaccination records file with valid data and verify import.
Steps:
1. Navigate to vaccination records import page.
2. Upload a historic file with valid data.
Verification:
- Output indicates successful import of historic records.
Scenarios covered:
HPV:
HPV_Gardasil9, HPV_Gardasil, HPV_Cervarix, HPV_NFA, HPV_Add_Not_Known,
HPV_AllowPastExpiryDate, HPV_SiteRAU, HPV_SiteRAL, HPV_NotVaccinated,
Doubles:
TDIPV_Revaxis, TDIPV_NFA, TDIPV_Add_Not_Known, TDIPV_AllowPastExpiryDate,
TDIPV_SiteRAU, TDIPV_SiteRAL, TDIPV_NotVaccinated, MenACWY_MenQuadfi, MenACWY_NFA,
MenACWY_Add_Not_Known, MenACWY_AllowPastExpiryDate, MenACWY_SiteRAU,MenACWY_SiteRAL,
MenACWY_NotVaccinated, MAV_855, MenACWY_BatchName100Chars,
MMR:
MMR, MMR_NFA, MMR_Add_Not_Known, MMR_AllowPastExpiryDate, MMR_SiteRAU, MMR_SiteRAL,
MMR_NotVaccinated, MMR_DoseSeq1, MMR_DoseSeq2
","38061","test_vaccination_file_upload_historic_valid_data","tests","Sat Nov 01 04:50:27 GMT 2025","passed","Sat Nov 01 04:51:06 GMT 2025","","test_import_vaccinations","",""
"
Test: Submit an online consent form giving consent for flu vaccination
   (nasal spray, injection, or both) and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Agree to flu vaccination, selecting the consent option
   (nasal spray, injection, or both).
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, consent option,
  and health question status.
","12029","test_consent_given_for_flu_vaccination[yes_to_health_questions: False-consent_option: ]","tests","Sat Nov 01 04:46:32 GMT 2025","passed","Sat Nov 01 04:46:44 GMT 2025","","test_online_consent_flu","",""
"
Test: Verify that the Service Guidance link is present and clickable.
Steps:
1. Navigate to the start page.
2. Click the Service Guidance link.
3. Verify the service guidance page is displayed in a new tab.
Verification:
- The Service Guidance page is displayed in a new tab.
","1769","test_service_guidance_link","tests","Sat Nov 01 05:01:04 GMT 2025","passed","Sat Nov 01 05:01:06 GMT 2025","","test_start","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","2633","test_batch_add_change_archive[MMR VaxPro]","tests","Sat Nov 01 04:46:07 GMT 2025","passed","Sat Nov 01 04:46:09 GMT 2025","","test_vaccines","",""
"
Test: Upload an invalid vaccination records file and verify error handling.
Steps:
1. Navigate to vaccination records import page.
2. Upload a vaccination file with invalid data.
Verification:
- Output lists errors as expected for each record
Scenarios covered:

HPV_InvalidODSCode, HPV_EmptyOrgCode, HPV_EmptySchoolURN, HPV_NotKnownSchoolEmpty,
HPV_LongNHSNumber, HPV_ShortNHSNumber, HPV_EmptyForename, HPV_EmptyLastname,
HPV_EmptyDOB, HPV_InvalidFormatDOB, HPV_FutureDOB, HPV_NonLeapYearDOB,
HPV_EmptyGender, HPV_InvalidGender, HPV_EmptyPostCode, HPV_InvalidPostCode,
HPV_EmptyVaccDate, HPV_FutureVaccDate, HPV_EmptyVaccGiven, HPV_EmptyBatchNumber,
HPV_EmptyExpiryDate, HPV_EmptyAnatomicalSite, HPV_InvalidAnatomicalSite,
HPV_EmptyDoseSeq, HPV_InvalidDoseSeq, HPV_EmptyCareSetting, HPV_InvalidProfFName,
HPV_InvalidProfSName, HPV_InvalidProfEmail, HPV_InvalidClinic, HPV_InvalidTime,
HPV_InvalidReason, HPV_InvalidVaccinatedFlag, HPV_InvalidCareSetting,
HPV_TimeInFuture, HPV_VaccinatedFlagEmpty, TDIPV_EmptyDoseSeq, TDIPV_InvalidDoseSeq,
MenACWY_EmptyDoseSeq, MenACWY_InvalidDoseSeq, MenACWY_LongBatchNumber, MMR_DoseSeq3
","4432","test_vaccination_file_upload_invalid_data","tests","Sat Nov 01 04:46:43 GMT 2025","passed","Sat Nov 01 04:46:48 GMT 2025","","test_import_vaccinations","",""
"
Test: Submit multiple online flu consent forms with different methods and
   verify the correct method is displayed in the session.
Steps:
1. Fill in child and parent details and submit consent with the first method.
2. Submit a second consent for the same child with the
   second method (different parent).
3. Navigate to the session and consent tab.
4. Search for the child and verify the correct consent method is shown.
5. Verify the pattern of consent details text in the offline excel.
Verification:
- The consent method displayed in the session matches the expected method
  from the last consent.
- The consent details in the excel download match the expected pattern.
","27310","test_flu_consent_method_displayed_correctly[consents: (<ConsentOption.BOTH: ''>, <ConsentOption.NASAL_SPRAY: 'Nasal spray'>, <ConsentOption.NASAL_SPRAY: 'Nasal spray'>)]","tests","Sat Nov 01 04:50:31 GMT 2025","passed","Sat Nov 01 04:50:59 GMT 2025","","test_online_consent_flu","",""
"
Test: Submit an online consent form giving consent for HPV vaccination and
   verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to HPV vaccination.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccine, and
  health question status.
","6455","test_consent_given_for_hpv_vaccination[yes_to_health_questions: True]","tests","Sat Nov 01 05:00:22 GMT 2025","passed","Sat Nov 01 05:00:29 GMT 2025","","test_online_consent_hpv","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","849","test_batch_name_too_short[Nimenrix]","tests","Sat Nov 01 04:46:46 GMT 2025","passed","Sat Nov 01 04:46:46 GMT 2025","","test_vaccines","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","2762","test_batch_add_change_archive[Menveo]","tests","Sat Nov 01 04:45:54 GMT 2025","passed","Sat Nov 01 04:45:57 GMT 2025","","test_vaccines","",""
"
Test: Verify reporting values update correctly after vaccination and edit.
Steps:
1. Record a flu vaccination for a child and verify initial reporting values.
2. Refresh reports and check that the cohort and vaccination percentages update.
3. Edit the child's vaccination record to mark the outcome as refused.
4. Refresh reports and verify that the reporting values reflect the refusal.
Verification:
- After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.
- After marking as refused, report shows 0 more vaccinated and
  1 more not vaccinated.
","63056","test_report_view","tests","Sat Nov 01 05:12:21 GMT 2025","broken","Sat Nov 01 05:13:24 GMT 2025","","test_reporting_values","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","851","test_batch_name_too_short[Cell-based Trivalent Influenza Vaccine Seqirus]","tests","Sat Nov 01 04:46:29 GMT 2025","passed","Sat Nov 01 04:46:30 GMT 2025","","test_vaccines","",""
"
Test: Submit an online consent form giving consent for flu vaccination
   (nasal spray, injection, or both) and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Agree to flu vaccination, selecting the consent option
   (nasal spray, injection, or both).
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, consent option,
  and health question status.
","15323","test_consent_given_for_flu_vaccination[yes_to_health_questions: True-consent_option: ]","tests","Sat Nov 01 04:47:38 GMT 2025","passed","Sat Nov 01 04:47:53 GMT 2025","","test_online_consent_flu","",""
"
Test: PSDS can be bulk added for children in a session.
Steps:
1. Import two children into a session.
2. Record online consent for the two children.
3. Add PSDs in the session to all eligible children.
Verification:
- The PSDs appear for each child.
","32429","test_bulk_adding_psd","tests","Sat Nov 01 05:02:18 GMT 2025","passed","Sat Nov 01 05:02:50 GMT 2025","","test_psd","",""
"
Test: Create, edit, and delete an injected flu vaccination record and verify changes
in the IMMS API and Mavis status.
Steps:
1. Setup: Schedule flu session, import class list, add vaccine batch, and
   register child with verbal consent.
2. Create: Record flu vaccination for the child (LEFT_ARM_UPPER).
3. Verify: Check the vaccination record exists in the IMMS API.
   Check Mavis shows ""Synced"".
4. Edit: Change the delivery site to RIGHT_ARM_LOWER and save.
5. Verify: Check the updated vaccination record in the IMMS API.
   Check Mavis still shows ""Synced"".
6. Edit: Change the outcome to ""They refused it"" and save.
7. Verify: Check the vaccination record is removed from the IMMS API.
   Check Mavis shows ""Not synced"".
","28935","test_create_edit_delete_injected_flu_vaccination_and_verify_imms_api","tests","Sat Nov 01 05:01:02 GMT 2025","passed","Sat Nov 01 05:01:31 GMT 2025","","test_imms_api_flu","",""
"
Test: Submit an online consent form giving consent for flu vaccination
   (nasal spray, injection, or both) and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Agree to flu vaccination, selecting the consent option
   (nasal spray, injection, or both).
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, consent option,
  and health question status.
","10655","test_consent_given_for_flu_vaccination[yes_to_health_questions: False-consent_option: Nasal spray]","tests","Sat Nov 01 04:45:52 GMT 2025","passed","Sat Nov 01 04:46:02 GMT 2025","","test_online_consent_flu","",""
"
Test: Create, edit, and delete an HPV vaccination record and verify changes in
   the IMMS API and Mavis status.
Steps:
1. Setup: Schedule HPV session, import class list, add vaccine batch, and
   register child with verbal consent.
2. Create: Record HPV vaccination for the child (LEFT_ARM_UPPER).
3. Verify: Check the vaccination record exists in the IMMS API.
   Check Mavis shows ""Synced"".
4. Edit: Change the delivery site to RIGHT_ARM_LOWER and save.
5. Verify: Check the updated vaccination record in the IMMS API.
   Check Mavis still shows ""Synced"".
6. Edit: Change the outcome to ""They refused it"" and save.
7. Verify: Check the vaccination record is removed from the IMMS API.
   Check Mavis shows ""Not synced"".
","9302","test_create_edit_delete_hpv_vaccination_and_verify_imms_api","tests","Sat Nov 01 05:06:32 GMT 2025","passed","Sat Nov 01 05:06:41 GMT 2025","","test_imms_api_hpv","",""
