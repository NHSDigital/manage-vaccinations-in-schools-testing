{"uid":"26ca7b0aaf0f7733","name":"test_class_list_file_upload_invalid_data","fullName":"tests.test_import_class_lists#test_class_list_file_upload_invalid_data","historyId":"923323f0d39754e02a4a67efb4e2fed7","time":{"start":1769769979858,"stop":1769769980747,"duration":889},"description":"\nTest: Upload an invalid class list file and verify error handling.\nSteps:\n1. Navigate to class list import page for the correct school and year group.\n2. Upload a class list file with invalid data.\nVerification:\n- Output lists errors as expected for each record\nScenarios covered:\nEmptyFirstName, EmptyLastName, EmptyDOB, LongNHSNo, InvalidPostCode,\nInvalidParent1Email, InvalidParent2Email, InvalidYearGroup, InvalidFirstName,\nInvalidLastName, InvalidPrefFirstName, InvalidPrefLastName, InvalidParent1Name,\nInvalidParent2Name\n","descriptionHtml":"<p>Test: Upload an invalid class list file and verify error handling.<br />\nSteps:</p>\n<ol>\n<li>Navigate to class list import page for the correct school and year group.</li>\n<li>Upload a class list file with invalid data.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Output lists errors as expected for each record<br />\nScenarios covered:<br />\nEmptyFirstName, EmptyLastName, EmptyDOB, LongNHSNo, InvalidPostCode,<br />\nInvalidParent1Email, InvalidParent2Email, InvalidYearGroup, InvalidFirstName,<br />\nInvalidLastName, InvalidPrefFirstName, InvalidPrefLastName, InvalidParent1Name,<br />\nInvalidParent2Name</li>\n</ul>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1769769795624,"stop":1769769795624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1769769795624,"stop":1769769795624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1769769795625,"stop":1769769795626,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1769769795626,"stop":1769769795630,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1769769795630,"stop":1769769819526,"duration":23896},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1769769795630,"stop":1769769795630,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1769769795630,"stop":1769769795630,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1769769795630,"stop":1769769795630,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1769769819526,"stop":1769769819526,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1769769819526,"stop":1769769819526,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1769769819526,"stop":1769769819986,"duration":460},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1769769819526,"stop":1769769819526,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1769769819987,"stop":1769769819987,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1769769819987,"stop":1769769819988,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1769769819988,"stop":1769769819988,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1769769819988,"stop":1769769820177,"duration":189},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1769769819988,"stop":1769769819988,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1769769820179,"stop":1769769820188,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1769769820188,"stop":1769769820189,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1769769820189,"stop":1769769820189,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1769769820189,"stop":1769769820189,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1769769820189,"stop":1769769820189,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1769769830130,"stop":1769769830130,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1769769851175,"stop":1769769851175,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1769769851175,"stop":1769769851175,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1769769851175,"stop":1769769851175,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1769769957667,"stop":1769769958074,"duration":407},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1769769972916,"stop":1769769972916,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1769769972916,"stop":1769769972916,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1769769972916,"stop":1769769972920,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1769769972916,"stop":1769769972916,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1769769972920,"stop":1769769972950,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1769769972950,"stop":1769769972950,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1769769972950,"stop":1769769975372,"duration":2422},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1769769972950,"stop":1769769974460,"duration":1510},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1769769972950,"stop":1769769974460,"duration":1510},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.log_in_page.LogInPage object at 0x7fd8724a8890>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='lewiskate@example.net', password='lewiskate@example.net', role='nurse') and choose team Team(name='Marshall LLC est. 1983', workgroup='A207G', careplus_venue_code='A207GA', careplus_staff_code='A207GB', careplus_staff_type='A207GC', email='psmith@example.org', phone='(07700) 900207')","time":{"start":1769769974461,"stop":1769769975372,"duration":911},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1769769974461,"stop":1769769975372,"duration":911},"status":"passed","steps":[{"name":"Log in as User(username='lewiskate@example.net', password='lewiskate@example.net', role='nurse')","time":{"start":1769769974461,"stop":1769769975337,"duration":876},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1769769974461,"stop":1769769975337,"duration":876},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.log_in_page.LogInPage object at 0x7fd8724a9f40>, User(username='lewiskate@example.net', password='lewiskate@example.net', role='nurse'))"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.log_in_page.LogInPage object at 0x7fd8724a9f40>, User(username='lewiskate@example.net', password='lewiskate@example.net', role='nurse'), Team(name='Marshall LLC est. 1983', workgroup='A207G', careplus_venue_code='A207GA', careplus_staff_code='A207GB', careplus_staff_type='A207GC', email='psmith@example.org', phone='(07700) 900207'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"children","time":{"start":1769769975372,"stop":1769769975376,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"file_generator","time":{"start":1769769975376,"stop":1769769975377,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_class_list_import","time":{"start":1769769975377,"stop":1769769979857,"duration":4480},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1769769975378,"stop":1769769975626,"duration":248},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1769769975378,"stop":1769769975626,"duration":248},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.header_component.HeaderComponent object at 0x7fd872439b20>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1769769975626,"stop":1769769976001,"duration":375},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1769769975626,"stop":1769769976001,"duration":375},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.dashboard_page.DashboardPage object at 0x7fd8724394f0>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check if session exists","time":{"start":1769769976001,"stop":1769769976907,"duration":906},"status":"passed","steps":[{"name":"Check if session exists","time":{"start":1769769976001,"stop":1769769976907,"duration":906},"status":"passed","steps":[{"name":"Search for 'Thames Christian School'","time":{"start":1769769976001,"stop":1769769976358,"duration":357},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1769769976002,"stop":1769769976358,"duration":356},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.search_components.base_search_component.BaseSearchComponent object at 0x7fd8729c72f0>, 'Thames Christian School')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.sessions.sessions_search_page.SessionsSearchPage object at 0x7fd872a10c80>, School(name='Thames Christian School', urn='132237', site=None, address_line_1='12 Grant Road', address_line_2='', address_town='London', address_postcode='SW11 2FR'), [<Programme.HPV: 'HPV'>], [10], 0)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1769769976907,"stop":1769769977186,"duration":279},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1769769976907,"stop":1769769977186,"duration":279},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.header_component.HeaderComponent object at 0x7fd8725f0d60>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Imports","time":{"start":1769769977186,"stop":1769769977492,"duration":306},"status":"passed","steps":[{"name":"Click on Imports","time":{"start":1769769977186,"stop":1769769977492,"duration":306},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.dashboard_page.DashboardPage object at 0x7fd8725f1390>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Upload records","time":{"start":1769769977492,"stop":1769769978161,"duration":669},"status":"passed","steps":[{"name":"Click on Upload records","time":{"start":1769769977492,"stop":1769769978161,"duration":669},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.imports_page.ImportsPage object at 0x7fd872d59310>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select Class List Records","time":{"start":1769769978161,"stop":1769769978215,"duration":54},"status":"passed","steps":[{"name":"Select Class List Records","time":{"start":1769769978161,"stop":1769769978215,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7fd872db6f90>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1769769978215,"stop":1769769978712,"duration":497},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1769769978215,"stop":1769769978712,"duration":497},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7fd872db6f90>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill location combobox with 'Thames Christian School'","time":{"start":1769769978728,"stop":1769769978746,"duration":18},"status":"passed","steps":[{"name":"Fill location combobox with {1}","time":{"start":1769769978728,"stop":1769769978746,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7fd872db6f90>, 'Thames Christian School')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1769769978780,"stop":1769769979212,"duration":432},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1769769978780,"stop":1769769979211,"duration":431},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7fd872db6f90>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select year groups 10","time":{"start":1769769979212,"stop":1769769979857,"duration":645},"status":"passed","steps":[{"name":"Select year groups {1}","time":{"start":1769769979212,"stop":1769769979857,"duration":645},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1769769979262,"stop":1769769979857,"duration":595},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1769769979263,"stop":1769769979857,"duration":594},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7fd872db6f90>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7fd872db6f90>, 10)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":26,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\nTest: Upload an invalid class list file and verify error handling.\nSteps:\n1. Navigate to class list import page for the correct school and year group.\n2. Upload a class list file with invalid data.\nVerification:\n- Output lists errors as expected for each record\nScenarios covered:\nEmptyFirstName, EmptyLastName, EmptyDOB, LongNHSNo, InvalidPostCode,\nInvalidParent1Email, InvalidParent2Email, InvalidYearGroup, InvalidFirstName,\nInvalidLastName, InvalidPrefFirstName, InvalidPrefLastName, InvalidParent1Name,\nInvalidParent2Name\n","status":"passed","steps":[{"name":"Set input file to PosixPath('working/working_gw3/ClassFileMapping.NEGATIVE20260130104619.csv')","time":{"start":1769769979873,"stop":1769769979898,"duration":25},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1769769979873,"stop":1769769979898,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7fd872db4590>, PosixPath('working/working_gw3/ClassFileMapping.NEGATIVE20260130104619.csv'))"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1769769979898,"stop":1769769980338,"duration":440},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1769769979898,"stop":1769769980338,"duration":440},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7fd872db4590>,)"},{"name":"_coverage","value":"'EmptyFirstName, EmptyLastName, EmptyDOB, LongNHSNo, InvalidPostCode, InvalidParent1Email, InvalidParent2Email, InvalidYearGroup, InvalidFirstName, InvalidLastName, InvalidPrefFirstName, InvalidPrefLastName, InvalidParent1Name, InvalidParent2Name'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click import link for PosixPath('working/working_gw3/ClassFileMapping.NEGATIVE20260130104619.csv')","time":{"start":1769769980366,"stop":1769769980635,"duration":269},"status":"passed","steps":[{"name":"Click import link for {1}","time":{"start":1769769980366,"stop":1769769980635,"duration":269},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7fd872db4590>, PosixPath('working/working_gw3/ClassFileMapping.NEGATIVE20260130104619.csv'))"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Reload until completed status appears","time":{"start":1769769980635,"stop":1769769980655,"duration":20},"status":"passed","steps":[{"name":"Reload until completed status appears","time":{"start":1769769980635,"stop":1769769980655,"duration":20},"status":"passed","steps":[{"name":"Reload page until <Locator frame=<Frame name= url='http://3.8.164.95:4000/class-imports/52'> selector='internal:role=strong >> internal:text=\"Review and approve\"i >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Completed\\\\\"i\" >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Invalid\\\\\"i\" >> internal:or=\"internal:text=\\\\\"There is a problem\\\\\"i\" >> nth=0'> is visible","time":{"start":1769769980636,"stop":1769769980655,"duration":19},"status":"passed","steps":[{"name":"Reload page until {1} is visible","time":{"start":1769769980636,"stop":1769769980655,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Page url='http://3.8.164.95:4000/class-imports/52'>, <Locator frame=<Frame name= url='http://3.8.164.95:4000/class-imports/52'> selector='internal:role=strong >> internal:text=\"Review and approve\"i >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Completed\\\\\"i\" >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Invalid\\\\\"i\" >> internal:or=\"internal:text=\\\\\"There is a problem\\\\\"i\" >> nth=0'>)"},{"name":"seconds","value":"60"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7fd872db4590>,)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Verify upload output for PosixPath('class_list/o_negative.txt')","time":{"start":1769769980672,"stop":1769769980747,"duration":75},"status":"passed","steps":[{"name":"Verify upload output for {file_path}","time":{"start":1769769980672,"stop":1769769980747,"duration":75},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7fd872db4590>,)"},{"name":"file_path","value":"PosixPath('class_list/o_negative.txt')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":12,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"new_context::0","time":{"start":1769769980749,"stop":1769769980759,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1769769980749,"stop":1769769980749,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1769769980760,"stop":1769769980760,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1769770375747,"stop":1769770375747,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1769770375748,"stop":1769770375771,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1769770375772,"stop":1769770375785,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1769770375786,"stop":1769770376191,"duration":405},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"classlist"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_import_class_lists"},{"name":"host","value":"runnervmkj6or"},{"name":"thread","value":"3143-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_import_class_lists"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["classlist"]},"source":"26ca7b0aaf0f7733.json","parameterValues":[]}