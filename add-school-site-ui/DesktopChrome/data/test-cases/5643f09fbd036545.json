{"uid":"5643f09fbd036545","name":"test_invalid_nhs_number_change_is_rejected","fullName":"tests.test_children#test_invalid_nhs_number_change_is_rejected","historyId":"d439b719864104aa6c801bec012c24f3","time":{"start":1769770162488,"stop":1769770163966,"duration":1478},"description":"\nTest: Changing a child's NHS number to an invalid value should fail.\nSteps:\n1. Setup: Import a fixed child class list and navigate to the children page.\n2. Search for the child by name.\n3. Open the child's record and edit it.\n4. Attempt to change the NHS number to an invalid value (\"9123456789\").\n5. Continue to submit the change.\nVerification:\n- An alert appears with the message \"Enter a valid NHS number\".\n","descriptionHtml":"<p>Test: Changing a child's NHS number to an invalid value should fail.<br />\nSteps:</p>\n<ol>\n<li>Setup: Import a fixed child class list and navigate to the children page.</li>\n<li>Search for the child by name.</li>\n<li>Open the child's record and edit it.</li>\n<li>Attempt to change the NHS number to an invalid value (&quot;9123456789&quot;).</li>\n<li>Continue to submit the change.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>An alert appears with the message &quot;Enter a valid NHS number&quot;.</li>\n</ul>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1769769795624,"stop":1769769795624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1769769795624,"stop":1769769795625,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1769769795624,"stop":1769769795624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1769769795626,"stop":1769769795626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1769769795626,"stop":1769769795626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1769769795626,"stop":1769769795626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1769769795626,"stop":1769769795626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1769769795626,"stop":1769769819577,"duration":23951},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1769769819577,"stop":1769769819577,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1769769819577,"stop":1769769819577,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1769769819578,"stop":1769769820092,"duration":514},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1769769819578,"stop":1769769819578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1769769819578,"stop":1769769819578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1769769820092,"stop":1769769820093,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1769769820092,"stop":1769769820092,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1769769820093,"stop":1769769820093,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1769769820093,"stop":1769769820249,"duration":156},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1769769820093,"stop":1769769820093,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1769769820249,"stop":1769769820250,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1769769820249,"stop":1769769820249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1769769820250,"stop":1769769820250,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1769769820251,"stop":1769769820251,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1769769820251,"stop":1769769820251,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1769769820251,"stop":1769769820251,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1769769843840,"stop":1769769843841,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1769769843841,"stop":1769769843841,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1769770130764,"stop":1769770131141,"duration":377},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1769770153537,"stop":1769770153537,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1769770153537,"stop":1769770153537,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1769770153538,"stop":1769770153538,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1769770153538,"stop":1769770153543,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1769770153543,"stop":1769770153572,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1769770153572,"stop":1769770153572,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1769770153572,"stop":1769770155893,"duration":2321},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1769770153573,"stop":1769770154924,"duration":1351},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1769770153573,"stop":1769770154924,"duration":1351},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.log_in_page.LogInPage object at 0x7f979d712ba0>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='bakerjosephine@example.org', password='bakerjosephine@example.org', role='nurse') and choose team Team(name='Martin, Ball and Hussain est. 2021', workgroup='D622J', careplus_venue_code='D622JA', careplus_staff_code='D622JB', careplus_staff_type='D622JC', email='jeffreyparker@example.org', phone='(07700) 900712')","time":{"start":1769770154925,"stop":1769770155893,"duration":968},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1769770154925,"stop":1769770155893,"duration":968},"status":"passed","steps":[{"name":"Log in as User(username='bakerjosephine@example.org', password='bakerjosephine@example.org', role='nurse')","time":{"start":1769770154925,"stop":1769770155854,"duration":929},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1769770154925,"stop":1769770155854,"duration":929},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.log_in_page.LogInPage object at 0x7f979d898520>, User(username='bakerjosephine@example.org', password='bakerjosephine@example.org', role='nurse'))"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.log_in_page.LogInPage object at 0x7f979d898520>, User(username='bakerjosephine@example.org', password='bakerjosephine@example.org', role='nurse'), Team(name='Martin, Ball and Hussain est. 2021', workgroup='D622J', careplus_venue_code='D622JA', careplus_staff_code='D622JB', careplus_staff_type='D622JC', email='jeffreyparker@example.org', phone='(07700) 900712'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"children","time":{"start":1769770155893,"stop":1769770155896,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_fixed_child","time":{"start":1769770155897,"stop":1769770162488,"duration":6591},"status":"passed","steps":[{"name":"Click on Schools","time":{"start":1769770155898,"stop":1769770156179,"duration":281},"status":"passed","steps":[{"name":"Click on Schools","time":{"start":1769770155898,"stop":1769770156179,"duration":281},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.dashboard_page.DashboardPage object at 0x7f979d369390>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on School(name=\"Children's International School\", urn='149704', site=None, address_line_1='Plot 8', address_line_2='Amore Street, Lekki Phase 1', address_town='Lagos', address_postcode='')","time":{"start":1769770156179,"stop":1769770156850,"duration":671},"status":"passed","steps":[{"name":"Click on {1}","time":{"start":1769770156179,"stop":1769770156850,"duration":671},"status":"passed","steps":[{"name":"Search for 'Children's International School'","time":{"start":1769770156179,"stop":1769770156466,"duration":287},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1769770156179,"stop":1769770156466,"duration":287},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.search_components.base_search_component.BaseSearchComponent object at 0x7f979d373d20>, \"Children's International School\")"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.schools.schools_search_page.SchoolsSearchPage object at 0x7f979d3c8aa0>, School(name=\"Children's International School\", urn='149704', site=None, address_line_1='Plot 8', address_line_2='Amore Street, Lekki Phase 1', address_town='Lagos', address_postcode=''))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Import class lists","time":{"start":1769770156850,"stop":1769770157319,"duration":469},"status":"passed","steps":[{"name":"Click Import class lists","time":{"start":1769770156850,"stop":1769770157319,"duration":469},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.schools.schools_children_page.SchoolsChildrenPage object at 0x7f979d3c9310>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select year groups 11","time":{"start":1769770157319,"stop":1769770157969,"duration":650},"status":"passed","steps":[{"name":"Select year groups {1}","time":{"start":1769770157319,"stop":1769770157969,"duration":650},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1769770157372,"stop":1769770157969,"duration":597},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1769770157372,"stop":1769770157969,"duration":597},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7f979d3b9e10>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7f979d3b9e10>, 11)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/working_gw2/ClassFileMapping.FIXED_CHILD20260130104917.csv')","time":{"start":1769770157979,"stop":1769770158001,"duration":22},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1769770157979,"stop":1769770158001,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7f979d3b9e10>, PosixPath('working/working_gw2/ClassFileMapping.FIXED_CHILD20260130104917.csv'))"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1769770158001,"stop":1769770158517,"duration":516},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1769770158001,"stop":1769770158517,"duration":516},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7f979d3b9e10>,)"},{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click import link for PosixPath('working/working_gw2/ClassFileMapping.FIXED_CHILD20260130104917.csv')","time":{"start":1769770158559,"stop":1769770159038,"duration":479},"status":"passed","steps":[{"name":"Click import link for {1}","time":{"start":1769770158559,"stop":1769770159038,"duration":479},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7f979d3b9e10>, PosixPath('working/working_gw2/ClassFileMapping.FIXED_CHILD20260130104917.csv'))"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Reload until completed status appears","time":{"start":1769770159038,"stop":1769770159057,"duration":19},"status":"passed","steps":[{"name":"Reload until completed status appears","time":{"start":1769770159038,"stop":1769770159057,"duration":19},"status":"passed","steps":[{"name":"Reload page until <Locator frame=<Frame name= url='http://3.8.164.95:4000/class-imports/75'> selector='internal:role=strong >> internal:text=\"Review and approve\"i >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Completed\\\\\"i\" >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Invalid\\\\\"i\" >> internal:or=\"internal:text=\\\\\"There is a problem\\\\\"i\" >> nth=0'> is visible","time":{"start":1769770159038,"stop":1769770159057,"duration":19},"status":"passed","steps":[{"name":"Reload page until {1} is visible","time":{"start":1769770159038,"stop":1769770159057,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Page url='http://3.8.164.95:4000/class-imports/75'>, <Locator frame=<Frame name= url='http://3.8.164.95:4000/class-imports/75'> selector='internal:role=strong >> internal:text=\"Review and approve\"i >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Completed\\\\\"i\" >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Invalid\\\\\"i\" >> internal:or=\"internal:text=\\\\\"There is a problem\\\\\"i\" >> nth=0'>)"},{"name":"seconds","value":"60"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7f979d3b9e10>,)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click import link for PosixPath('working/working_gw2/ClassFileMapping.FIXED_CHILD20260130104917.csv')","time":{"start":1769770159673,"stop":1769770160755,"duration":1082},"status":"passed","steps":[{"name":"Click import link for {1}","time":{"start":1769770159673,"stop":1769770160755,"duration":1082},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7f979d3b9e10>, PosixPath('working/working_gw2/ClassFileMapping.FIXED_CHILD20260130104917.csv'))"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Reload page until <Locator frame=<Frame name= url='http://3.8.164.95:4000/class-imports/75'> selector='internal:role=strong >> internal:text=\"Completed\"i >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Invalid\\\\\"i\" >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Review and approve\\\\\"i\" >> nth=0'> is visible","time":{"start":1769770160758,"stop":1769770160773,"duration":15},"status":"passed","steps":[{"name":"Reload page until {1} is visible","time":{"start":1769770160758,"stop":1769770160773,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Page url='http://3.8.164.95:4000/class-imports/75'>, <Locator frame=<Frame name= url='http://3.8.164.95:4000/class-imports/75'> selector='internal:role=strong >> internal:text=\"Completed\"i >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Invalid\\\\\"i\" >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Review and approve\\\\\"i\" >> nth=0'>)"},{"name":"seconds","value":"60"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Verify upload output for PosixPath('class_list/o_fixed_child.txt')","time":{"start":1769770160773,"stop":1769770160778,"duration":5},"status":"passed","steps":[{"name":"Verify upload output for {file_path}","time":{"start":1769770160773,"stop":1769770160778,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.imports.import_records_wizard_page.ImportRecordsWizardPage object at 0x7f979d3b9e10>,)"},{"name":"file_path","value":"PosixPath('class_list/o_fixed_child.txt')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1769770160778,"stop":1769770161040,"duration":262},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1769770160778,"stop":1769770161040,"duration":262},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.header_component.HeaderComponent object at 0x7f979d1ee620>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1769770161040,"stop":1769770161287,"duration":247},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1769770161040,"stop":1769770161287,"duration":247},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.dashboard_page.DashboardPage object at 0x7f979d1ee570>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check if session exists","time":{"start":1769770161287,"stop":1769770161911,"duration":624},"status":"passed","steps":[{"name":"Check if session exists","time":{"start":1769770161287,"stop":1769770161911,"duration":624},"status":"passed","steps":[{"name":"Search for 'Children's International School'","time":{"start":1769770161287,"stop":1769770161548,"duration":261},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1769770161287,"stop":1769770161548,"duration":261},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.search_components.base_search_component.BaseSearchComponent object at 0x7f979d0126d0>, \"Children's International School\")"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.sessions.sessions_search_page.SessionsSearchPage object at 0x7f979d011e10>, School(name=\"Children's International School\", urn='149704', site=None, address_line_1='Plot 8', address_line_2='Amore Street, Lekki Phase 1', address_town='Lagos', address_postcode=''), [<Programme.HPV: 'HPV'>], [11], 0)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1769770161911,"stop":1769770162154,"duration":243},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1769770161912,"stop":1769770162154,"duration":242},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.header_component.HeaderComponent object at 0x7f979d1efa10>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Children","time":{"start":1769770162154,"stop":1769770162488,"duration":334},"status":"passed","steps":[{"name":"Click on Children","time":{"start":1769770162155,"stop":1769770162488,"duration":333},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.dashboard_page.DashboardPage object at 0x7f979d1efe30>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":40,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_children_session","time":{"start":1769770155897,"stop":1769770155897,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"file_generator","time":{"start":1769770155897,"stop":1769770155897,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: Changing a child's NHS number to an invalid value should fail.\nSteps:\n1. Setup: Import a fixed child class list and navigate to the children page.\n2. Search for the child by name.\n3. Open the child's record and edit it.\n4. Attempt to change the NHS number to an invalid value (\"9123456789\").\n5. Continue to submit the change.\nVerification:\n- An alert appears with the message \"Enter a valid NHS number\".\n","status":"passed","steps":[{"name":"Click on child Child(first_name='Sian', last_name='WARD', nhs_number='9551538625', address=('Studio 1', 'Yvonne Expressway', 'Foxhaven', 'L8U 4NG'), date_of_birth=datetime.date(2009, 11, 2), year_group=11, parents=(Parent(full_name='Robert Marsh', relationship=<Relationship.DAD: 'Dad'>, email_address='jonestrevor@example.com'), Parent(full_name='Ruth Rahman', relationship=<Relationship.MUM: 'Mum'>, email_address='parkerjoseph@example.com')))","time":{"start":1769770162900,"stop":1769770163174,"duration":274},"status":"passed","steps":[{"name":"Click on child {1}","time":{"start":1769770162900,"stop":1769770163174,"duration":274},"status":"passed","steps":[{"name":"Reload page until <Locator frame=<Frame name= url='http://3.8.164.95:4000/patients?q=WARD%2C+Sian&%5Bprogramme_types%5D%5B%5D=&programme_status_group=&%5Bprogramme_statuses%5D%5B%5D=&%5Bvaccine_criteria%5D%5B%5D=&%5Bvaccine_criteria%5D%5B%5D=&%5Bprogramme_statuses%5D%5B%5D=&%5Bprogramme_statuses%5D%5B%5D=&%5Byear_groups%5D%5B%5D=&date_of_birth_day=&date_of_birth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0&aged_out_of_programmes=0'> selector='div.nhsuk-card.app-card.app-card--compact:has(h4:has-text(\"WARD, Sian\")) >> internal:role=link[name=\"WARD, Sian\"i]'> is visible","time":{"start":1769770162900,"stop":1769770162905,"duration":5},"status":"passed","steps":[{"name":"Reload page until {1} is visible","time":{"start":1769770162900,"stop":1769770162905,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Page url='http://3.8.164.95:4000/patients?q=WARD%2C+Sian&%5Bprogramme_types%5D%5B%5D=&programme_status_group=&%5Bprogramme_statuses%5D%5B%5D=&%5Bvaccine_criteria%5D%5B%5D=&%5Bvaccine_criteria%5D%5B%5D=&%5Bprogramme_statuses%5D%5B%5D=&%5Bprogramme_statuses%5D%5B%5D=&%5Byear_groups%5D%5B%5D=&date_of_birth_day=&date_of_birth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0&aged_out_of_programmes=0'>, <Locator frame=<Frame name= url='http://3.8.164.95:4000/patients?q=WARD%2C+Sian&%5Bprogramme_types%5D%5B%5D=&programme_status_group=&%5Bprogramme_statuses%5D%5B%5D=&%5Bvaccine_criteria%5D%5B%5D=&%5Bvaccine_criteria%5D%5B%5D=&%5Bprogramme_statuses%5D%5B%5D=&%5Bprogramme_statuses%5D%5B%5D=&%5Byear_groups%5D%5B%5D=&date_of_birth_day=&date_of_birth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0&aged_out_of_programmes=0'> selector='div.nhsuk-card.app-card.app-card--compact:has(h4:has-text(\"WARD, Sian\")) >> internal:role=link[name=\"WARD, Sian\"i]'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.search_components.patient_status_search_component.PatientStatusSearchComponent object at 0x7f979d2425d0>, Child(first_name='Sian', last_name='WARD', nhs_number='9551538625', address=('Studio 1', 'Yvonne Expressway', 'Foxhaven', 'L8U 4NG'), date_of_birth=datetime.date(2009, 11, 2), year_group=11, parents=(Parent(full_name='Robert Marsh', relationship=<Relationship.DAD: 'Dad'>, email_address='jonestrevor@example.com'), Parent(full_name='Ruth Rahman', relationship=<Relationship.MUM: 'Mum'>, email_address='parkerjoseph@example.com'))))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Edit child record","time":{"start":1769770163174,"stop":1769770163424,"duration":250},"status":"passed","steps":[{"name":"Click on Edit child record","time":{"start":1769770163174,"stop":1769770163424,"duration":250},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.children.child_record_page.ChildRecordPage object at 0x7f979d2ceb50>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Change NHS number","time":{"start":1769770163424,"stop":1769770163654,"duration":230},"status":"passed","steps":[{"name":"Click on Change NHS number","time":{"start":1769770163424,"stop":1769770163653,"duration":229},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.children.child_edit_page.ChildEditPage object at 0x7f979e742900>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill NHS number '9123456789' for child Child(first_name='Sian', last_name='WARD', nhs_number='9551538625', address=('Studio 1', 'Yvonne Expressway', 'Foxhaven', 'L8U 4NG'), date_of_birth=datetime.date(2009, 11, 2), year_group=11, parents=(Parent(full_name='Robert Marsh', relationship=<Relationship.DAD: 'Dad'>, email_address='jonestrevor@example.com'), Parent(full_name='Ruth Rahman', relationship=<Relationship.MUM: 'Mum'>, email_address='parkerjoseph@example.com')))","time":{"start":1769770163654,"stop":1769770163675,"duration":21},"status":"passed","steps":[{"name":"Fill NHS number {2} for child {1}","time":{"start":1769770163654,"stop":1769770163675,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.children.child_edit_page.ChildEditPage object at 0x7f979d20e490>, Child(first_name='Sian', last_name='WARD', nhs_number='9551538625', address=('Studio 1', 'Yvonne Expressway', 'Foxhaven', 'L8U 4NG'), date_of_birth=datetime.date(2009, 11, 2), year_group=11, parents=(Parent(full_name='Robert Marsh', relationship=<Relationship.DAD: 'Dad'>, email_address='jonestrevor@example.com'), Parent(full_name='Ruth Rahman', relationship=<Relationship.MUM: 'Mum'>, email_address='parkerjoseph@example.com'))), '9123456789')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Continue","time":{"start":1769770163676,"stop":1769770163948,"duration":272},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1769770163676,"stop":1769770163948,"duration":272},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<mavis.test.pages.children.child_edit_page.ChildEditPage object at 0x7f979d20e850>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":12,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_fixed_child::0","time":{"start":1769770163966,"stop":1769770163966,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1769770163968,"stop":1769770163968,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1769770163969,"stop":1769770163978,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1769770163979,"stop":1769770163979,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1769770423495,"stop":1769770423526,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1769770423495,"stop":1769770423495,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1769770423528,"stop":1769770423553,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1769770423554,"stop":1769770423931,"duration":377},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"bug"},{"name":"tag","value":"children"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_children"},{"name":"host","value":"runnervmkj6or"},{"name":"thread","value":"3140-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_children"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["bug","children"]},"source":"5643f09fbd036545.json","parameterValues":[]}