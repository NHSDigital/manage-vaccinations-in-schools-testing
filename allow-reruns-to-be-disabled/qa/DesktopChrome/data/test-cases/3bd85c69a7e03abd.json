{"uid":"3bd85c69a7e03abd","name":"test_recording_hpv_vaccination_e2e","fullName":"tests.test_e2e#test_recording_hpv_vaccination_e2e","historyId":"46033a22bbccd539ed622add716720c2","time":{"start":1760702197877,"stop":1760702255240,"duration":57363},"description":"\nTest: End-to-end test for recording an HPV vaccination for a child.\nSteps:\n1. Setup: Log in as nurse, create session, import class list, and get batch name.\n2. Go to online consent URL and fill in child and parent details.\n3. Agree to HPV vaccination, fill address, answer health questions, and confirm.\n4. Log in as nurse, navigate to session, set session in progress,\n   register child as attending.\n5. Record HPV vaccination for the child.\nVerification:\n- Final consent message is shown after online consent.\n- Vaccination is recorded for the child in the session.\n","descriptionHtml":"<p>Test: End-to-end test for recording an HPV vaccination for a child.<br />\nSteps:</p>\n<ol>\n<li>Setup: Log in as nurse, create session, import class list, and get batch name.</li>\n<li>Go to online consent URL and fill in child and parent details.</li>\n<li>Agree to HPV vaccination, fill address, answer health questions, and confirm.</li>\n<li>Log in as nurse, navigate to session, set session in progress,<br />\nregister child as attending.</li>\n<li>Record HPV vaccination for the child.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Final consent message is shown after online consent.</li>\n<li>Vaccination is recorded for the child in the session.</li>\n</ul>\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"link\", name=\"SAUNDERS, Lynn\")","statusTrace":"hpv_consent_url = '/consents/TThux1Eya2/hpv/start'\nsetup_session_for_hpv = ['Gardasil9123']\nonline_consent_page = <mavis.test.pages.online_consent.OnlineConsentPage object at 0x7f04a66c1160>\nsessions_page = <mavis.test.pages.sessions.SessionsPage object at 0x7f04a66c0ec0>\nstart_page = <mavis.test.pages.start.StartPage object at 0x7f04a5cf0230>\nschools = [School(name='IMPACT Northwest Schools', urn='149573', site=None), School(name='Willingdon Community School', urn='114592', site=None)]\nchildren = {'HPV': [Child(first_name='Lynn', last_name='SAUNDERS', nhs_number='9939017871', address=('Studio 0', 'Jean greens', '...example.net'), Parent(full_name='Mrs Maria Parkes', relationship='Mum', email_address='morriskathleen@example.com')))]}\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7f04a65da0a0>\nlog_in_page = <mavis.test.pages.log_in.LogInPage object at 0x7f04a65db6a0>\nnurse = User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse')\nteam = Team(name='Cole Ltd est. 1849', workgroup='E553V', careplus_venue_code='E553V', email='joe38@example.com', phone='+447700 900370')\n\n    def test_recording_hpv_vaccination_e2e(\n        hpv_consent_url,\n        setup_session_for_hpv,\n        online_consent_page,\n        sessions_page,\n        start_page,\n        schools,\n        children,\n        dashboard_page,\n        log_in_page,\n        nurse,\n        team,\n    ):\n        \"\"\"\n        Test: End-to-end test for recording an HPV vaccination for a child.\n        Steps:\n        1. Setup: Log in as nurse, create session, import class list, and get batch name.\n        2. Go to online consent URL and fill in child and parent details.\n        3. Agree to HPV vaccination, fill address, answer health questions, and confirm.\n        4. Log in as nurse, navigate to session, set session in progress,\n           register child as attending.\n        5. Record HPV vaccination for the child.\n        Verification:\n        - Final consent message is shown after online consent.\n        - Vaccination is recorded for the child in the session.\n        \"\"\"\n        child = children[Programme.HPV][0]\n        schools = schools[Programme.HPV]\n        gardasil_9_batch_name = setup_session_for_hpv[0]\n        number_of_health_questions = len(Programme.health_questions(Programme.HPV))\n    \n        online_consent_page.go_to_url(hpv_consent_url)\n        start_page.start()\n    \n        online_consent_page.fill_details(child, child.parents[0], schools)\n        online_consent_page.agree_to_hpv_vaccination()\n        online_consent_page.fill_address_details(*child.address)\n        online_consent_page.answer_health_questions(\n            number_of_health_questions,\n            yes_to_health_questions=False,\n        )\n        online_consent_page.click_confirm()\n        online_consent_page.check_final_consent_message(\n            child,\n            programmes=[Programme.HPV],\n            yes_to_health_questions=False,\n        )\n    \n        log_in_page.navigate()\n        log_in_page.log_in_and_choose_team_if_necessary(nurse, team)\n        dashboard_page.click_sessions()\n    \n        sessions_page.click_session_for_programme_group(schools[0], Programme.HPV)\n        sessions_page.click_set_session_in_progress_for_today()\n        sessions_page.register_child_as_attending(str(child))\n>       sessions_page.record_vaccination_for_child(\n            VaccinationRecord(child, Programme.HPV, gardasil_9_batch_name)\n        )\n\ntests/test_e2e.py:118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/sessions.py:887: in record_vaccination_for_child\n    self.search_child(vaccination_record.child)\nmavis/test/pages/sessions.py:875: in search_child\n    reload_until_element_is_visible(self.page, child_locator)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://qa.mavistesting.com/sessions/TThux1Eya2/record?q=SAUNDERS%2C+Lynn&%5Byear_groups%5D%5B%5D=&date_of_birth_day=&date_of_birth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0'>\ntag = <Locator frame=<Frame name= url='https://qa.mavistesting.com/sessions/TThux1Eya2/record?q=SAUNDERS%2C+Lynn&%5Byear_gro...rth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0'> selector='internal:role=link[name=\"SAUNDERS, Lynn\"i]'>\nseconds = 30\n\n    def reload_until_element_is_visible(\n        page: Page, tag: Locator, seconds: int = DEFAULT_TIMEOUT_SECONDS\n    ) -> None:\n        for _ in range(seconds * 2):\n            if tag.is_visible():\n                break\n    \n            time.sleep(0.5)\n    \n            page.reload()\n        else:\n>           expect(tag).to_be_visible()\nE           AssertionError: Locator expected to be visible\nE           Actual value: <element(s) not found> \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for get_by_role(\"link\", name=\"SAUNDERS, Lynn\")\n\nmavis/test/utils.py:171: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1760701735610,"stop":1760701735610,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1760701735610,"stop":1760701735610,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1760701735611,"stop":1760701735612,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1760701735612,"stop":1760701735612,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1760701735612,"stop":1760701735612,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1760701735612,"stop":1760701740770,"duration":5158},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1760701735612,"stop":1760701735612,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1760701735612,"stop":1760701735612,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1760701740770,"stop":1760701740770,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1760701740770,"stop":1760701740770,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1760701740770,"stop":1760701740770,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1760701740770,"stop":1760701740770,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1760701740770,"stop":1760701740770,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1760701740771,"stop":1760701741070,"duration":299},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1760701741071,"stop":1760701741071,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1760701741071,"stop":1760701741071,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1760701741071,"stop":1760701741071,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1760701741072,"stop":1760701741072,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1760701741072,"stop":1760701743932,"duration":2860},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1760701743932,"stop":1760701743932,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1760701743932,"stop":1760701743933,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1760701743933,"stop":1760701743933,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1760701743933,"stop":1760701743933,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1760701743933,"stop":1760701743933,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1760701743933,"stop":1760701743933,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1760701743933,"stop":1760701743933,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1760702176331,"stop":1760702177116,"duration":785},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1760702177117,"stop":1760702177117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1760702177117,"stop":1760702177117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1760702177117,"stop":1760702177122,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1760702177117,"stop":1760702177117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1760702177122,"stop":1760702177145,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1760702177145,"stop":1760702177146,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1760702177145,"stop":1760702177145,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1760702177146,"stop":1760702177146,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1760702177146,"stop":1760702177150,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1760702177146,"stop":1760702177146,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1760702177150,"stop":1760702177151,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1760702177151,"stop":1760702177151,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schedule_session_and_get_consent_url","time":{"start":1760702177151,"stop":1760702177151,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"hpv_consent_url","time":{"start":1760702177151,"stop":1760702182068,"duration":4917},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1760702177151,"stop":1760702178115,"duration":964},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1760702177151,"stop":1760702178115,"duration":964},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse') and choose team Team(name='Cole Ltd est. 1849', workgroup='E553V', careplus_venue_code='E553V', email='joe38@example.com', phone='+447700 900370')","time":{"start":1760702178115,"stop":1760702178973,"duration":858},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1760702178115,"stop":1760702178973,"duration":858},"status":"passed","steps":[{"name":"Log in as User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse')","time":{"start":1760702178115,"stop":1760702178946,"duration":831},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1760702178115,"stop":1760702178946,"duration":831},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse'), Team(name='Cole Ltd est. 1849', workgroup='E553V', careplus_venue_code='E553V', email='joe38@example.com', phone='+447700 900370'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1760702178974,"stop":1760702179227,"duration":253},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1760702178974,"stop":1760702179227,"duration":253},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='IMPACT Northwest Schools', urn='149573', site=None)","time":{"start":1760702179228,"stop":1760702179790,"duration":562},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1760702179228,"stop":1760702179790,"duration":562},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='IMPACT Northwest Schools', urn='149573', site=None), 'HPV')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill date fields with '20251024'","time":{"start":1760702180323,"stop":1760702180349,"duration":26},"status":"passed","steps":[{"name":"Fill date fields with {1}","time":{"start":1760702180323,"stop":1760702180349,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('20251024',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Continue","time":{"start":1760702180349,"stop":1760702180727,"duration":378},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1760702180349,"stop":1760702180727,"duration":378},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Save changes","time":{"start":1760702180758,"stop":1760702181579,"duration":821},"status":"passed","steps":[{"name":"Click Save changes","time":{"start":1760702180759,"stop":1760702181579,"duration":820},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log out","time":{"start":1760702181602,"stop":1760702182067,"duration":465},"status":"passed","steps":[{"name":"Log out","time":{"start":1760702181602,"stop":1760702182067,"duration":465},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":18,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_vaccine_batch","time":{"start":1760702182068,"stop":1760702182068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_session_for_hpv","time":{"start":1760702182068,"stop":1760702197876,"duration":15808},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1760702182068,"stop":1760702182173,"duration":105},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1760702182068,"stop":1760702182173,"duration":105},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse') and choose team Team(name='Cole Ltd est. 1849', workgroup='E553V', careplus_venue_code='E553V', email='joe38@example.com', phone='+447700 900370')","time":{"start":1760702182174,"stop":1760702183522,"duration":1348},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1760702182174,"stop":1760702183522,"duration":1348},"status":"passed","steps":[{"name":"Log in as User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse')","time":{"start":1760702182174,"stop":1760702183502,"duration":1328},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1760702182174,"stop":1760702183502,"duration":1328},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse'), Team(name='Cole Ltd est. 1849', workgroup='E553V', careplus_venue_code='E553V', email='joe38@example.com', phone='+447700 900370'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to vaccines page","time":{"start":1760702183523,"stop":1760702183688,"duration":165},"status":"passed","steps":[{"name":"Go to vaccines page","time":{"start":1760702183523,"stop":1760702183688,"duration":165},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Add batch for 'Gardasil 9'","time":{"start":1760702183688,"stop":1760702183938,"duration":250},"status":"passed","steps":[{"name":"Add batch for {1}","time":{"start":1760702183688,"stop":1760702183938,"duration":250},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Vaccine.GARDASIL_9: 'Gardasil 9'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in name with 'Gardasil9123'","time":{"start":1760702183938,"stop":1760702183958,"duration":20},"status":"passed","steps":[{"name":"Fill in name with {1}","time":{"start":1760702183938,"stop":1760702183958,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Gardasil9123',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in expiry date with datetime.date(2025, 10, 18)","time":{"start":1760702183958,"stop":1760702183979,"duration":21},"status":"passed","steps":[{"name":"Fill in expiry date with {1}","time":{"start":1760702183958,"stop":1760702183979,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(datetime.date(2025, 10, 18),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Confirm add batch","time":{"start":1760702183979,"stop":1760702184374,"duration":395},"status":"passed","steps":[{"name":"Confirm add batch","time":{"start":1760702183979,"stop":1760702184374,"duration":395},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1760702184374,"stop":1760702184590,"duration":216},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1760702184374,"stop":1760702184590,"duration":216},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1760702184590,"stop":1760702184825,"duration":235},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1760702184590,"stop":1760702184825,"duration":235},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='IMPACT Northwest Schools', urn='149573', site=None)","time":{"start":1760702184825,"stop":1760702185451,"duration":626},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1760702184825,"stop":1760702185451,"duration":626},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='IMPACT Northwest Schools', urn='149573', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import class lists","time":{"start":1760702185451,"stop":1760702185781,"duration":330},"status":"passed","steps":[{"name":"Click on Import class lists","time":{"start":1760702185451,"stop":1760702185781,"duration":330},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1760702185826,"stop":1760702186273,"duration":447},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702185826,"stop":1760702186273,"duration":447},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.FIXED_CHILD20251017125626.csv')","time":{"start":1760702186283,"stop":1760702186303,"duration":20},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1760702186283,"stop":1760702186303,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.FIXED_CHILD20251017125626.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1760702186303,"stop":1760702186706,"duration":403},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702186303,"stop":1760702186706,"duration":403},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1760702186734,"stop":1760702186915,"duration":181},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1760702186734,"stop":1760702186915,"duration":181},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to dashboard","time":{"start":1760702197343,"stop":1760702197491,"duration":148},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1760702197343,"stop":1760702197491,"duration":148},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log out","time":{"start":1760702197491,"stop":1760702197876,"duration":385},"status":"passed","steps":[{"name":"Log out","time":{"start":1760702197491,"stop":1760702197876,"duration":385},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":36,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_batch_page","time":{"start":1760702182068,"stop":1760702182068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"import_records_page","time":{"start":1760702182068,"stop":1760702182068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_session_with_file_upload","time":{"start":1760702182068,"stop":1760702182068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"vaccines_page","time":{"start":1760702182068,"stop":1760702182068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"start_page","time":{"start":1760702197877,"stop":1760702197877,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"online_consent_page","time":{"start":1760702197877,"stop":1760702197877,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: End-to-end test for recording an HPV vaccination for a child.\nSteps:\n1. Setup: Log in as nurse, create session, import class list, and get batch name.\n2. Go to online consent URL and fill in child and parent details.\n3. Agree to HPV vaccination, fill address, answer health questions, and confirm.\n4. Log in as nurse, navigate to session, set session in progress,\n   register child as attending.\n5. Record HPV vaccination for the child.\nVerification:\n- Final consent message is shown after online consent.\n- Vaccination is recorded for the child in the session.\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"link\", name=\"SAUNDERS, Lynn\")","statusTrace":"hpv_consent_url = '/consents/TThux1Eya2/hpv/start'\nsetup_session_for_hpv = ['Gardasil9123']\nonline_consent_page = <mavis.test.pages.online_consent.OnlineConsentPage object at 0x7f04a66c1160>\nsessions_page = <mavis.test.pages.sessions.SessionsPage object at 0x7f04a66c0ec0>\nstart_page = <mavis.test.pages.start.StartPage object at 0x7f04a5cf0230>\nschools = [School(name='IMPACT Northwest Schools', urn='149573', site=None), School(name='Willingdon Community School', urn='114592', site=None)]\nchildren = {'HPV': [Child(first_name='Lynn', last_name='SAUNDERS', nhs_number='9939017871', address=('Studio 0', 'Jean greens', '...example.net'), Parent(full_name='Mrs Maria Parkes', relationship='Mum', email_address='morriskathleen@example.com')))]}\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7f04a65da0a0>\nlog_in_page = <mavis.test.pages.log_in.LogInPage object at 0x7f04a65db6a0>\nnurse = User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse')\nteam = Team(name='Cole Ltd est. 1849', workgroup='E553V', careplus_venue_code='E553V', email='joe38@example.com', phone='+447700 900370')\n\n    def test_recording_hpv_vaccination_e2e(\n        hpv_consent_url,\n        setup_session_for_hpv,\n        online_consent_page,\n        sessions_page,\n        start_page,\n        schools,\n        children,\n        dashboard_page,\n        log_in_page,\n        nurse,\n        team,\n    ):\n        \"\"\"\n        Test: End-to-end test for recording an HPV vaccination for a child.\n        Steps:\n        1. Setup: Log in as nurse, create session, import class list, and get batch name.\n        2. Go to online consent URL and fill in child and parent details.\n        3. Agree to HPV vaccination, fill address, answer health questions, and confirm.\n        4. Log in as nurse, navigate to session, set session in progress,\n           register child as attending.\n        5. Record HPV vaccination for the child.\n        Verification:\n        - Final consent message is shown after online consent.\n        - Vaccination is recorded for the child in the session.\n        \"\"\"\n        child = children[Programme.HPV][0]\n        schools = schools[Programme.HPV]\n        gardasil_9_batch_name = setup_session_for_hpv[0]\n        number_of_health_questions = len(Programme.health_questions(Programme.HPV))\n    \n        online_consent_page.go_to_url(hpv_consent_url)\n        start_page.start()\n    \n        online_consent_page.fill_details(child, child.parents[0], schools)\n        online_consent_page.agree_to_hpv_vaccination()\n        online_consent_page.fill_address_details(*child.address)\n        online_consent_page.answer_health_questions(\n            number_of_health_questions,\n            yes_to_health_questions=False,\n        )\n        online_consent_page.click_confirm()\n        online_consent_page.check_final_consent_message(\n            child,\n            programmes=[Programme.HPV],\n            yes_to_health_questions=False,\n        )\n    \n        log_in_page.navigate()\n        log_in_page.log_in_and_choose_team_if_necessary(nurse, team)\n        dashboard_page.click_sessions()\n    \n        sessions_page.click_session_for_programme_group(schools[0], Programme.HPV)\n        sessions_page.click_set_session_in_progress_for_today()\n        sessions_page.register_child_as_attending(str(child))\n>       sessions_page.record_vaccination_for_child(\n            VaccinationRecord(child, Programme.HPV, gardasil_9_batch_name)\n        )\n\ntests/test_e2e.py:118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/sessions.py:887: in record_vaccination_for_child\n    self.search_child(vaccination_record.child)\nmavis/test/pages/sessions.py:875: in search_child\n    reload_until_element_is_visible(self.page, child_locator)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://qa.mavistesting.com/sessions/TThux1Eya2/record?q=SAUNDERS%2C+Lynn&%5Byear_groups%5D%5B%5D=&date_of_birth_day=&date_of_birth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0'>\ntag = <Locator frame=<Frame name= url='https://qa.mavistesting.com/sessions/TThux1Eya2/record?q=SAUNDERS%2C+Lynn&%5Byear_gro...rth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0'> selector='internal:role=link[name=\"SAUNDERS, Lynn\"i]'>\nseconds = 30\n\n    def reload_until_element_is_visible(\n        page: Page, tag: Locator, seconds: int = DEFAULT_TIMEOUT_SECONDS\n    ) -> None:\n        for _ in range(seconds * 2):\n            if tag.is_visible():\n                break\n    \n            time.sleep(0.5)\n    \n            page.reload()\n        else:\n>           expect(tag).to_be_visible()\nE           AssertionError: Locator expected to be visible\nE           Actual value: <element(s) not found> \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for get_by_role(\"link\", name=\"SAUNDERS, Lynn\")\n\nmavis/test/utils.py:171: AssertionError","steps":[{"name":"Click on start button","time":{"start":1760702198084,"stop":1760702198383,"duration":299},"status":"passed","steps":[{"name":"Click on start button","time":{"start":1760702198084,"stop":1760702198383,"duration":299},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill child name details","time":{"start":1760702198383,"stop":1760702198743,"duration":360},"status":"passed","steps":[{"name":"Fill child name details","time":{"start":1760702198383,"stop":1760702198743,"duration":360},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702198439,"stop":1760702198743,"duration":304},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702198439,"stop":1760702198743,"duration":304},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Lynn', 'SAUNDERS')"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill child date of birth","time":{"start":1760702198743,"stop":1760702199415,"duration":672},"status":"passed","steps":[{"name":"Fill child date of birth","time":{"start":1760702198743,"stop":1760702199415,"duration":672},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702198773,"stop":1760702199415,"duration":642},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702198773,"stop":1760702199415,"duration":642},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(datetime.date(2010, 9, 16),)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select child school","time":{"start":1760702199416,"stop":1760702199765,"duration":349},"status":"passed","steps":[{"name":"Select child school","time":{"start":1760702199416,"stop":1760702199765,"duration":349},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702199473,"stop":1760702199765,"duration":292},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702199473,"stop":1760702199765,"duration":292},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='IMPACT Northwest Schools', urn='149573', site=None),)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill parent name","time":{"start":1760702199765,"stop":1760702199782,"duration":17},"status":"passed","steps":[{"name":"Fill parent name","time":{"start":1760702199765,"stop":1760702199782,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Mr Joseph Kirby',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'Dad' radio button","time":{"start":1760702199782,"stop":1760702199823,"duration":41},"status":"passed","steps":[{"name":"Click on {1} radio button","time":{"start":1760702199782,"stop":1760702199823,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Dad',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill email address","time":{"start":1760702199823,"stop":1760702199830,"duration":7},"status":"passed","steps":[{"name":"Fill email address","time":{"start":1760702199823,"stop":1760702199830,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('jonesrachel@example.org',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1760702199830,"stop":1760702200241,"duration":411},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702199830,"stop":1760702200241,"duration":411},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Agree to HPV vaccination","time":{"start":1760702200241,"stop":1760702200758,"duration":517},"status":"passed","steps":[{"name":"Agree to HPV vaccination","time":{"start":1760702200241,"stop":1760702200758,"duration":517},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702200290,"stop":1760702200757,"duration":467},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702200290,"stop":1760702200757,"duration":467},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill address details","time":{"start":1760702200758,"stop":1760702202031,"duration":1273},"status":"passed","steps":[{"name":"Fill address details","time":{"start":1760702200758,"stop":1760702202031,"duration":1273},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702200811,"stop":1760702202031,"duration":1220},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702200811,"stop":1760702202031,"duration":1220},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Studio 0', 'Jean greens', 'Evansberg', 'E60 4RU')"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select No","time":{"start":1760702202031,"stop":1760702202091,"duration":60},"status":"passed","steps":[{"name":"Select No","time":{"start":1760702202031,"stop":1760702202091,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1760702202091,"stop":1760702202425,"duration":334},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702202091,"stop":1760702202425,"duration":334},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select No","time":{"start":1760702202425,"stop":1760702202473,"duration":48},"status":"passed","steps":[{"name":"Select No","time":{"start":1760702202425,"stop":1760702202473,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1760702202473,"stop":1760702202746,"duration":273},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702202473,"stop":1760702202746,"duration":273},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select No","time":{"start":1760702202746,"stop":1760702202791,"duration":45},"status":"passed","steps":[{"name":"Select No","time":{"start":1760702202746,"stop":1760702202791,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1760702202791,"stop":1760702203058,"duration":267},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702202791,"stop":1760702203058,"duration":267},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select No","time":{"start":1760702203058,"stop":1760702203110,"duration":52},"status":"passed","steps":[{"name":"Select No","time":{"start":1760702203058,"stop":1760702203110,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1760702203110,"stop":1760702203503,"duration":393},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760702203110,"stop":1760702203503,"duration":393},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Confirm","time":{"start":1760702203503,"stop":1760702203708,"duration":205},"status":"passed","steps":[{"name":"Click Confirm","time":{"start":1760702203503,"stop":1760702203708,"duration":205},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to log in page","time":{"start":1760702203731,"stop":1760702203843,"duration":112},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1760702203731,"stop":1760702203843,"duration":112},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse') and choose team Team(name='Cole Ltd est. 1849', workgroup='E553V', careplus_venue_code='E553V', email='joe38@example.com', phone='+447700 900370')","time":{"start":1760702203843,"stop":1760702204551,"duration":708},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1760702203843,"stop":1760702204551,"duration":708},"status":"passed","steps":[{"name":"Log in as User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse')","time":{"start":1760702203843,"stop":1760702204532,"duration":689},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1760702203843,"stop":1760702204532,"duration":689},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse'), Team(name='Cole Ltd est. 1849', workgroup='E553V', careplus_venue_code='E553V', email='joe38@example.com', phone='+447700 900370'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1760702204551,"stop":1760702204763,"duration":212},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1760702204551,"stop":1760702204763,"duration":212},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='IMPACT Northwest Schools', urn='149573', site=None)","time":{"start":1760702204764,"stop":1760702205544,"duration":780},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1760702204764,"stop":1760702205544,"duration":780},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='IMPACT Northwest Schools', urn='149573', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Set session in progress for today","time":{"start":1760702205544,"stop":1760702206055,"duration":511},"status":"passed","steps":[{"name":"Click on Set session in progress for today","time":{"start":1760702205544,"stop":1760702206055,"duration":511},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Register tab","time":{"start":1760702206055,"stop":1760702206313,"duration":258},"status":"passed","steps":[{"name":"Click on Register tab","time":{"start":1760702206055,"stop":1760702206313,"duration":258},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'SAUNDERS, Lynn'","time":{"start":1760702206313,"stop":1760702206607,"duration":294},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1760702206313,"stop":1760702206607,"duration":294},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('SAUNDERS, Lynn',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Attending","time":{"start":1760702206607,"stop":1760702207307,"duration":700},"status":"passed","steps":[{"name":"Click on Attending","time":{"start":1760702206607,"stop":1760702207307,"duration":700},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record vaccinations","time":{"start":1760702207307,"stop":1760702207567,"duration":260},"status":"passed","steps":[{"name":"Click on Record vaccinations","time":{"start":1760702207307,"stop":1760702207567,"duration":260},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'SAUNDERS, Lynn'","time":{"start":1760702207567,"stop":1760702207811,"duration":244},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1760702207567,"stop":1760702207811,"duration":244},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('SAUNDERS, Lynn',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":70,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"hpv_consent_url::0","time":{"start":1760702255266,"stop":1760702286117,"duration":30851},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/_pytest/fixtures.py\", line 939, in _teardown_yield_fixture\n    next(it)\n    ~~~~^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/tests/test_e2e.py\", line 53, in hpv_consent_url\n    yield from schedule_session_and_get_consent_url(\n        schools[Programme.HPV][0], Programme.HPV\n    )\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/fixtures/helpers.py\", line 61, in wrapper\n    log_in_page.log_in_and_choose_team_if_necessary(nurse, team)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 39, in log_in_and_choose_team_if_necessary\n    self.log_in(user)\n    ~~~~~~~~~~~^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Go to log in page","time":{"start":1760702255266,"stop":1760702255541,"duration":275},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1760702255266,"stop":1760702255541,"duration":275},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse') and choose team Team(name='Cole Ltd est. 1849', workgroup='E553V', careplus_venue_code='E553V', email='joe38@example.com', phone='+447700 900370')","time":{"start":1760702255541,"stop":1760702286114,"duration":30573},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 39, in log_in_and_choose_team_if_necessary\n    self.log_in(user)\n    ~~~~~~~~~~~^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1760702255541,"stop":1760702286112,"duration":30571},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 39, in log_in_and_choose_team_if_necessary\n    self.log_in(user)\n    ~~~~~~~~~~~^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Log in as User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse')","time":{"start":1760702255541,"stop":1760702285862,"duration":30321},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Log in as {1}","time":{"start":1760702255541,"stop":1760702285862,"duration":30321},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[],"attachments":[{"uid":"24e632522989f639","name":"Screenshot on failure","source":"24e632522989f639.png","type":"image/png","size":30882}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6f38c6fe04ec0a3b","name":"Screenshot on failure","source":"6f38c6fe04ec0a3b.png","type":"image/png","size":30886}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='youngrosie@example.net', password='youngrosie@example.net', role='nurse'), Team(name='Cole Ltd est. 1849', workgroup='E553V', careplus_venue_code='E553V', email='joe38@example.com', phone='+447700 900370'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1760702286119,"stop":1760702286119,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1760702286120,"stop":1760702286139,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1760702286140,"stop":1760702286140,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1760702405650,"stop":1760702405650,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1760702405650,"stop":1760702405675,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1760702405677,"stop":1760702405688,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1760702405689,"stop":1760702406295,"duration":606},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"e2e"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_e2e"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"2185-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_e2e"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["e2e"]},"source":"3bd85c69a7e03abd.json","parameterValues":[]}