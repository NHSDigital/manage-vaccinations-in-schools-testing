{"uid":"cced1850c5cdb357","name":"test_vaccination_file_upload_nivs_disallow_flu_for_previous_years","fullName":"tests.test_import_records#test_vaccination_file_upload_nivs_disallow_flu_for_previous_years","historyId":"2a2730c5c56e7a61c20fa01e2bd2a2f1","time":{"start":1757670160090,"stop":1757670160090,"duration":0},"description":"\nTest: Upload a NIVS historic flu vaccination file for previous years and verify\n   it is disallowed.\nSteps:\n1. Upload a historic flu file for previous years.\nVerification:\n- Output indicates flu vaccinations for previous years are not allowed.\n","descriptionHtml":"<p>Test: Upload a NIVS historic flu vaccination file for previous years and verify<br />\nit is disallowed.<br />\nSteps:</p>\n<ol>\n<li>Upload a historic flu file for previous years.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Output indicates flu vaccinations for previous years are not allowed.</li>\n</ul>\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))","statusTrace":"log_in_as_nurse = None\nschools = {'HPV': [School(name='Woking High School', urn='139993', site=None), School(name='Lichfield Cathedral School', urn='12...e='Leigh Academy Blackheath', urn='145895', site=None), School(name='Co-op Academy Walkden', urn='146404', site=None)]}\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7f226dd6ce10>\nsessions_page = <mavis.test.pages.sessions.SessionsPage object at 0x7f226decd950>\nimport_records_page = <mavis.test.pages.import_records.ImportRecordsPage object at 0x7f226f32bdd0>\nyear_groups = {'HPV': 8, 'doubles': 9, 'flu': 10}\n\n    @pytest.fixture\n    def setup_vaccs(\n        log_in_as_nurse,\n        schools,\n        dashboard_page,\n        sessions_page,\n        import_records_page,\n        year_groups,\n    ):\n        school = schools[Programme.HPV][0]\n        year_group = year_groups[Programme.HPV]\n    \n        try:\n            dashboard_page.click_sessions()\n            sessions_page.ensure_session_scheduled_for_today(school, Programme.HPV)\n            sessions_page.click_import_class_lists()\n>           import_records_page.import_class_list(ClassFileMapping.RANDOM_CHILD, year_group)\n\ntests/test_import_records.py:53: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/import_records.py:183: in import_class_list\n    self.upload_and_verify_output(class_list_file, programme_group=programme_group)\nmavis/test/pages/import_records.py:132: in upload_and_verify_output\n    self.wait_for_processed()\nmavis/test/pages/import_records.py:86: in wait_for_processed\n    reload_until_element_is_visible(self.page, tag, seconds=30)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://qa.mavistesting.com/sessions'>\ntag = <Locator frame=<Frame name= url='https://qa.mavistesting.com/sessions'> selector='internal:role=strong >> internal:text=\"Completed\"i >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Invalid\\\\\"i\"'>\nseconds = 30\n\n    def reload_until_element_is_visible(\n        page: Page, tag: Locator, seconds: int = DEFAULT_TIMEOUT_SECONDS\n    ) -> None:\n        for _ in range(seconds * 2):\n            if tag.is_visible():\n                break\n    \n            time.sleep(0.5)\n    \n            page.reload()\n        else:\n>           expect(tag).to_be_visible()\nE           AssertionError: Locator expected to be visible\nE           Actual value: <element(s) not found> \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))\n\nmavis/test/utils.py:122: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1757669072634,"stop":1757669072634,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1757669072634,"stop":1757669072634,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1757669072634,"stop":1757669072635,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757669072634,"stop":1757669072634,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1757669072634,"stop":1757669072634,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1757669072635,"stop":1757669072636,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1757669072636,"stop":1757669084927,"duration":12291},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1757669072636,"stop":1757669072636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1757669084927,"stop":1757669085219,"duration":292},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1757669085219,"stop":1757669085219,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1757669085219,"stop":1757669085220,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1757669085220,"stop":1757669085314,"duration":94},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1757669085220,"stop":1757669085220,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1757669085220,"stop":1757669085220,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1757669085314,"stop":1757669085315,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1757669085315,"stop":1757669085316,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1757669085315,"stop":1757669085315,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1757669085316,"stop":1757669085640,"duration":324},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1757669085316,"stop":1757669085316,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1757669085316,"stop":1757669085316,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1757670160090,"stop":1757670160090,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1757670160090,"stop":1757670160090,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1757670160091,"stop":1757670160091,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1757670160091,"stop":1757670160095,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1757670160095,"stop":1757670160122,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1757670160122,"stop":1757670162468,"duration":2346},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1757670160122,"stop":1757670161259,"duration":1137},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1757670160122,"stop":1757670161259,"duration":1137},"status":"passed","steps":[],"attachments":[{"uid":"fc47b6779635f350","name":"Screenshot","source":"fc47b6779635f350.png","type":"image/png","size":10884}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='fpatel@example.com', password='fpatel@example.com', role='nurse') and choose team Team(name='Morgan, Johnson and Clark est. 1930', workgroup='D658W', careplus_venue_code='D658W', email='jshaw@example.org', phone='(07700) 900270')","time":{"start":1757670161260,"stop":1757670162468,"duration":1208},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1757670161260,"stop":1757670162468,"duration":1208},"status":"passed","steps":[{"name":"Log in as User(username='fpatel@example.com', password='fpatel@example.com', role='nurse')","time":{"start":1757670161260,"stop":1757670162261,"duration":1001},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1757670161260,"stop":1757670162261,"duration":1001},"status":"passed","steps":[],"attachments":[{"uid":"e5c161228539731f","name":"Screenshot","source":"e5c161228539731f.png","type":"image/png","size":33617}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='fpatel@example.com', password='fpatel@example.com', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"29448c6fa232fe8a","name":"Screenshot","source":"29448c6fa232fe8a.png","type":"image/png","size":33617}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='fpatel@example.com', password='fpatel@example.com', role='nurse'), Team(name='Morgan, Johnson and Clark est. 1930', workgroup='D658W', careplus_venue_code='D658W', email='jshaw@example.org', phone='(07700) 900270'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"log_in_page","time":{"start":1757670160122,"stop":1757670160122,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1757670160122,"stop":1757670160122,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1757670160122,"stop":1757670160122,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1757670162468,"stop":1757670162468,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1757670162468,"stop":1757670162471,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1757670162471,"stop":1757670162472,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1757670162472,"stop":1757670162472,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"import_records_page","time":{"start":1757670162472,"stop":1757670162472,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_vaccs","time":{"start":1757670162472,"stop":1757670229793,"duration":67321},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 1195, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 922, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/tests/test_import_records.py\", line 53, in setup_vaccs\n    import_records_page.import_class_list(ClassFileMapping.RANDOM_CHILD, year_group)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/import_records.py\", line 183, in import_class_list\n    self.upload_and_verify_output(class_list_file, programme_group=programme_group)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/import_records.py\", line 132, in upload_and_verify_output\n    self.wait_for_processed()\n    ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/import_records.py\", line 86, in wait_for_processed\n    reload_until_element_is_visible(self.page, tag, seconds=30)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/utils.py\", line 122, in reload_until_element_is_visible\n    expect(tag).to_be_visible()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py\", line 20424, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_assertions.py\", line 763, in to_be_visible\n    await self._expect_impl(\n    ...<5 lines>...\n    )\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_assertions.py\", line 83, in _expect_impl\n    raise AssertionError(\n        f\"{out_message}\\nActual value: {actual} {format_call_log(result.get('log'))}\"\n    )\n","steps":[{"name":"Click on Sessions","time":{"start":1757670162472,"stop":1757670164047,"duration":1575},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1757670162472,"stop":1757670164047,"duration":1575},"status":"passed","steps":[],"attachments":[{"uid":"11f0843201698d94","name":"Screenshot","source":"11f0843201698d94.png","type":"image/png","size":170791}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Woking High School', urn='139993', site=None)","time":{"start":1757670164047,"stop":1757670165056,"duration":1009},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1757670164047,"stop":1757670165056,"duration":1009},"status":"passed","steps":[],"attachments":[{"uid":"32e644ec7659aa2f","name":"Screenshot","source":"32e644ec7659aa2f.png","type":"image/png","size":37905}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Woking High School', urn='139993', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Schedule sessions","time":{"start":1757670165067,"stop":1757670165578,"duration":511},"status":"passed","steps":[{"name":"Click on Schedule sessions","time":{"start":1757670165067,"stop":1757670165578,"duration":511},"status":"passed","steps":[],"attachments":[{"uid":"85253577d4797467","name":"Screenshot","source":"85253577d4797467.png","type":"image/png","size":20211}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Add session dates","time":{"start":1757670165578,"stop":1757670166007,"duration":429},"status":"passed","steps":[{"name":"Click on Add session dates","time":{"start":1757670165578,"stop":1757670166007,"duration":429},"status":"passed","steps":[],"attachments":[{"uid":"4185ecbb7ff076a1","name":"Screenshot","source":"4185ecbb7ff076a1.png","type":"image/png","size":18893}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Fill date fields","time":{"start":1757670166007,"stop":1757670166191,"duration":184},"status":"passed","steps":[{"name":"Fill date fields","time":{"start":1757670166007,"stop":1757670166191,"duration":184},"status":"passed","steps":[],"attachments":[{"uid":"8c910adb2fbbcca1","name":"Screenshot","source":"8c910adb2fbbcca1.png","type":"image/png","size":19465}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('12', '09', '2025')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Continue","time":{"start":1757670166191,"stop":1757670166935,"duration":744},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1757670166191,"stop":1757670166935,"duration":744},"status":"passed","steps":[],"attachments":[{"uid":"d4d4cdbab74ec0ba","name":"Screenshot","source":"d4d4cdbab74ec0ba.png","type":"image/png","size":22999}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1757670166940,"stop":1757670167546,"duration":606},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1757670166940,"stop":1757670167546,"duration":606},"status":"passed","steps":[],"attachments":[{"uid":"9929c766039df2a","name":"Screenshot","source":"9929c766039df2a.png","type":"image/png","size":46114}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Import class lists","time":{"start":1757670167546,"stop":1757670168143,"duration":597},"status":"passed","steps":[{"name":"Click on Import class lists","time":{"start":1757670167546,"stop":1757670168143,"duration":597},"status":"passed","steps":[],"attachments":[{"uid":"96dc2cfa1967d508","name":"Screenshot","source":"96dc2cfa1967d508.png","type":"image/png","size":19939}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1757670168161,"stop":1757670168849,"duration":688},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1757670168161,"stop":1757670168849,"duration":688},"status":"passed","steps":[],"attachments":[{"uid":"e9b586c6207d2400","name":"Screenshot","source":"e9b586c6207d2400.png","type":"image/png","size":20399}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.RANDOM_CHILD20250912104248.csv')","time":{"start":1757670168857,"stop":1757670169010,"duration":153},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1757670168858,"stop":1757670169010,"duration":152},"status":"passed","steps":[],"attachments":[{"uid":"f2352195f1db7642","name":"Screenshot","source":"f2352195f1db7642.png","type":"image/png","size":20864}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.RANDOM_CHILD20250912104248.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1757670169010,"stop":1757670170307,"duration":1297},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1757670169010,"stop":1757670170307,"duration":1297},"status":"passed","steps":[],"attachments":[{"uid":"3a706cf643af0d49","name":"Screenshot","source":"3a706cf643af0d49.png","type":"image/png","size":175287}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1757670170325,"stop":1757670170825,"duration":500},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1757670170325,"stop":1757670170825,"duration":500},"status":"passed","steps":[],"attachments":[{"uid":"e8587f92405c2444","name":"Screenshot","source":"e8587f92405c2444.png","type":"image/png","size":23515}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Go to dashboard","time":{"start":1757670223238,"stop":1757670223709,"duration":471},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1757670223238,"stop":1757670223709,"duration":471},"status":"passed","steps":[],"attachments":[{"uid":"2cfef1e6b9c49fc1","name":"Screenshot","source":"2cfef1e6b9c49fc1.png","type":"image/png","size":33610}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1757670223709,"stop":1757670224208,"duration":499},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1757670223709,"stop":1757670224208,"duration":499},"status":"passed","steps":[],"attachments":[{"uid":"8c3fb49a5634b9a1","name":"Screenshot","source":"8c3fb49a5634b9a1.png","type":"image/png","size":33484}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1757670224208,"stop":1757670224752,"duration":544},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1757670224208,"stop":1757670224752,"duration":544},"status":"passed","steps":[],"attachments":[{"uid":"68db3d8acac362a4","name":"Screenshot","source":"68db3d8acac362a4.png","type":"image/png","size":34988}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Edit session","time":{"start":1757670225621,"stop":1757670226153,"duration":532},"status":"passed","steps":[{"name":"Click on Edit session","time":{"start":1757670225621,"stop":1757670226153,"duration":532},"status":"passed","steps":[],"attachments":[{"uid":"fc2e967af41d2222","name":"Screenshot","source":"fc2e967af41d2222.png","type":"image/png","size":23009}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Change session dates","time":{"start":1757670226153,"stop":1757670226717,"duration":564},"status":"passed","steps":[{"name":"Click on Change session dates","time":{"start":1757670226153,"stop":1757670226717,"duration":564},"status":"passed","steps":[],"attachments":[{"uid":"482f829dc30b058a","name":"Screenshot","source":"482f829dc30b058a.png","type":"image/png","size":19852}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Back","time":{"start":1757670227179,"stop":1757670227675,"duration":496},"status":"passed","steps":[{"name":"Click Back","time":{"start":1757670227180,"stop":1757670227675,"duration":495},"status":"passed","steps":[],"attachments":[{"uid":"9235615ab708d866","name":"Screenshot","source":"9235615ab708d866.png","type":"image/png","size":20228}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1757670227675,"stop":1757670228256,"duration":581},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1757670227675,"stop":1757670228256,"duration":581},"status":"passed","steps":[],"attachments":[{"uid":"28d2b90e7f33ab1e","name":"Screenshot","source":"28d2b90e7f33ab1e.png","type":"image/png","size":37915}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Sessions","time":{"start":1757670228256,"stop":1757670229793,"duration":1537},"status":"passed","steps":[{"name":"Click Sessions","time":{"start":1757670228256,"stop":1757670229793,"duration":1537},"status":"passed","steps":[],"attachments":[{"uid":"7e45162c576ddca2","name":"Screenshot","source":"7e45162c576ddca2.png","type":"image/png","size":170612}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":40,"attachmentsCount":20,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"log_in_as_nurse::0","time":{"start":1757670229806,"stop":1757670230296,"duration":490},"status":"passed","steps":[{"name":"Log out","time":{"start":1757670229806,"stop":1757670230296,"duration":490},"status":"passed","steps":[{"name":"Log out","time":{"start":1757670229806,"stop":1757670230296,"duration":490},"status":"passed","steps":[],"attachments":[{"uid":"63a84282f56457b3","name":"Screenshot","source":"63a84282f56457b3.png","type":"image/png","size":18537}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"new_context::0","time":{"start":1757670230297,"stop":1757670230306,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1757670230297,"stop":1757670230297,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1757670230306,"stop":1757670230306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1757670978823,"stop":1757670978850,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1757670978823,"stop":1757670978823,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1757670978852,"stop":1757670978863,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1757670978866,"stop":1757670986825,"duration":7959},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"bug"},{"name":"tag","value":"vaccinations"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_import_records"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"2176-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_import_records"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"MAV-1547","url":"https://nhsd-jira.digital.nhs.uk/browse/MAV-1547","type":"issue"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"27418be0b2260ecb","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))","time":{"start":1757670085761,"stop":1757670085761,"duration":0}},{"uid":"df3307b23163692c","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))","time":{"start":1757670017451,"stop":1757670017451,"duration":0}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["vaccinations","bug"]},"source":"cced1850c5cdb357.json","parameterValues":[]}