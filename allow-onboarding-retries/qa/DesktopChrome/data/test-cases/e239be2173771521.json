{"uid":"e239be2173771521","name":"test_vaccination_file_upload_no_urn_location_mav_855","fullName":"tests.test_import_records#test_vaccination_file_upload_no_urn_location_mav_855","historyId":"ccfa476aeb7c531e3b6f1ba076321f6b","time":{"start":1757669651209,"stop":1757669651209,"duration":0},"description":"\nTest: Upload a vaccination file with no URN/care setting and verify location is\n   set to school (MAV-855).\nSteps:\n1. Upload a vaccination file missing care setting.\n2. Navigate to children page and search for the child.\n3. Open vaccination details for the child.\nVerification:\n- Vaccination location is displayed as the school.\n","descriptionHtml":"<p>Test: Upload a vaccination file with no URN/care setting and verify location is<br />\nset to school (MAV-855).<br />\nSteps:</p>\n<ol>\n<li>Upload a vaccination file missing care setting.</li>\n<li>Navigate to children page and search for the child.</li>\n<li>Open vaccination details for the child.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Vaccination location is displayed as the school.</li>\n</ul>\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))","statusTrace":"log_in_as_nurse = None\nschools = {'HPV': [School(name='Woking High School', urn='139993', site=None), School(name='Lichfield Cathedral School', urn='12...e='Leigh Academy Blackheath', urn='145895', site=None), School(name='Co-op Academy Walkden', urn='146404', site=None)]}\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7f226dd6d5a0>\nsessions_page = <mavis.test.pages.sessions.SessionsPage object at 0x7f2267f74690>\nimport_records_page = <mavis.test.pages.import_records.ImportRecordsPage object at 0x7f2267f28950>\nyear_groups = {'HPV': 8, 'doubles': 9, 'flu': 10}\n\n    @pytest.fixture\n    def setup_vaccs(\n        log_in_as_nurse,\n        schools,\n        dashboard_page,\n        sessions_page,\n        import_records_page,\n        year_groups,\n    ):\n        school = schools[Programme.HPV][0]\n        year_group = year_groups[Programme.HPV]\n    \n        try:\n            dashboard_page.click_sessions()\n            sessions_page.ensure_session_scheduled_for_today(school, Programme.HPV)\n            sessions_page.click_import_class_lists()\n>           import_records_page.import_class_list(ClassFileMapping.RANDOM_CHILD, year_group)\n\ntests/test_import_records.py:53: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/import_records.py:183: in import_class_list\n    self.upload_and_verify_output(class_list_file, programme_group=programme_group)\nmavis/test/pages/import_records.py:132: in upload_and_verify_output\n    self.wait_for_processed()\nmavis/test/pages/import_records.py:86: in wait_for_processed\n    reload_until_element_is_visible(self.page, tag, seconds=30)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://qa.mavistesting.com/sessions'>\ntag = <Locator frame=<Frame name= url='https://qa.mavistesting.com/sessions'> selector='internal:role=strong >> internal:text=\"Completed\"i >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Invalid\\\\\"i\"'>\nseconds = 30\n\n    def reload_until_element_is_visible(\n        page: Page, tag: Locator, seconds: int = DEFAULT_TIMEOUT_SECONDS\n    ) -> None:\n        for _ in range(seconds * 2):\n            if tag.is_visible():\n                break\n    \n            time.sleep(0.5)\n    \n            page.reload()\n        else:\n>           expect(tag).to_be_visible()\nE           AssertionError: Locator expected to be visible\nE           Actual value: <element(s) not found> \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))\n\nmavis/test/utils.py:122: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1757669072634,"stop":1757669072634,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1757669072634,"stop":1757669072634,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1757669072634,"stop":1757669072635,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757669072634,"stop":1757669072634,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1757669072634,"stop":1757669072634,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1757669072635,"stop":1757669072636,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1757669072636,"stop":1757669084927,"duration":12291},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1757669072636,"stop":1757669072636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1757669084927,"stop":1757669084927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1757669084927,"stop":1757669085219,"duration":292},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1757669085219,"stop":1757669085219,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1757669085219,"stop":1757669085220,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1757669085220,"stop":1757669085314,"duration":94},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1757669085220,"stop":1757669085220,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1757669085220,"stop":1757669085220,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1757669085314,"stop":1757669085315,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1757669085315,"stop":1757669085316,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1757669085315,"stop":1757669085315,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1757669085316,"stop":1757669085640,"duration":324},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1757669085316,"stop":1757669085316,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1757669085316,"stop":1757669085316,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1757669651210,"stop":1757669651210,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1757669651210,"stop":1757669651210,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1757669651210,"stop":1757669651214,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1757669651210,"stop":1757669651210,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1757669651214,"stop":1757669651238,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1757669651239,"stop":1757669651239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1757669651239,"stop":1757669651239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1757669651239,"stop":1757669651239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1757669651239,"stop":1757669653591,"duration":2352},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1757669651239,"stop":1757669652442,"duration":1203},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1757669651239,"stop":1757669652442,"duration":1203},"status":"passed","steps":[],"attachments":[{"uid":"ffb8ff46ddabd3fe","name":"Screenshot","source":"ffb8ff46ddabd3fe.png","type":"image/png","size":10884}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='fpatel@example.com', password='fpatel@example.com', role='nurse') and choose team Team(name='Morgan, Johnson and Clark est. 1930', workgroup='D658W', careplus_venue_code='D658W', email='jshaw@example.org', phone='(07700) 900270')","time":{"start":1757669652442,"stop":1757669653591,"duration":1149},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1757669652442,"stop":1757669653591,"duration":1149},"status":"passed","steps":[{"name":"Log in as User(username='fpatel@example.com', password='fpatel@example.com', role='nurse')","time":{"start":1757669652442,"stop":1757669653379,"duration":937},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1757669652443,"stop":1757669653379,"duration":936},"status":"passed","steps":[],"attachments":[{"uid":"7365f2cc107052d6","name":"Screenshot","source":"7365f2cc107052d6.png","type":"image/png","size":33655}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='fpatel@example.com', password='fpatel@example.com', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"b714c5638ce4b7b3","name":"Screenshot","source":"b714c5638ce4b7b3.png","type":"image/png","size":33655}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='fpatel@example.com', password='fpatel@example.com', role='nurse'), Team(name='Morgan, Johnson and Clark est. 1930', workgroup='D658W', careplus_venue_code='D658W', email='jshaw@example.org', phone='(07700) 900270'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1757669653591,"stop":1757669653591,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1757669653591,"stop":1757669653594,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1757669653594,"stop":1757669653595,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1757669653595,"stop":1757669653595,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_vaccs","time":{"start":1757669653595,"stop":1757669720355,"duration":66760},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 1195, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 922, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/tests/test_import_records.py\", line 53, in setup_vaccs\n    import_records_page.import_class_list(ClassFileMapping.RANDOM_CHILD, year_group)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/import_records.py\", line 183, in import_class_list\n    self.upload_and_verify_output(class_list_file, programme_group=programme_group)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/import_records.py\", line 132, in upload_and_verify_output\n    self.wait_for_processed()\n    ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/import_records.py\", line 86, in wait_for_processed\n    reload_until_element_is_visible(self.page, tag, seconds=30)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/utils.py\", line 122, in reload_until_element_is_visible\n    expect(tag).to_be_visible()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py\", line 20424, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_assertions.py\", line 763, in to_be_visible\n    await self._expect_impl(\n    ...<5 lines>...\n    )\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_assertions.py\", line 83, in _expect_impl\n    raise AssertionError(\n        f\"{out_message}\\nActual value: {actual} {format_call_log(result.get('log'))}\"\n    )\n","steps":[{"name":"Click on Sessions","time":{"start":1757669653595,"stop":1757669655164,"duration":1569},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1757669653595,"stop":1757669655164,"duration":1569},"status":"passed","steps":[],"attachments":[{"uid":"a674e2bb8d527b29","name":"Screenshot","source":"a674e2bb8d527b29.png","type":"image/png","size":170285}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Woking High School', urn='139993', site=None)","time":{"start":1757669655164,"stop":1757669656149,"duration":985},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1757669655164,"stop":1757669656149,"duration":985},"status":"passed","steps":[],"attachments":[{"uid":"f440082338387523","name":"Screenshot","source":"f440082338387523.png","type":"image/png","size":37953}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Woking High School', urn='139993', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Schedule sessions","time":{"start":1757669656165,"stop":1757669656612,"duration":447},"status":"passed","steps":[{"name":"Click on Schedule sessions","time":{"start":1757669656166,"stop":1757669656612,"duration":446},"status":"passed","steps":[],"attachments":[{"uid":"3efaf8907af31254","name":"Screenshot","source":"3efaf8907af31254.png","type":"image/png","size":20258}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Add session dates","time":{"start":1757669656612,"stop":1757669657143,"duration":531},"status":"passed","steps":[{"name":"Click on Add session dates","time":{"start":1757669656612,"stop":1757669657143,"duration":531},"status":"passed","steps":[],"attachments":[{"uid":"55a6eb7a32cf577f","name":"Screenshot","source":"55a6eb7a32cf577f.png","type":"image/png","size":18922}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Fill date fields","time":{"start":1757669657143,"stop":1757669657341,"duration":198},"status":"passed","steps":[{"name":"Fill date fields","time":{"start":1757669657143,"stop":1757669657341,"duration":198},"status":"passed","steps":[],"attachments":[{"uid":"1f3532e5be7a0e5a","name":"Screenshot","source":"1f3532e5be7a0e5a.png","type":"image/png","size":19512}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('12', '09', '2025')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Continue","time":{"start":1757669657341,"stop":1757669657977,"duration":636},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1757669657341,"stop":1757669657977,"duration":636},"status":"passed","steps":[],"attachments":[{"uid":"b2034c91757319bd","name":"Screenshot","source":"b2034c91757319bd.png","type":"image/png","size":23047}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1757669657983,"stop":1757669658675,"duration":692},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1757669657983,"stop":1757669658675,"duration":692},"status":"passed","steps":[],"attachments":[{"uid":"efef33a15a064e72","name":"Screenshot","source":"efef33a15a064e72.png","type":"image/png","size":46197}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Import class lists","time":{"start":1757669658675,"stop":1757669659214,"duration":539},"status":"passed","steps":[{"name":"Click on Import class lists","time":{"start":1757669658675,"stop":1757669659214,"duration":539},"status":"passed","steps":[],"attachments":[{"uid":"f16608e6b4a39fae","name":"Screenshot","source":"f16608e6b4a39fae.png","type":"image/png","size":19973}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1757669659232,"stop":1757669659882,"duration":650},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1757669659232,"stop":1757669659882,"duration":650},"status":"passed","steps":[],"attachments":[{"uid":"927c183802bc77a5","name":"Screenshot","source":"927c183802bc77a5.png","type":"image/png","size":20434}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.RANDOM_CHILD20250912103419.csv')","time":{"start":1757669659890,"stop":1757669660050,"duration":160},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1757669659890,"stop":1757669660050,"duration":160},"status":"passed","steps":[],"attachments":[{"uid":"df06ca2559429a1a","name":"Screenshot","source":"df06ca2559429a1a.png","type":"image/png","size":20916}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.RANDOM_CHILD20250912103419.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1757669660050,"stop":1757669661242,"duration":1192},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1757669660050,"stop":1757669661242,"duration":1192},"status":"passed","steps":[],"attachments":[{"uid":"83cd4189473ebb37","name":"Screenshot","source":"83cd4189473ebb37.png","type":"image/png","size":128095}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1757669661252,"stop":1757669661802,"duration":550},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1757669661252,"stop":1757669661802,"duration":550},"status":"passed","steps":[],"attachments":[{"uid":"d767e65febdb791a","name":"Screenshot","source":"d767e65febdb791a.png","type":"image/png","size":23609}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Go to dashboard","time":{"start":1757669713637,"stop":1757669714140,"duration":503},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1757669713637,"stop":1757669714140,"duration":503},"status":"passed","steps":[],"attachments":[{"uid":"acb089b2c8b8feef","name":"Screenshot","source":"acb089b2c8b8feef.png","type":"image/png","size":33655}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1757669714140,"stop":1757669714724,"duration":584},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1757669714140,"stop":1757669714724,"duration":584},"status":"passed","steps":[],"attachments":[{"uid":"f6d6c430cd137a02","name":"Screenshot","source":"f6d6c430cd137a02.png","type":"image/png","size":33536}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1757669714724,"stop":1757669715350,"duration":626},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1757669714724,"stop":1757669715350,"duration":626},"status":"passed","steps":[],"attachments":[{"uid":"eb00d2f9078b9e79","name":"Screenshot","source":"eb00d2f9078b9e79.png","type":"image/png","size":35033}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Edit session","time":{"start":1757669716165,"stop":1757669716688,"duration":523},"status":"passed","steps":[{"name":"Click on Edit session","time":{"start":1757669716165,"stop":1757669716688,"duration":523},"status":"passed","steps":[],"attachments":[{"uid":"91831abb5ab24c74","name":"Screenshot","source":"91831abb5ab24c74.png","type":"image/png","size":23047}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Change session dates","time":{"start":1757669716688,"stop":1757669717175,"duration":487},"status":"passed","steps":[{"name":"Click on Change session dates","time":{"start":1757669716688,"stop":1757669717175,"duration":487},"status":"passed","steps":[],"attachments":[{"uid":"b64451ba13545e36","name":"Screenshot","source":"b64451ba13545e36.png","type":"image/png","size":19889}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Back","time":{"start":1757669717657,"stop":1757669718235,"duration":578},"status":"passed","steps":[{"name":"Click Back","time":{"start":1757669717657,"stop":1757669718235,"duration":578},"status":"passed","steps":[],"attachments":[{"uid":"e467553354b6b0d3","name":"Screenshot","source":"e467553354b6b0d3.png","type":"image/png","size":20253}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1757669718235,"stop":1757669718814,"duration":579},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1757669718235,"stop":1757669718814,"duration":579},"status":"passed","steps":[],"attachments":[{"uid":"f5738547e70c37fa","name":"Screenshot","source":"f5738547e70c37fa.png","type":"image/png","size":37953}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Sessions","time":{"start":1757669718814,"stop":1757669720355,"duration":1541},"status":"passed","steps":[{"name":"Click Sessions","time":{"start":1757669718814,"stop":1757669720355,"duration":1541},"status":"passed","steps":[],"attachments":[{"uid":"454b14b87e56b118","name":"Screenshot","source":"454b14b87e56b118.png","type":"image/png","size":170568}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":40,"attachmentsCount":20,"hasContent":true,"attachmentStep":false},{"name":"import_records_page","time":{"start":1757669653595,"stop":1757669653595,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children_page","time":{"start":1757670487399,"stop":1757670487400,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"log_in_as_nurse::0","time":{"start":1757669720369,"stop":1757669720907,"duration":538},"status":"passed","steps":[{"name":"Log out","time":{"start":1757669720369,"stop":1757669720907,"duration":538},"status":"passed","steps":[{"name":"Log out","time":{"start":1757669720369,"stop":1757669720907,"duration":538},"status":"passed","steps":[],"attachments":[{"uid":"cc22ec8734fef32","name":"Screenshot","source":"cc22ec8734fef32.png","type":"image/png","size":18537}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1757669720907,"stop":1757669720907,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1757669720908,"stop":1757669720916,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1757669720916,"stop":1757669720916,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1757670978823,"stop":1757670978850,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1757670978823,"stop":1757670978823,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1757670978852,"stop":1757670978863,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1757670978866,"stop":1757670986825,"duration":7959},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"bug"},{"name":"tag","value":"vaccinations"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_import_records"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"2176-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_import_records"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"MAV-855","url":"https://nhsd-jira.digital.nhs.uk/browse/MAV-855","type":"issue"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"e39938698d2c5c7","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))","time":{"start":1757669583397,"stop":1757669583397,"duration":0}},{"uid":"9c1bd24464aedf22","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))","time":{"start":1757669519316,"stop":1757669519316,"duration":0}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["vaccinations","bug"]},"source":"e239be2173771521.json","parameterValues":[]}