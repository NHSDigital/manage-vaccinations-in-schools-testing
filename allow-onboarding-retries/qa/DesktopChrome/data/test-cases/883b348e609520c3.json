{"uid":"883b348e609520c3","name":"test_session_activity_notes_order","fullName":"tests.test_sessions#test_session_activity_notes_order","historyId":"4c706d8480911507121aee36cf1cb167","time":{"start":1757669872882,"stop":1757669872882,"duration":0},"description":"\nTest: Add multiple notes to a session and verify their order in the activity log.\nSteps:\n1. Open a session with a fixed child.\n2. Add two notes in sequence.\n3. Refresh and search for the child in the session.\n4. Verify the most recent note appears first in the list.\nVerification:\n- Notes appear in reverse chronological order in the activity log.\n","descriptionHtml":"<p>Test: Add multiple notes to a session and verify their order in the activity log.<br />\nSteps:</p>\n<ol>\n<li>Open a session with a fixed child.</li>\n<li>Add two notes in sequence.</li>\n<li>Refresh and search for the child in the session.</li>\n<li>Verify the most recent note appears first in the list.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Notes appear in reverse chronological order in the activity log.</li>\n</ul>\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))","statusTrace":"setup_session_with_file_upload = <function setup_session_with_file_upload.<locals>._setup at 0x7f5c198ecea0>\n\n    @pytest.fixture\n    def setup_fixed_child(setup_session_with_file_upload):\n>       yield from setup_session_with_file_upload(ClassFileMapping.FIXED_CHILD)\n\ntests/test_sessions.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/test_sessions.py:32: in _setup\n    import_records_page.import_class_list(class_list_file, year_group)\nmavis/test/pages/import_records.py:183: in import_class_list\n    self.upload_and_verify_output(class_list_file, programme_group=programme_group)\nmavis/test/pages/import_records.py:132: in upload_and_verify_output\n    self.wait_for_processed()\nmavis/test/pages/import_records.py:86: in wait_for_processed\n    reload_until_element_is_visible(self.page, tag, seconds=30)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://qa.mavistesting.com/sessions'>\ntag = <Locator frame=<Frame name= url='https://qa.mavistesting.com/sessions'> selector='internal:role=strong >> internal:text=\"Completed\"i >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Invalid\\\\\"i\"'>\nseconds = 30\n\n    def reload_until_element_is_visible(\n        page: Page, tag: Locator, seconds: int = DEFAULT_TIMEOUT_SECONDS\n    ) -> None:\n        for _ in range(seconds * 2):\n            if tag.is_visible():\n                break\n    \n            time.sleep(0.5)\n    \n            page.reload()\n        else:\n>           expect(tag).to_be_visible()\nE           AssertionError: Locator expected to be visible\nE           Actual value: <element(s) not found> \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))\n\nmavis/test/utils.py:122: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1757669072637,"stop":1757669072637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1757669072637,"stop":1757669072637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1757669072637,"stop":1757669072637,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1757669072637,"stop":1757669072638,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1757669072638,"stop":1757669072639,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1757669072639,"stop":1757669072639,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1757669072639,"stop":1757669082116,"duration":9477},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1757669072639,"stop":1757669072639,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1757669082117,"stop":1757669082117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1757669082117,"stop":1757669082117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1757669082117,"stop":1757669082412,"duration":295},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1757669082117,"stop":1757669082117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1757669082117,"stop":1757669082117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1757669082117,"stop":1757669082117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1757669082412,"stop":1757669082412,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1757669082412,"stop":1757669082413,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1757669082413,"stop":1757669084681,"duration":2268},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1757669082413,"stop":1757669082413,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1757669082413,"stop":1757669082413,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1757669084682,"stop":1757669084684,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1757669084682,"stop":1757669084682,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1757669084684,"stop":1757669084684,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1757669084684,"stop":1757669084684,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1757669084684,"stop":1757669084684,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1757669084684,"stop":1757669084684,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1757669084684,"stop":1757669084684,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1757669446014,"stop":1757669446525,"duration":511},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1757669872883,"stop":1757669872883,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1757669872883,"stop":1757669872890,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1757669872883,"stop":1757669872883,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1757669872883,"stop":1757669872883,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1757669872890,"stop":1757669872929,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1757669872929,"stop":1757669872930,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1757669872929,"stop":1757669872929,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1757669872929,"stop":1757669872929,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1757669872930,"stop":1757669875242,"duration":2312},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1757669872930,"stop":1757669873972,"duration":1042},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1757669872930,"stop":1757669873972,"duration":1042},"status":"passed","steps":[],"attachments":[{"uid":"23c33938ffb2a95d","name":"Screenshot","source":"23c33938ffb2a95d.png","type":"image/png","size":10884}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='elliott82@example.com', password='elliott82@example.com', role='nurse') and choose team Team(name='Williamson, West and Davies est. 1780', workgroup='W015O', careplus_venue_code='W015O', email='jake69@example.com', phone='+44(0)7700 900 612')","time":{"start":1757669873972,"stop":1757669875242,"duration":1270},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1757669873972,"stop":1757669875242,"duration":1270},"status":"passed","steps":[{"name":"Log in as User(username='elliott82@example.com', password='elliott82@example.com', role='nurse')","time":{"start":1757669873972,"stop":1757669875009,"duration":1037},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1757669873972,"stop":1757669875009,"duration":1037},"status":"passed","steps":[],"attachments":[{"uid":"5f33b197972118da","name":"Screenshot","source":"5f33b197972118da.png","type":"image/png","size":33607}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='elliott82@example.com', password='elliott82@example.com', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"28c2a4ea5c9cc7b3","name":"Screenshot","source":"28c2a4ea5c9cc7b3.png","type":"image/png","size":33607}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='elliott82@example.com', password='elliott82@example.com', role='nurse'), Team(name='Williamson, West and Davies est. 1780', workgroup='W015O', careplus_venue_code='W015O', email='jake69@example.com', phone='+44(0)7700 900 612'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"setup_tests","time":{"start":1757669875242,"stop":1757669876804,"duration":1562},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1757669875242,"stop":1757669876804,"duration":1562},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1757669875242,"stop":1757669876804,"duration":1562},"status":"passed","steps":[],"attachments":[{"uid":"1625448c5a7e0329","name":"Screenshot","source":"1625448c5a7e0329.png","type":"image/png","size":170064}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1757669875242,"stop":1757669875242,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1757669876805,"stop":1757669876809,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1757669876809,"stop":1757669876810,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"import_records_page","time":{"start":1757669876810,"stop":1757669876810,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1757669876810,"stop":1757669876810,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_session_with_file_upload","time":{"start":1757669876810,"stop":1757669876810,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_fixed_child","time":{"start":1757669876810,"stop":1757669938221,"duration":61411},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 1195, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 922, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/tests/test_sessions.py\", line 58, in setup_fixed_child\n    yield from setup_session_with_file_upload(ClassFileMapping.FIXED_CHILD)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/tests/test_sessions.py\", line 32, in _setup\n    import_records_page.import_class_list(class_list_file, year_group)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/import_records.py\", line 183, in import_class_list\n    self.upload_and_verify_output(class_list_file, programme_group=programme_group)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/import_records.py\", line 132, in upload_and_verify_output\n    self.wait_for_processed()\n    ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/import_records.py\", line 86, in wait_for_processed\n    reload_until_element_is_visible(self.page, tag, seconds=30)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/utils.py\", line 122, in reload_until_element_is_visible\n    expect(tag).to_be_visible()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py\", line 20424, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_assertions.py\", line 763, in to_be_visible\n    await self._expect_impl(\n    ...<5 lines>...\n    )\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_assertions.py\", line 83, in _expect_impl\n    raise AssertionError(\n        f\"{out_message}\\nActual value: {actual} {format_call_log(result.get('log'))}\"\n    )\n","steps":[{"name":"Click on 'HPV' session at School(name='Elysian, West Horsley', urn='150760', site=None)","time":{"start":1757669876810,"stop":1757669877779,"duration":969},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1757669876810,"stop":1757669877779,"duration":969},"status":"passed","steps":[],"attachments":[{"uid":"1e4ce06ff8a52cd5","name":"Screenshot","source":"1e4ce06ff8a52cd5.png","type":"image/png","size":38514}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Elysian, West Horsley', urn='150760', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Schedule sessions","time":{"start":1757669877792,"stop":1757669878299,"duration":507},"status":"passed","steps":[{"name":"Click on Schedule sessions","time":{"start":1757669877792,"stop":1757669878299,"duration":507},"status":"passed","steps":[],"attachments":[{"uid":"9bc73dda6d61df5d","name":"Screenshot","source":"9bc73dda6d61df5d.png","type":"image/png","size":20239}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Add session dates","time":{"start":1757669878299,"stop":1757669878769,"duration":470},"status":"passed","steps":[{"name":"Click on Add session dates","time":{"start":1757669878299,"stop":1757669878769,"duration":470},"status":"passed","steps":[],"attachments":[{"uid":"3ed258b6ff138a10","name":"Screenshot","source":"3ed258b6ff138a10.png","type":"image/png","size":18866}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Fill date fields","time":{"start":1757669878769,"stop":1757669878987,"duration":218},"status":"passed","steps":[{"name":"Fill date fields","time":{"start":1757669878769,"stop":1757669878986,"duration":217},"status":"passed","steps":[],"attachments":[{"uid":"68fb7bf2a0499ac4","name":"Screenshot","source":"68fb7bf2a0499ac4.png","type":"image/png","size":19441}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('12', '09', '2025')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Continue","time":{"start":1757669878987,"stop":1757669879704,"duration":717},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1757669878987,"stop":1757669879704,"duration":717},"status":"passed","steps":[],"attachments":[{"uid":"af90544bb9665366","name":"Screenshot","source":"af90544bb9665366.png","type":"image/png","size":23014}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1757669879710,"stop":1757669880495,"duration":785},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1757669879710,"stop":1757669880495,"duration":785},"status":"passed","steps":[],"attachments":[{"uid":"30e619820c068601","name":"Screenshot","source":"30e619820c068601.png","type":"image/png","size":48453}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Import class lists","time":{"start":1757669880495,"stop":1757669881215,"duration":720},"status":"passed","steps":[{"name":"Click on Import class lists","time":{"start":1757669880495,"stop":1757669881215,"duration":720},"status":"passed","steps":[],"attachments":[{"uid":"c0349101fbc55ca6","name":"Screenshot","source":"c0349101fbc55ca6.png","type":"image/png","size":19913}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1757669881243,"stop":1757669881988,"duration":745},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1757669881243,"stop":1757669881988,"duration":745},"status":"passed","steps":[],"attachments":[{"uid":"14778e1712b6806e","name":"Screenshot","source":"14778e1712b6806e.png","type":"image/png","size":20429}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.FIXED_CHILD20250912103801.csv')","time":{"start":1757669881996,"stop":1757669882182,"duration":186},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1757669881996,"stop":1757669882182,"duration":186},"status":"passed","steps":[],"attachments":[{"uid":"cb0d362e1ea6b35a","name":"Screenshot","source":"cb0d362e1ea6b35a.png","type":"image/png","size":20923}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.FIXED_CHILD20250912103801.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1757669882182,"stop":1757669882988,"duration":806},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1757669882182,"stop":1757669882988,"duration":806},"status":"passed","steps":[],"attachments":[{"uid":"ca688ddbad016f8f","name":"Screenshot","source":"ca688ddbad016f8f.png","type":"image/png","size":56654}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1757669882996,"stop":1757669883457,"duration":461},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1757669882996,"stop":1757669883457,"duration":461},"status":"passed","steps":[],"attachments":[{"uid":"35e3c20cafb09668","name":"Screenshot","source":"35e3c20cafb09668.png","type":"image/png","size":23261}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Go to dashboard","time":{"start":1757669932680,"stop":1757669933081,"duration":401},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1757669932680,"stop":1757669933081,"duration":401},"status":"passed","steps":[],"attachments":[{"uid":"4335b2977191d34a","name":"Screenshot","source":"4335b2977191d34a.png","type":"image/png","size":33607}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1757669933081,"stop":1757669933494,"duration":413},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1757669933081,"stop":1757669933494,"duration":413},"status":"passed","steps":[],"attachments":[{"uid":"287f288d6d3bc0a9","name":"Screenshot","source":"287f288d6d3bc0a9.png","type":"image/png","size":33482}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1757669933494,"stop":1757669933997,"duration":503},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1757669933494,"stop":1757669933997,"duration":503},"status":"passed","steps":[],"attachments":[{"uid":"8a68f77269e38ecd","name":"Screenshot","source":"8a68f77269e38ecd.png","type":"image/png","size":35160}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Edit session","time":{"start":1757669934593,"stop":1757669935027,"duration":434},"status":"passed","steps":[{"name":"Click on Edit session","time":{"start":1757669934593,"stop":1757669935027,"duration":434},"status":"passed","steps":[],"attachments":[{"uid":"b9bf2c2107a8c86","name":"Screenshot","source":"b9bf2c2107a8c86.png","type":"image/png","size":23014}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click on Change session dates","time":{"start":1757669935028,"stop":1757669935450,"duration":422},"status":"passed","steps":[{"name":"Click on Change session dates","time":{"start":1757669935028,"stop":1757669935450,"duration":422},"status":"passed","steps":[],"attachments":[{"uid":"21db4b93d5abb3ab","name":"Screenshot","source":"21db4b93d5abb3ab.png","type":"image/png","size":19829}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Back","time":{"start":1757669935774,"stop":1757669936202,"duration":428},"status":"passed","steps":[{"name":"Click Back","time":{"start":1757669935774,"stop":1757669936202,"duration":428},"status":"passed","steps":[],"attachments":[{"uid":"2d29d24cc07cceae","name":"Screenshot","source":"2d29d24cc07cceae.png","type":"image/png","size":20231}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1757669936203,"stop":1757669936674,"duration":471},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1757669936203,"stop":1757669936674,"duration":471},"status":"passed","steps":[],"attachments":[{"uid":"60adce6c0b117777","name":"Screenshot","source":"60adce6c0b117777.png","type":"image/png","size":38514}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Click Sessions","time":{"start":1757669936674,"stop":1757669938221,"duration":1547},"status":"passed","steps":[{"name":"Click Sessions","time":{"start":1757669936674,"stop":1757669938221,"duration":1547},"status":"passed","steps":[],"attachments":[{"uid":"8efc2abb370f1ece","name":"Screenshot","source":"8efc2abb370f1ece.png","type":"image/png","size":170439}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":38,"attachmentsCount":19,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"log_in_as_nurse::0","time":{"start":1757669938241,"stop":1757669938765,"duration":524},"status":"passed","steps":[{"name":"Log out","time":{"start":1757669938241,"stop":1757669938765,"duration":524},"status":"passed","steps":[{"name":"Log out","time":{"start":1757669938241,"stop":1757669938765,"duration":524},"status":"passed","steps":[],"attachments":[{"uid":"a75ed588971f2f85","name":"Screenshot","source":"a75ed588971f2f85.png","type":"image/png","size":18537}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1757669938766,"stop":1757669938766,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1757669938767,"stop":1757669938776,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1757669938776,"stop":1757669938776,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1757670776226,"stop":1757670776226,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1757670776226,"stop":1757670776274,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1757670776275,"stop":1757670776285,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1757670776287,"stop":1757670779154,"duration":2867},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"sessions"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_sessions"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"2186-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_sessions"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"MAV-1265","url":"https://nhsd-jira.digital.nhs.uk/browse/MAV-1265","type":"issue"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5424a0fdd700bd80","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))","time":{"start":1757669802487,"stop":1757669802487,"duration":0}},{"uid":"ad662878b67cbf0e","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))","time":{"start":1757669728056,"stop":1757669728056,"duration":0}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["sessions"]},"source":"883b348e609520c3.json","parameterValues":[]}