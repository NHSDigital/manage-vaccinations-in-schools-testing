{"uid":"b432349f79cafe0c","name":"test_report_has_correct_values","fullName":"tests.test_reporting_downloads#test_report_has_correct_values","historyId":"ed5a23eb913d6ff33d3b16ff12520206","time":{"start":1761837146645,"stop":1761837179215,"duration":32570},"description":"\nTest: Verify that downloaded report has expected values\nSteps:\n1. Record an HPV vaccination for a child.\n2. Refresh reports and check cohort and vaccination percentages.\n3. Download the report and verify cohort, vaccinated, and not vaccinated values.\nVerification:\n- Cohort size, vaccinated, and not vaccinated values are correct in both UI\n  and downloaded report.\n","descriptionHtml":"<p>Test: Verify that downloaded report has expected values<br />\nSteps:</p>\n<ol>\n<li>Record an HPV vaccination for a child.</li>\n<li>Refresh reports and check cohort and vaccination percentages.</li>\n<li>Download the report and verify cohort, vaccinated, and not vaccinated values.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Cohort size, vaccinated, and not vaccinated values are correct in both UI<br />\nand downloaded report.</li>\n</ul>\n","status":"failed","statusMessage":"AssertionError: Locator expected to contain text '1children'\nActual value: 17children \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"heading\", name=\"Cohort\", exact=True).locator(\"xpath=following-sibling::*[1]\")\n    9 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\n      - unexpected value \"17children\"","statusTrace":"record_hpv = (Child(first_name='Abdul', last_name='SKINNER', nhs_number='9119039530', address=('Flat 31', 'Andrea harbor', 'Debramo...bb@example.net'))), datetime.datetime(2025, 10, 30, 15, 12, 26, 644091, tzinfo=zoneinfo.ZoneInfo(key='Europe/London')))\nreports_vaccinations_page = <mavis.test.pages.reports.ReportsVaccinationsPage object at 0x7f031d0a4cd0>\nreports_download_page = <mavis.test.pages.reports.ReportsDownloadPage object at 0x7f031d0a4b90>\n\n    def test_report_has_correct_values(\n        record_hpv,\n        reports_vaccinations_page,\n        reports_download_page,\n    ):\n        \"\"\"\n        Test: Verify that downloaded report has expected values\n        Steps:\n        1. Record an HPV vaccination for a child.\n        2. Refresh reports and check cohort and vaccination percentages.\n        3. Download the report and verify cohort, vaccinated, and not vaccinated values.\n        Verification:\n        - Cohort size, vaccinated, and not vaccinated values are correct in both UI\n          and downloaded report.\n        \"\"\"\n        reports_vaccinations_page.navigate()\n        reports_vaccinations_page.check_filter_for_programme(Programme.HPV)\n    \n        reports_vaccinations_page.navigate_and_refresh_reports()\n        reports_vaccinations_page.check_filter_for_programme(Programme.HPV)\n>       reports_vaccinations_page.check_cohort_has_n_children(1)\n\ntests/test_reporting_downloads.py:103: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mavis.test.pages.reports.ReportsVaccinationsPage object at 0x7f031d0a4cd0>\nexpected_value = 1\n\n    def check_cohort_has_n_children(self, expected_value: int) -> None:\n        cohort_heading = self.page.get_by_role(\"heading\", name=\"Cohort\", exact=True)\n        cohort_value = cohort_heading.locator(\"xpath=following-sibling::*[1]\")\n>       expect(cohort_value).to_contain_text(f\"{expected_value}children\")\nE       AssertionError: Locator expected to contain text '1children'\nE       Actual value: 17children \nE       Call log:\nE         - Expect \"to_contain_text\" with timeout 5000ms\nE         - waiting for get_by_role(\"heading\", name=\"Cohort\", exact=True).locator(\"xpath=following-sibling::*[1]\")\nE           9 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\nE             - unexpected value \"17children\"\n\nmavis/test/pages/reports.py:51: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1761836458529,"stop":1761836458531,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761836458529,"stop":1761836458529,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1761836458529,"stop":1761836458529,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1761836458531,"stop":1761836458531,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1761836458531,"stop":1761836470874,"duration":12343},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761836458531,"stop":1761836458531,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1761836458531,"stop":1761836458531,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761836458531,"stop":1761836458531,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1761836470875,"stop":1761836470875,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1761836470875,"stop":1761836470875,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1761836470875,"stop":1761836470875,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1761836470875,"stop":1761836470875,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1761836470875,"stop":1761836470875,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1761836470875,"stop":1761836470875,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1761836470875,"stop":1761836471188,"duration":313},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1761836470875,"stop":1761836470875,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1761836471188,"stop":1761836471189,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1761836471189,"stop":1761836471189,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1761836471189,"stop":1761836473090,"duration":1901},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1761836471189,"stop":1761836471189,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1761836471189,"stop":1761836471189,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1761836473091,"stop":1761836473091,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761836473091,"stop":1761836473092,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761836473092,"stop":1761836473092,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1761836473092,"stop":1761836473092,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1761836473092,"stop":1761836473092,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1761837069902,"stop":1761837071738,"duration":1836},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1761837127598,"stop":1761837127598,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1761837127598,"stop":1761837127598,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1761837127598,"stop":1761837127598,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1761837127598,"stop":1761837127602,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1761837127602,"stop":1761837127626,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1761837127626,"stop":1761837127626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1761837127626,"stop":1761837129617,"duration":1991},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761837127627,"stop":1761837128666,"duration":1039},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761837127627,"stop":1761837128666,"duration":1039},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='daviesjune@example.org', password='daviesjune@example.org', role='nurse') and choose team Team(name='Lyons Ltd est. 1637', workgroup='O706W', careplus_venue_code='O706W', email='steven49@example.com', phone='07700 900918')","time":{"start":1761837128666,"stop":1761837129617,"duration":951},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1761837128666,"stop":1761837129617,"duration":951},"status":"passed","steps":[{"name":"Log in as User(username='daviesjune@example.org', password='daviesjune@example.org', role='nurse')","time":{"start":1761837128666,"stop":1761837129249,"duration":583},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1761837128666,"stop":1761837129249,"duration":583},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='daviesjune@example.org', password='daviesjune@example.org', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='daviesjune@example.org', password='daviesjune@example.org', role='nurse'), Team(name='Lyons Ltd est. 1637', workgroup='O706W', careplus_venue_code='O706W', email='steven49@example.com', phone='07700 900918'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1761837127626,"stop":1761837127626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1761837127626,"stop":1761837127626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1761837129617,"stop":1761837129623,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"vaccines_page","time":{"start":1761837129617,"stop":1761837129617,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_batch_page","time":{"start":1761837129617,"stop":1761837129617,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1761837129617,"stop":1761837129617,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_vaccine_batch","time":{"start":1761837129617,"stop":1761837129617,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1761837129623,"stop":1761837129624,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"import_records_page","time":{"start":1761837129624,"stop":1761837129624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_recording_hpv","time":{"start":1761837129625,"stop":1761837135058,"duration":5433},"status":"passed","steps":[{"name":"Go to vaccines page","time":{"start":1761837129625,"stop":1761837129820,"duration":195},"status":"passed","steps":[{"name":"Go to vaccines page","time":{"start":1761837129625,"stop":1761837129820,"duration":195},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Add batch for 'Gardasil 9'","time":{"start":1761837129820,"stop":1761837130021,"duration":201},"status":"passed","steps":[{"name":"Add batch for {1}","time":{"start":1761837129820,"stop":1761837130021,"duration":201},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Vaccine.GARDASIL_9: 'Gardasil 9'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in name with 'ABC123'","time":{"start":1761837130021,"stop":1761837130043,"duration":22},"status":"passed","steps":[{"name":"Fill in name with {1}","time":{"start":1761837130021,"stop":1761837130043,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('ABC123',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in expiry date with datetime.date(2025, 10, 31)","time":{"start":1761837130043,"stop":1761837130063,"duration":20},"status":"passed","steps":[{"name":"Fill in expiry date with {1}","time":{"start":1761837130043,"stop":1761837130063,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(datetime.date(2025, 10, 31),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Confirm add batch","time":{"start":1761837130063,"stop":1761837130280,"duration":217},"status":"passed","steps":[{"name":"Confirm add batch","time":{"start":1761837130063,"stop":1761837130280,"duration":217},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761837130280,"stop":1761837130491,"duration":211},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761837130280,"stop":1761837130491,"duration":211},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761837130491,"stop":1761837130746,"duration":255},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761837130491,"stop":1761837130746,"duration":255},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Brighton Hill Community School', urn='149707', site=None)","time":{"start":1761837130746,"stop":1761837131370,"duration":624},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761837130747,"stop":1761837131370,"duration":623},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Brighton Hill Community School', urn='149707', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import class lists","time":{"start":1761837131375,"stop":1761837131712,"duration":337},"status":"passed","steps":[{"name":"Click on Import class lists","time":{"start":1761837131375,"stop":1761837131712,"duration":337},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761837131753,"stop":1761837132272,"duration":519},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761837131753,"stop":1761837132272,"duration":519},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.FIXED_CHILD20251030151212.csv')","time":{"start":1761837132283,"stop":1761837132301,"duration":18},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1761837132283,"stop":1761837132301,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.FIXED_CHILD20251030151212.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761837133301,"stop":1761837133652,"duration":351},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761837133301,"stop":1761837133652,"duration":351},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1761837133677,"stop":1761837133879,"duration":202},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1761837133677,"stop":1761837133879,"duration":202},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":26,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"sessions_page","time":{"start":1761837129625,"stop":1761837129625,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children_page","time":{"start":1761837135058,"stop":1761837135058,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"verbal_consent_page","time":{"start":1761837135058,"stop":1761837135059,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"record_hpv","time":{"start":1761837135059,"stop":1761837146644,"duration":11585},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761837135059,"stop":1761837135236,"duration":177},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761837135059,"stop":1761837135236,"duration":177},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761837135236,"stop":1761837135469,"duration":233},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761837135236,"stop":1761837135469,"duration":233},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Brighton Hill Community School', urn='149707', site=None)","time":{"start":1761837135469,"stop":1761837136009,"duration":540},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761837135469,"stop":1761837136009,"duration":540},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Brighton Hill Community School', urn='149707', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Consent tab","time":{"start":1761837136009,"stop":1761837136342,"duration":333},"status":"passed","steps":[{"name":"Click on Consent tab","time":{"start":1761837136010,"stop":1761837136342,"duration":332},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on child Child(first_name='Abdul', last_name='SKINNER', nhs_number='9119039530', address=('Flat 31', 'Andrea harbor', 'Debramouth', 'S1U 2TB'), date_of_birth=datetime.date(2012, 10, 18), year_group=8, parents=(Parent(full_name='Mr Peter Wright', relationship='Dad', email_address='tracey52@example.net'), Parent(full_name='Ms Diane Ross', relationship='Mum', email_address='nwebb@example.net')))","time":{"start":1761837136613,"stop":1761837136877,"duration":264},"status":"passed","steps":[{"name":"Click on child {1}","time":{"start":1761837136613,"stop":1761837136877,"duration":264},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(Child(first_name='Abdul', last_name='SKINNER', nhs_number='9119039530', address=('Flat 31', 'Andrea harbor', 'Debramouth', 'S1U 2TB'), date_of_birth=datetime.date(2012, 10, 18), year_group=8, parents=(Parent(full_name='Mr Peter Wright', relationship='Dad', email_address='tracey52@example.net'), Parent(full_name='Ms Diane Ross', relationship='Mum', email_address='nwebb@example.net'))),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' tab","time":{"start":1761837136877,"stop":1761837136891,"duration":14},"status":"passed","steps":[{"name":"Click on {1} tab","time":{"start":1761837136877,"stop":1761837136891,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.HPV: 'HPV'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record a new consent response","time":{"start":1761837136891,"stop":1761837138421,"duration":1530},"status":"passed","steps":[{"name":"Click on Record a new consent response","time":{"start":1761837136891,"stop":1761837138421,"duration":1530},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'Mr Peter Wright (Dad)' radio button","time":{"start":1761837138421,"stop":1761837138470,"duration":49},"status":"passed","steps":[{"name":"Click on {1} radio button","time":{"start":1761837138421,"stop":1761837138470,"duration":49},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Mr Peter Wright (Dad)',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761837138470,"stop":1761837138857,"duration":387},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761837138470,"stop":1761837138857,"duration":387},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761837138857,"stop":1761837139233,"duration":376},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761837138857,"stop":1761837139233,"duration":376},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select consent method","time":{"start":1761837139233,"stop":1761837139286,"duration":53},"status":"passed","steps":[{"name":"Select consent method","time":{"start":1761837139233,"stop":1761837139286,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<ConsentMethod.IN_PERSON: 'In person'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761837139286,"stop":1761837139663,"duration":377},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761837139286,"stop":1761837139663,"duration":377},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Yes, they agree","time":{"start":1761837139663,"stop":1761837139719,"duration":56},"status":"passed","steps":[{"name":"Click on Yes, they agree","time":{"start":1761837139663,"stop":1761837139719,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761837139719,"stop":1761837140098,"duration":379},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761837139719,"stop":1761837140098,"duration":379},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Does your child have any severe allergies?'","time":{"start":1761837140098,"stop":1761837140153,"duration":55},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761837140098,"stop":1761837140153,"duration":55},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.SEVERE_ALLERGIES: 'Does your child have any severe allergies?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Does your child have any medical conditions for which they receive treatment?'","time":{"start":1761837140153,"stop":1761837140185,"duration":32},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761837140153,"stop":1761837140185,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.MEDICAL_CONDITIONS: 'Does your child have any medical conditions for which they receive treatment?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Has your child ever had a severe reaction to any medicines, including vaccines?'","time":{"start":1761837140185,"stop":1761837140220,"duration":35},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761837140185,"stop":1761837140220,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.REACTION: 'Has your child ever had a severe reaction to any medicines, including vaccines?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Does your child need extra support during vaccination sessions?'","time":{"start":1761837140221,"stop":1761837140254,"duration":33},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761837140221,"stop":1761837140254,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.EXTRA_SUPPORT: 'Does your child need extra support during vaccination sessions?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761837140254,"stop":1761837140642,"duration":388},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761837140254,"stop":1761837140642,"duration":388},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Confirm","time":{"start":1761837140642,"stop":1761837141971,"duration":1329},"status":"passed","steps":[{"name":"Click Confirm","time":{"start":1761837140642,"stop":1761837141971,"duration":1329},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Register tab","time":{"start":1761837141971,"stop":1761837142247,"duration":276},"status":"passed","steps":[{"name":"Click on Register tab","time":{"start":1761837141971,"stop":1761837142247,"duration":276},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'SKINNER, Abdul'","time":{"start":1761837142247,"stop":1761837142508,"duration":261},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1761837142247,"stop":1761837142508,"duration":261},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('SKINNER, Abdul',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Attending","time":{"start":1761837142508,"stop":1761837143578,"duration":1070},"status":"passed","steps":[{"name":"Click on Attending","time":{"start":1761837142508,"stop":1761837143577,"duration":1069},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record vaccinations","time":{"start":1761837143578,"stop":1761837143831,"duration":253},"status":"passed","steps":[{"name":"Click on Record vaccinations","time":{"start":1761837143578,"stop":1761837143831,"duration":253},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'SKINNER, Abdul'","time":{"start":1761837143831,"stop":1761837144073,"duration":242},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1761837143831,"stop":1761837144073,"duration":242},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('SKINNER, Abdul',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' tab","time":{"start":1761837144340,"stop":1761837144362,"duration":22},"status":"passed","steps":[{"name":"Click on {1} tab","time":{"start":1761837144340,"stop":1761837144362,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.HPV: 'HPV'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Confirm pre-screening checks are true","time":{"start":1761837144362,"stop":1761837144403,"duration":41},"status":"passed","steps":[{"name":"Confirm pre-screening checks are true","time":{"start":1761837144362,"stop":1761837144403,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.HPV: 'HPV'>, <ConsentOption.INJECTION: 'Injection'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Yes","time":{"start":1761837144411,"stop":1761837144419,"duration":8},"status":"passed","steps":[{"name":"Click on Yes","time":{"start":1761837144411,"stop":1761837144419,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(Child(first_name='Abdul', last_name='SKINNER', nhs_number='9119039530', address=('Flat 31', 'Andrea harbor', 'Debramouth', 'S1U 2TB'), date_of_birth=datetime.date(2012, 10, 18), year_group=8, parents=(Parent(full_name='Mr Peter Wright', relationship='Dad', email_address='tracey52@example.net'), Parent(full_name='Ms Diane Ross', relationship='Mum', email_address='nwebb@example.net'))),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Yes","time":{"start":1761837144420,"stop":1761837144453,"duration":33},"status":"passed","steps":[{"name":"Click on Yes","time":{"start":1761837144420,"stop":1761837144453,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<ConsentOption.INJECTION: 'Injection'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select vaccination site 'Left arm (upper position)'","time":{"start":1761837144453,"stop":1761837144486,"duration":33},"status":"passed","steps":[{"name":"Select vaccination site {1}","time":{"start":1761837144453,"stop":1761837144486,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<DeliverySite.LEFT_ARM_UPPER: 'Left arm (upper position)'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Continue","time":{"start":1761837144486,"stop":1761837144884,"duration":398},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1761837144486,"stop":1761837144884,"duration":398},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Choose batch 'ABC123'","time":{"start":1761837144884,"stop":1761837145328,"duration":444},"status":"passed","steps":[{"name":"Choose batch {1}","time":{"start":1761837144884,"stop":1761837145328,"duration":444},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1761837144936,"stop":1761837145328,"duration":392},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1761837144936,"stop":1761837145328,"duration":392},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('ABC123',)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Confirm","time":{"start":1761837145355,"stop":1761837146613,"duration":1258},"status":"passed","steps":[{"name":"Click on Confirm","time":{"start":1761837145355,"stop":1761837146613,"duration":1258},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":68,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"reports_vaccinations_page","time":{"start":1761837146644,"stop":1761837146644,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reports_download_page","time":{"start":1761837146644,"stop":1761837146644,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: Verify that downloaded report has expected values\nSteps:\n1. Record an HPV vaccination for a child.\n2. Refresh reports and check cohort and vaccination percentages.\n3. Download the report and verify cohort, vaccinated, and not vaccinated values.\nVerification:\n- Cohort size, vaccinated, and not vaccinated values are correct in both UI\n  and downloaded report.\n","status":"failed","statusMessage":"AssertionError: Locator expected to contain text '1children'\nActual value: 17children \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"heading\", name=\"Cohort\", exact=True).locator(\"xpath=following-sibling::*[1]\")\n    9 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\n      - unexpected value \"17children\"","statusTrace":"record_hpv = (Child(first_name='Abdul', last_name='SKINNER', nhs_number='9119039530', address=('Flat 31', 'Andrea harbor', 'Debramo...bb@example.net'))), datetime.datetime(2025, 10, 30, 15, 12, 26, 644091, tzinfo=zoneinfo.ZoneInfo(key='Europe/London')))\nreports_vaccinations_page = <mavis.test.pages.reports.ReportsVaccinationsPage object at 0x7f031d0a4cd0>\nreports_download_page = <mavis.test.pages.reports.ReportsDownloadPage object at 0x7f031d0a4b90>\n\n    def test_report_has_correct_values(\n        record_hpv,\n        reports_vaccinations_page,\n        reports_download_page,\n    ):\n        \"\"\"\n        Test: Verify that downloaded report has expected values\n        Steps:\n        1. Record an HPV vaccination for a child.\n        2. Refresh reports and check cohort and vaccination percentages.\n        3. Download the report and verify cohort, vaccinated, and not vaccinated values.\n        Verification:\n        - Cohort size, vaccinated, and not vaccinated values are correct in both UI\n          and downloaded report.\n        \"\"\"\n        reports_vaccinations_page.navigate()\n        reports_vaccinations_page.check_filter_for_programme(Programme.HPV)\n    \n        reports_vaccinations_page.navigate_and_refresh_reports()\n        reports_vaccinations_page.check_filter_for_programme(Programme.HPV)\n>       reports_vaccinations_page.check_cohort_has_n_children(1)\n\ntests/test_reporting_downloads.py:103: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mavis.test.pages.reports.ReportsVaccinationsPage object at 0x7f031d0a4cd0>\nexpected_value = 1\n\n    def check_cohort_has_n_children(self, expected_value: int) -> None:\n        cohort_heading = self.page.get_by_role(\"heading\", name=\"Cohort\", exact=True)\n        cohort_value = cohort_heading.locator(\"xpath=following-sibling::*[1]\")\n>       expect(cohort_value).to_contain_text(f\"{expected_value}children\")\nE       AssertionError: Locator expected to contain text '1children'\nE       Actual value: 17children \nE       Call log:\nE         - Expect \"to_contain_text\" with timeout 5000ms\nE         - waiting for get_by_role(\"heading\", name=\"Cohort\", exact=True).locator(\"xpath=following-sibling::*[1]\")\nE           9 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\nE             - unexpected value \"17children\"\n\nmavis/test/pages/reports.py:51: AssertionError","steps":[{"name":"Go to Reports page","time":{"start":1761837146645,"stop":1761837147848,"duration":1203},"status":"passed","steps":[{"name":"Go to Reports page","time":{"start":1761837146645,"stop":1761837147848,"duration":1203},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click 'HPV'","time":{"start":1761837147849,"stop":1761837147869,"duration":20},"status":"passed","steps":[{"name":"Click {1}","time":{"start":1761837147849,"stop":1761837147869,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.HPV: 'HPV'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Navigate to and refresh Reports","time":{"start":1761837147869,"stop":1761837174194,"duration":26325},"status":"passed","steps":[{"name":"Navigate to and refresh Reports","time":{"start":1761837147869,"stop":1761837174194,"duration":26325},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click 'HPV'","time":{"start":1761837174194,"stop":1761837174212,"duration":18},"status":"passed","steps":[{"name":"Click {1}","time":{"start":1761837174194,"stop":1761837174212,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.HPV: 'HPV'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":8,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_recording_hpv::0","time":{"start":1761837179221,"stop":1761837180157,"duration":936},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761837179221,"stop":1761837179386,"duration":165},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761837179221,"stop":1761837179386,"duration":165},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761837179386,"stop":1761837179581,"duration":195},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761837179387,"stop":1761837179581,"duration":194},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761837179581,"stop":1761837179816,"duration":235},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761837179581,"stop":1761837179816,"duration":235},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"log_in_as_nurse::0","time":{"start":1761837180159,"stop":1761837180618,"duration":459},"status":"passed","steps":[{"name":"Log out","time":{"start":1761837180159,"stop":1761837180618,"duration":459},"status":"passed","steps":[{"name":"Log out","time":{"start":1761837180159,"stop":1761837180618,"duration":459},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1761837180619,"stop":1761837180619,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1761837180620,"stop":1761837180632,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1761837180632,"stop":1761837180632,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1761837243516,"stop":1761837243516,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1761837243517,"stop":1761837243552,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1761837243553,"stop":1761837243563,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1761837243566,"stop":1761837247253,"duration":3687},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_reporting_downloads"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3111-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_reporting_downloads"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"b432349f79cafe0c.json","parameterValues":[]}