{"uid":"1df5e36863509fe5","name":"test_recording_hpv_vaccination_e2e","fullName":"tests.test_e2e#test_recording_hpv_vaccination_e2e","historyId":"46033a22bbccd539ed622add716720c2","time":{"start":1758039673948,"stop":1758039734340,"duration":60392},"description":"\nTest: End-to-end test for recording an HPV vaccination for a child.\nSteps:\n1. Setup: Log in as nurse, create session, import class list, and get batch name.\n2. Go to online consent URL and fill in child and parent details.\n3. Agree to HPV vaccination, fill address, answer health questions, and confirm.\n4. Log in as nurse, navigate to session, set session in progress,\n   register child as attending.\n5. Record HPV vaccination for the child.\nVerification:\n- Final consent message is shown after online consent.\n- Vaccination is recorded for the child in the session.\n","descriptionHtml":"<p>Test: End-to-end test for recording an HPV vaccination for a child.<br />\nSteps:</p>\n<ol>\n<li>Setup: Log in as nurse, create session, import class list, and get batch name.</li>\n<li>Go to online consent URL and fill in child and parent details.</li>\n<li>Agree to HPV vaccination, fill address, answer health questions, and confirm.</li>\n<li>Log in as nurse, navigate to session, set session in progress,<br />\nregister child as attending.</li>\n<li>Record HPV vaccination for the child.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Final consent message is shown after online consent.</li>\n<li>Vaccination is recorded for the child in the session.</li>\n</ul>\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"link\", name=\"SCOTT, Liam\")","statusTrace":"hpv_consent_url = '/consents/JnXmWTZFWV/hpv/start'\nsetup_session_for_hpv = ['ABC123']\nonline_consent_page = <mavis.test.pages.online_consent.OnlineConsentPage object at 0x7f4094a056d0>\nsessions_page = <mavis.test.pages.sessions.SessionsPage object at 0x7f4094a04b90>\nstart_page = <mavis.test.pages.start.StartPage object at 0x7f4095cebe30>\nschools = [School(name='Trinity Catholic School', urn='148362', site=None), School(name='K-HQ', urn='146287', site=None)]\nchildren = {'HPV': [Child(first_name='Liam', last_name='SCOTT', nhs_number='9575004647', address=('Flat 01p', 'Storey course', 'C...xonjoel@example.net'), Parent(full_name='Karen Jones', relationship='Mum', email_address='ostephenson@example.com')))]}\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7f409620edb0>\nlog_in_page = <mavis.test.pages.log_in.LogInPage object at 0x7f4095e37b10>\nnurse = User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse')\nteam = Team(name='Ali-Taylor est. 1784', workgroup='G431P', careplus_venue_code='G431P', email='byrnejordan@example.com', phone='(07700) 900 579')\n\n    def test_recording_hpv_vaccination_e2e(\n        hpv_consent_url,\n        setup_session_for_hpv,\n        online_consent_page,\n        sessions_page,\n        start_page,\n        schools,\n        children,\n        dashboard_page,\n        log_in_page,\n        nurse,\n        team,\n    ):\n        \"\"\"\n        Test: End-to-end test for recording an HPV vaccination for a child.\n        Steps:\n        1. Setup: Log in as nurse, create session, import class list, and get batch name.\n        2. Go to online consent URL and fill in child and parent details.\n        3. Agree to HPV vaccination, fill address, answer health questions, and confirm.\n        4. Log in as nurse, navigate to session, set session in progress,\n           register child as attending.\n        5. Record HPV vaccination for the child.\n        Verification:\n        - Final consent message is shown after online consent.\n        - Vaccination is recorded for the child in the session.\n        \"\"\"\n        child = children[Programme.HPV][0]\n        schools = schools[Programme.HPV]\n        gardasil_9_batch_name = setup_session_for_hpv[0]\n        number_of_health_questions = len(Programme.health_questions(Programme.HPV))\n    \n        online_consent_page.go_to_url(hpv_consent_url)\n        start_page.start()\n    \n        online_consent_page.fill_details(child, child.parents[0], schools)\n        online_consent_page.agree_to_hpv_vaccination()\n        online_consent_page.fill_address_details(*child.address)\n        online_consent_page.answer_health_questions(\n            number_of_health_questions,\n            yes_to_health_questions=False,\n        )\n        online_consent_page.click_confirm()\n        online_consent_page.check_final_consent_message(\n            child,\n            programmes=[Programme.HPV],\n            yes_to_health_questions=False,\n        )\n    \n        log_in_page.navigate()\n        log_in_page.log_in_and_choose_team_if_necessary(nurse, team)\n        dashboard_page.click_sessions()\n    \n        sessions_page.click_session_for_programme_group(schools[0], Programme.HPV)\n        sessions_page.click_set_session_in_progress_for_today()\n        sessions_page.register_child_as_attending(str(child))\n>       sessions_page.record_vaccination_for_child(\n            VaccinationRecord(child, Programme.HPV, gardasil_9_batch_name)\n        )\n\ntests/test_e2e.py:116: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/sessions.py:856: in record_vaccination_for_child\n    self.search_child(vaccination_record.child)\nmavis/test/pages/sessions.py:845: in search_child\n    reload_until_element_is_visible(self.page, child_locator)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://qa.mavistesting.com/sessions/JnXmWTZFWV/record?q=SCOTT%2C+Liam&%5Byear_groups%5D%5B%5D=&date_of_birth_day=&date_of_birth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0'>\ntag = <Locator frame=<Frame name= url='https://qa.mavistesting.com/sessions/JnXmWTZFWV/record?q=SCOTT%2C+Liam&%5Byear_groups..._birth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0'> selector='internal:role=link[name=\"SCOTT, Liam\"i]'>\nseconds = 30\n\n    def reload_until_element_is_visible(\n        page: Page, tag: Locator, seconds: int = DEFAULT_TIMEOUT_SECONDS\n    ) -> None:\n        for _ in range(seconds * 2):\n            if tag.is_visible():\n                break\n    \n            time.sleep(0.5)\n    \n            page.reload()\n        else:\n>           expect(tag).to_be_visible()\nE           AssertionError: Locator expected to be visible\nE           Actual value: <element(s) not found> \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for get_by_role(\"link\", name=\"SCOTT, Liam\")\n\nmavis/test/utils.py:122: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1758038810370,"stop":1758038810370,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1758038810370,"stop":1758038810370,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1758038810370,"stop":1758038810370,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1758038810370,"stop":1758038810370,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1758038810370,"stop":1758038810371,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1758038810371,"stop":1758038810371,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1758038810372,"stop":1758038820178,"duration":9806},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1758038810372,"stop":1758038810372,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1758038820178,"stop":1758038820179,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1758038820178,"stop":1758038820178,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1758038820179,"stop":1758038820481,"duration":302},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1758038820179,"stop":1758038820179,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1758038820179,"stop":1758038820179,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1758038820179,"stop":1758038820179,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1758038820481,"stop":1758038820482,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1758038820481,"stop":1758038820481,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1758038820482,"stop":1758038822595,"duration":2113},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1758038820482,"stop":1758038820482,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1758038820482,"stop":1758038820482,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1758038822595,"stop":1758038822598,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1758038822599,"stop":1758038822599,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1758038822600,"stop":1758038822600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1758038822600,"stop":1758038822600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1758038822600,"stop":1758038822600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1758038822600,"stop":1758038822600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1758038822600,"stop":1758038822600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1758039658483,"stop":1758039661435,"duration":2952},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1758039661435,"stop":1758039661435,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1758039661436,"stop":1758039661436,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1758039661436,"stop":1758039661436,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1758039661436,"stop":1758039661440,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1758039661440,"stop":1758039661467,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1758039661467,"stop":1758039661467,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1758039661467,"stop":1758039661468,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1758039661467,"stop":1758039661467,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1758039661467,"stop":1758039661467,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1758039661468,"stop":1758039661470,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1758039661470,"stop":1758039661471,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1758039661471,"stop":1758039661472,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"hpv_consent_url","time":{"start":1758039661472,"stop":1758039666147,"duration":4675},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758039661472,"stop":1758039662584,"duration":1112},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758039661472,"stop":1758039662584,"duration":1112},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse') and choose team Team(name='Ali-Taylor est. 1784', workgroup='G431P', careplus_venue_code='G431P', email='byrnejordan@example.com', phone='(07700) 900 579')","time":{"start":1758039662585,"stop":1758039663543,"duration":958},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1758039662585,"stop":1758039663543,"duration":958},"status":"passed","steps":[{"name":"Log in as User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse')","time":{"start":1758039662585,"stop":1758039663518,"duration":933},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1758039662585,"stop":1758039663518,"duration":933},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse'), Team(name='Ali-Taylor est. 1784', workgroup='G431P', careplus_venue_code='G431P', email='byrnejordan@example.com', phone='(07700) 900 579'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1758039663544,"stop":1758039663856,"duration":312},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1758039663544,"stop":1758039663856,"duration":312},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Trinity Catholic School', urn='148362', site=None)","time":{"start":1758039663856,"stop":1758039664534,"duration":678},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1758039663856,"stop":1758039664534,"duration":678},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Trinity Catholic School', urn='148362', site=None), 'HPV')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Schedule sessions","time":{"start":1758039664543,"stop":1758039664722,"duration":179},"status":"passed","steps":[{"name":"Click on Schedule sessions","time":{"start":1758039664543,"stop":1758039664722,"duration":179},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Add session dates","time":{"start":1758039664722,"stop":1758039664932,"duration":210},"status":"passed","steps":[{"name":"Click on Add session dates","time":{"start":1758039664722,"stop":1758039664932,"duration":210},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill date fields","time":{"start":1758039664932,"stop":1758039664989,"duration":57},"status":"passed","steps":[{"name":"Fill date fields","time":{"start":1758039664932,"stop":1758039664989,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('23', '09', '2025')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Continue","time":{"start":1758039664989,"stop":1758039665360,"duration":371},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1758039664989,"stop":1758039665360,"duration":371},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758039665379,"stop":1758039665717,"duration":338},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039665379,"stop":1758039665717,"duration":338},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log out","time":{"start":1758039665736,"stop":1758039666147,"duration":411},"status":"passed","steps":[{"name":"Log out","time":{"start":1758039665736,"stop":1758039666147,"duration":411},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":22,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"get_online_consent_url","time":{"start":1758039661472,"stop":1758039661472,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"import_records_page","time":{"start":1758039666147,"stop":1758039666148,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_vaccine_batch","time":{"start":1758039666147,"stop":1758039666147,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"vaccines_page","time":{"start":1758039666147,"stop":1758039666147,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_batch_page","time":{"start":1758039666147,"stop":1758039666147,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_session_for_hpv","time":{"start":1758039666148,"stop":1758039673947,"duration":7799},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758039666148,"stop":1758039666270,"duration":122},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758039666148,"stop":1758039666270,"duration":122},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse') and choose team Team(name='Ali-Taylor est. 1784', workgroup='G431P', careplus_venue_code='G431P', email='byrnejordan@example.com', phone='(07700) 900 579')","time":{"start":1758039666270,"stop":1758039667075,"duration":805},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1758039666270,"stop":1758039667075,"duration":805},"status":"passed","steps":[{"name":"Log in as User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse')","time":{"start":1758039666270,"stop":1758039667045,"duration":775},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1758039666270,"stop":1758039667045,"duration":775},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse'), Team(name='Ali-Taylor est. 1784', workgroup='G431P', careplus_venue_code='G431P', email='byrnejordan@example.com', phone='(07700) 900 579'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to vaccines page","time":{"start":1758039667076,"stop":1758039667263,"duration":187},"status":"passed","steps":[{"name":"Go to vaccines page","time":{"start":1758039667076,"stop":1758039667263,"duration":187},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Add batch for 'Gardasil 9'","time":{"start":1758039667263,"stop":1758039667481,"duration":218},"status":"passed","steps":[{"name":"Add batch for {1}","time":{"start":1758039667263,"stop":1758039667481,"duration":218},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Vaccine.GARDASIL_9: 'Gardasil 9'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in name with 'ABC123'","time":{"start":1758039667481,"stop":1758039667502,"duration":21},"status":"passed","steps":[{"name":"Fill in name with {1}","time":{"start":1758039667481,"stop":1758039667502,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('ABC123',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in expiry date with datetime.date(2025, 9, 17)","time":{"start":1758039667502,"stop":1758039667521,"duration":19},"status":"passed","steps":[{"name":"Fill in expiry date with {1}","time":{"start":1758039667502,"stop":1758039667521,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(datetime.date(2025, 9, 17),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Confirm add batch","time":{"start":1758039667521,"stop":1758039667855,"duration":334},"status":"passed","steps":[{"name":"Confirm add batch","time":{"start":1758039667521,"stop":1758039667855,"duration":334},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1758039667855,"stop":1758039668062,"duration":207},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1758039667855,"stop":1758039668062,"duration":207},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1758039668062,"stop":1758039668350,"duration":288},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1758039668062,"stop":1758039668350,"duration":288},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Trinity Catholic School', urn='148362', site=None)","time":{"start":1758039668350,"stop":1758039669017,"duration":667},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1758039668350,"stop":1758039669017,"duration":667},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Trinity Catholic School', urn='148362', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import class lists","time":{"start":1758039669017,"stop":1758039669333,"duration":316},"status":"passed","steps":[{"name":"Click on Import class lists","time":{"start":1758039669017,"stop":1758039669333,"duration":316},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758039669383,"stop":1758039669853,"duration":470},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039669383,"stop":1758039669853,"duration":470},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.FIXED_CHILD20250916172109.csv')","time":{"start":1758039669862,"stop":1758039669878,"duration":16},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1758039669862,"stop":1758039669878,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.FIXED_CHILD20250916172109.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758039669879,"stop":1758039670240,"duration":361},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039669879,"stop":1758039670240,"duration":361},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1758039670270,"stop":1758039670462,"duration":192},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1758039670270,"stop":1758039670462,"duration":192},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to dashboard","time":{"start":1758039673345,"stop":1758039673519,"duration":174},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1758039673345,"stop":1758039673518,"duration":173},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log out","time":{"start":1758039673519,"stop":1758039673947,"duration":428},"status":"passed","steps":[{"name":"Log out","time":{"start":1758039673519,"stop":1758039673947,"duration":428},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":36,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_session_with_file_upload","time":{"start":1758039666148,"stop":1758039666148,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"online_consent_page","time":{"start":1758039673948,"stop":1758039673948,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"start_page","time":{"start":1758039673948,"stop":1758039673948,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: End-to-end test for recording an HPV vaccination for a child.\nSteps:\n1. Setup: Log in as nurse, create session, import class list, and get batch name.\n2. Go to online consent URL and fill in child and parent details.\n3. Agree to HPV vaccination, fill address, answer health questions, and confirm.\n4. Log in as nurse, navigate to session, set session in progress,\n   register child as attending.\n5. Record HPV vaccination for the child.\nVerification:\n- Final consent message is shown after online consent.\n- Vaccination is recorded for the child in the session.\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"link\", name=\"SCOTT, Liam\")","statusTrace":"hpv_consent_url = '/consents/JnXmWTZFWV/hpv/start'\nsetup_session_for_hpv = ['ABC123']\nonline_consent_page = <mavis.test.pages.online_consent.OnlineConsentPage object at 0x7f4094a056d0>\nsessions_page = <mavis.test.pages.sessions.SessionsPage object at 0x7f4094a04b90>\nstart_page = <mavis.test.pages.start.StartPage object at 0x7f4095cebe30>\nschools = [School(name='Trinity Catholic School', urn='148362', site=None), School(name='K-HQ', urn='146287', site=None)]\nchildren = {'HPV': [Child(first_name='Liam', last_name='SCOTT', nhs_number='9575004647', address=('Flat 01p', 'Storey course', 'C...xonjoel@example.net'), Parent(full_name='Karen Jones', relationship='Mum', email_address='ostephenson@example.com')))]}\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7f409620edb0>\nlog_in_page = <mavis.test.pages.log_in.LogInPage object at 0x7f4095e37b10>\nnurse = User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse')\nteam = Team(name='Ali-Taylor est. 1784', workgroup='G431P', careplus_venue_code='G431P', email='byrnejordan@example.com', phone='(07700) 900 579')\n\n    def test_recording_hpv_vaccination_e2e(\n        hpv_consent_url,\n        setup_session_for_hpv,\n        online_consent_page,\n        sessions_page,\n        start_page,\n        schools,\n        children,\n        dashboard_page,\n        log_in_page,\n        nurse,\n        team,\n    ):\n        \"\"\"\n        Test: End-to-end test for recording an HPV vaccination for a child.\n        Steps:\n        1. Setup: Log in as nurse, create session, import class list, and get batch name.\n        2. Go to online consent URL and fill in child and parent details.\n        3. Agree to HPV vaccination, fill address, answer health questions, and confirm.\n        4. Log in as nurse, navigate to session, set session in progress,\n           register child as attending.\n        5. Record HPV vaccination for the child.\n        Verification:\n        - Final consent message is shown after online consent.\n        - Vaccination is recorded for the child in the session.\n        \"\"\"\n        child = children[Programme.HPV][0]\n        schools = schools[Programme.HPV]\n        gardasil_9_batch_name = setup_session_for_hpv[0]\n        number_of_health_questions = len(Programme.health_questions(Programme.HPV))\n    \n        online_consent_page.go_to_url(hpv_consent_url)\n        start_page.start()\n    \n        online_consent_page.fill_details(child, child.parents[0], schools)\n        online_consent_page.agree_to_hpv_vaccination()\n        online_consent_page.fill_address_details(*child.address)\n        online_consent_page.answer_health_questions(\n            number_of_health_questions,\n            yes_to_health_questions=False,\n        )\n        online_consent_page.click_confirm()\n        online_consent_page.check_final_consent_message(\n            child,\n            programmes=[Programme.HPV],\n            yes_to_health_questions=False,\n        )\n    \n        log_in_page.navigate()\n        log_in_page.log_in_and_choose_team_if_necessary(nurse, team)\n        dashboard_page.click_sessions()\n    \n        sessions_page.click_session_for_programme_group(schools[0], Programme.HPV)\n        sessions_page.click_set_session_in_progress_for_today()\n        sessions_page.register_child_as_attending(str(child))\n>       sessions_page.record_vaccination_for_child(\n            VaccinationRecord(child, Programme.HPV, gardasil_9_batch_name)\n        )\n\ntests/test_e2e.py:116: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/sessions.py:856: in record_vaccination_for_child\n    self.search_child(vaccination_record.child)\nmavis/test/pages/sessions.py:845: in search_child\n    reload_until_element_is_visible(self.page, child_locator)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://qa.mavistesting.com/sessions/JnXmWTZFWV/record?q=SCOTT%2C+Liam&%5Byear_groups%5D%5B%5D=&date_of_birth_day=&date_of_birth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0'>\ntag = <Locator frame=<Frame name= url='https://qa.mavistesting.com/sessions/JnXmWTZFWV/record?q=SCOTT%2C+Liam&%5Byear_groups..._birth_month=&date_of_birth_year=&archived=0&missing_nhs_number=0'> selector='internal:role=link[name=\"SCOTT, Liam\"i]'>\nseconds = 30\n\n    def reload_until_element_is_visible(\n        page: Page, tag: Locator, seconds: int = DEFAULT_TIMEOUT_SECONDS\n    ) -> None:\n        for _ in range(seconds * 2):\n            if tag.is_visible():\n                break\n    \n            time.sleep(0.5)\n    \n            page.reload()\n        else:\n>           expect(tag).to_be_visible()\nE           AssertionError: Locator expected to be visible\nE           Actual value: <element(s) not found> \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for get_by_role(\"link\", name=\"SCOTT, Liam\")\n\nmavis/test/utils.py:122: AssertionError","steps":[{"name":"Click on start button","time":{"start":1758039674186,"stop":1758039674503,"duration":317},"status":"passed","steps":[{"name":"Click on start button","time":{"start":1758039674186,"stop":1758039674503,"duration":317},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill child name details","time":{"start":1758039674503,"stop":1758039674877,"duration":374},"status":"passed","steps":[{"name":"Fill child name details","time":{"start":1758039674503,"stop":1758039674877,"duration":374},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039674567,"stop":1758039674877,"duration":310},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039674567,"stop":1758039674877,"duration":310},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Liam', 'SCOTT')"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill child date of birth","time":{"start":1758039674877,"stop":1758039675224,"duration":347},"status":"passed","steps":[{"name":"Fill child date of birth","time":{"start":1758039674877,"stop":1758039675224,"duration":347},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039674906,"stop":1758039675224,"duration":318},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039674906,"stop":1758039675224,"duration":318},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(datetime.date(2009, 9, 22),)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select child school","time":{"start":1758039675225,"stop":1758039675604,"duration":379},"status":"passed","steps":[{"name":"Select child school","time":{"start":1758039675225,"stop":1758039675604,"duration":379},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039675268,"stop":1758039675604,"duration":336},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039675268,"stop":1758039675604,"duration":336},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Trinity Catholic School', urn='148362', site=None),)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill parent name","time":{"start":1758039675604,"stop":1758039675627,"duration":23},"status":"passed","steps":[{"name":"Fill parent name","time":{"start":1758039675604,"stop":1758039675626,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Mr Marcus Hall',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'Dad' radio button","time":{"start":1758039675627,"stop":1758039675666,"duration":39},"status":"passed","steps":[{"name":"Click on {1} radio button","time":{"start":1758039675627,"stop":1758039675666,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Dad',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill email address","time":{"start":1758039675667,"stop":1758039675672,"duration":5},"status":"passed","steps":[{"name":"Fill email address","time":{"start":1758039675667,"stop":1758039675672,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('ghall@example.org',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758039675672,"stop":1758039675969,"duration":297},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039675672,"stop":1758039675969,"duration":297},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Agree to HPV vaccination","time":{"start":1758039675969,"stop":1758039676349,"duration":380},"status":"passed","steps":[{"name":"Agree to HPV vaccination","time":{"start":1758039675969,"stop":1758039676349,"duration":380},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039676017,"stop":1758039676349,"duration":332},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039676017,"stop":1758039676349,"duration":332},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill address details","time":{"start":1758039676349,"stop":1758039676712,"duration":363},"status":"passed","steps":[{"name":"Fill address details","time":{"start":1758039676349,"stop":1758039676712,"duration":363},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039676384,"stop":1758039676712,"duration":328},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039676384,"stop":1758039676712,"duration":328},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Flat 01p', 'Storey course', 'Charlesberg', 'W6C 7SE')"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select No","time":{"start":1758039676712,"stop":1758039676766,"duration":54},"status":"passed","steps":[{"name":"Select No","time":{"start":1758039676712,"stop":1758039676766,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758039676766,"stop":1758039677083,"duration":317},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039676766,"stop":1758039677083,"duration":317},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select No","time":{"start":1758039677083,"stop":1758039677133,"duration":50},"status":"passed","steps":[{"name":"Select No","time":{"start":1758039677083,"stop":1758039677133,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758039677133,"stop":1758039677471,"duration":338},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039677133,"stop":1758039677471,"duration":338},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select No","time":{"start":1758039677471,"stop":1758039677516,"duration":45},"status":"passed","steps":[{"name":"Select No","time":{"start":1758039677471,"stop":1758039677516,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758039677516,"stop":1758039677825,"duration":309},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039677516,"stop":1758039677825,"duration":309},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select No","time":{"start":1758039677825,"stop":1758039677866,"duration":41},"status":"passed","steps":[{"name":"Select No","time":{"start":1758039677825,"stop":1758039677866,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1758039677866,"stop":1758039678312,"duration":446},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1758039677866,"stop":1758039678312,"duration":446},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Confirm","time":{"start":1758039678313,"stop":1758039678533,"duration":220},"status":"passed","steps":[{"name":"Click Confirm","time":{"start":1758039678313,"stop":1758039678533,"duration":220},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Go to log in page","time":{"start":1758039678548,"stop":1758039678671,"duration":123},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758039678548,"stop":1758039678671,"duration":123},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse') and choose team Team(name='Ali-Taylor est. 1784', workgroup='G431P', careplus_venue_code='G431P', email='byrnejordan@example.com', phone='(07700) 900 579')","time":{"start":1758039678671,"stop":1758039679603,"duration":932},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1758039678671,"stop":1758039679603,"duration":932},"status":"passed","steps":[{"name":"Log in as User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse')","time":{"start":1758039678671,"stop":1758039679584,"duration":913},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1758039678671,"stop":1758039679584,"duration":913},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse'), Team(name='Ali-Taylor est. 1784', workgroup='G431P', careplus_venue_code='G431P', email='byrnejordan@example.com', phone='(07700) 900 579'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1758039679603,"stop":1758039679865,"duration":262},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1758039679603,"stop":1758039679865,"duration":262},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Trinity Catholic School', urn='148362', site=None)","time":{"start":1758039679865,"stop":1758039680574,"duration":709},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1758039679865,"stop":1758039680574,"duration":709},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Trinity Catholic School', urn='148362', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Set session in progress for today","time":{"start":1758039680574,"stop":1758039681039,"duration":465},"status":"passed","steps":[{"name":"Click on Set session in progress for today","time":{"start":1758039680574,"stop":1758039681039,"duration":465},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Register tab","time":{"start":1758039681040,"stop":1758039681397,"duration":357},"status":"passed","steps":[{"name":"Click on Register tab","time":{"start":1758039681040,"stop":1758039681397,"duration":357},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'SCOTT, Liam'","time":{"start":1758039681397,"stop":1758039681649,"duration":252},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1758039681397,"stop":1758039681649,"duration":252},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('SCOTT, Liam',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Attending","time":{"start":1758039681649,"stop":1758039682506,"duration":857},"status":"passed","steps":[{"name":"Click on Attending","time":{"start":1758039681649,"stop":1758039682506,"duration":857},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record vaccinations","time":{"start":1758039682506,"stop":1758039682773,"duration":267},"status":"passed","steps":[{"name":"Click on Record vaccinations","time":{"start":1758039682506,"stop":1758039682772,"duration":266},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'SCOTT, Liam'","time":{"start":1758039682773,"stop":1758039683009,"duration":236},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1758039682773,"stop":1758039683009,"duration":236},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('SCOTT, Liam',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":70,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"hpv_consent_url::0","time":{"start":1758039734366,"stop":1758039765228,"duration":30862},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 938, in _teardown_yield_fixture\n    next(it)\n    ~~~~^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/tests/test_e2e.py\", line 53, in hpv_consent_url\n    yield from get_online_consent_url(schools[Programme.HPV][0], Programme.HPV)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/fixtures/helpers.py\", line 59, in wrapper\n    log_in_page.log_in_and_choose_team_if_necessary(nurse, team)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 39, in log_in_and_choose_team_if_necessary\n    self.log_in(user)\n    ~~~~~~~~~~~^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Go to log in page","time":{"start":1758039734366,"stop":1758039734688,"duration":322},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1758039734366,"stop":1758039734688,"duration":322},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse') and choose team Team(name='Ali-Taylor est. 1784', workgroup='G431P', careplus_venue_code='G431P', email='byrnejordan@example.com', phone='(07700) 900 579')","time":{"start":1758039734688,"stop":1758039765226,"duration":30538},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 39, in log_in_and_choose_team_if_necessary\n    self.log_in(user)\n    ~~~~~~~~~~~^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1758039734689,"stop":1758039765225,"duration":30536},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 39, in log_in_and_choose_team_if_necessary\n    self.log_in(user)\n    ~~~~~~~~~~~^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Log in as User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse')","time":{"start":1758039734689,"stop":1758039764996,"duration":30307},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[{"name":"Log in as {1}","time":{"start":1758039734689,"stop":1758039764995,"duration":30306},"status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.fill: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"textbox\", name=\"Email address\")\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/log_in.py\", line 28, in log_in\n    self.username_input.fill(user.username)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py\", line 15889, in fill\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.fill(\n        ^^^^^^^^^^^^^^^^^^^^\n            value=value, timeout=timeout, noWaitAfter=no_wait_after, force=force\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_locator.py\", line 212, in fill\n    return await self._frame.fill(self._selector, strict=True, **params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 590, in fill\n    await self._fill(**locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py\", line 602, in _fill\n    await self._channel.send(\"fill\", self._timeout, locals_to_params(locals()))\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py\", line 558, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[],"attachments":[{"uid":"e303a5e136ab8778","name":"Screenshot on failure","source":"e303a5e136ab8778.png","type":"image/png","size":30313}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"148913533e46174","name":"Screenshot on failure","source":"148913533e46174.png","type":"image/png","size":30317}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='thomasreece@example.org', password='thomasreece@example.org', role='nurse'), Team(name='Ali-Taylor est. 1784', workgroup='G431P', careplus_venue_code='G431P', email='byrnejordan@example.com', phone='(07700) 900 579'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"new_context::0","time":{"start":1758039765230,"stop":1758039765239,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1758039765230,"stop":1758039765230,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1758039765239,"stop":1758039765239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1758040098680,"stop":1758040098681,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1758040098681,"stop":1758040098706,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1758040098707,"stop":1758040098717,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1758040098719,"stop":1758040103415,"duration":4696},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"e2e"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_e2e"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"2184-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_e2e"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["e2e"]},"source":"1df5e36863509fe5.json","parameterValues":[]}