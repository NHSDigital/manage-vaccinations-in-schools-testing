{"uid":"9e67d01e28ea37ac","name":"test_class_list_file_upload_valid_data","fullName":"tests.test_import_class_lists#test_class_list_file_upload_valid_data","historyId":"afd60a596c721aebd7052e909b299165","time":{"start":1760704975743,"stop":1760705027286,"duration":51543},"description":"\nTest: Upload a valid class list file and verify successful import.\nSteps:\n1. Navigate to class list import page for the correct school and year group.\n2. Upload a valid class list file.\nVerification:\n- Output indicates successful import of records.\n","descriptionHtml":"<p>Test: Upload a valid class list file and verify successful import.<br />\nSteps:</p>\n<ol>\n<li>Navigate to class list import page for the correct school and year group.</li>\n<li>Upload a valid class list file.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Output indicates successful import of records.</li>\n</ul>\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))","statusTrace":"setup_class_list = None\nschools = {'HPV': [School(name='Roding Valley High School', urn='145597', site=None), School(name='Uplands Academy', urn='148945...name='Newhall Primary Academy', urn='145880', site=None), School(name='Badger Hill Academy', urn='143618', site=None)]}\nimport_records_page = <mavis.test.pages.import_records.ImportRecordsPage object at 0x7fee031ece20>\nyear_groups = {'HPV': 8, 'MMR': 1, 'doubles': 11, 'flu': 5}\n\n    @pytest.mark.classlist\n    def test_class_list_file_upload_valid_data(\n        setup_class_list,\n        schools,\n        import_records_page,\n        year_groups,\n    ):\n        \"\"\"\n        Test: Upload a valid class list file and verify successful import.\n        Steps:\n        1. Navigate to class list import page for the correct school and year group.\n        2. Upload a valid class list file.\n        Verification:\n        - Output indicates successful import of records.\n        \"\"\"\n        school = schools[\"doubles\"][0]\n        year_group = year_groups[\"doubles\"]\n    \n        import_records_page.navigate_to_class_list_record_import(str(school), year_group)\n>       import_records_page.upload_and_verify_output(\n            ClassFileMapping.POSITIVE,\n            programme_group=\"doubles\",\n        )\n\ntests/test_import_class_lists.py:48: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/import_records.py:132: in upload_and_verify_output\n    self.wait_for_processed()\nmavis/test/pages/import_records.py:86: in wait_for_processed\n    reload_until_element_is_visible(self.page, tag, seconds=30)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://qa.mavistesting.com/class-imports/1144721'>\ntag = <Locator frame=<Frame name= url='https://qa.mavistesting.com/class-imports/1144721'> selector='internal:role=strong >> internal:text=\"Completed\"i >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Invalid\\\\\"i\"'>\nseconds = 30\n\n    def reload_until_element_is_visible(\n        page: Page, tag: Locator, seconds: int = DEFAULT_TIMEOUT_SECONDS\n    ) -> None:\n        for _ in range(seconds * 2):\n            if tag.is_visible():\n                break\n    \n            time.sleep(0.5)\n    \n            page.reload()\n        else:\n>           expect(tag).to_be_visible()\nE           AssertionError: Locator expected to be visible\nE           Actual value: <element(s) not found> \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))\n\nmavis/test/utils.py:171: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1760704793239,"stop":1760704793239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1760704793239,"stop":1760704793240,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1760704793239,"stop":1760704793239,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1760704793240,"stop":1760704793241,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1760704793240,"stop":1760704793240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1760704793240,"stop":1760704793240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1760704793240,"stop":1760704793240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1760704793241,"stop":1760704800027,"duration":6786},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1760704800027,"stop":1760704800027,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1760704800027,"stop":1760704800027,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1760704800028,"stop":1760704800028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1760704800028,"stop":1760704800028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1760704800028,"stop":1760704800028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1760704800028,"stop":1760704800408,"duration":380},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1760704800028,"stop":1760704800028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1760704800028,"stop":1760704800028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1760704800408,"stop":1760704800408,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1760704800408,"stop":1760704800409,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1760704800409,"stop":1760704802003,"duration":1594},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1760704800409,"stop":1760704800409,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1760704800409,"stop":1760704800409,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1760704802004,"stop":1760704802022,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1760704802022,"stop":1760704802023,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1760704802023,"stop":1760704802023,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1760704802023,"stop":1760704802023,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1760704802023,"stop":1760704802023,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1760704969548,"stop":1760704970176,"duration":628},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1760704970176,"stop":1760704970176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1760704970176,"stop":1760704970176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1760704970176,"stop":1760704970181,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1760704970176,"stop":1760704970176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1760704970181,"stop":1760704970205,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1760704970206,"stop":1760704972419,"duration":2213},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1760704970206,"stop":1760704971574,"duration":1368},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1760704970206,"stop":1760704971574,"duration":1368},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='ruth01@example.org', password='ruth01@example.org', role='nurse') and choose team Team(name='Franklin, May and Wells est. 1789', workgroup='Q539R', careplus_venue_code='Q539R', email='kwood@example.com', phone='+44(0)7700 900370')","time":{"start":1760704971574,"stop":1760704972419,"duration":845},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1760704971574,"stop":1760704972419,"duration":845},"status":"passed","steps":[{"name":"Log in as User(username='ruth01@example.org', password='ruth01@example.org', role='nurse')","time":{"start":1760704971574,"stop":1760704972393,"duration":819},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1760704971574,"stop":1760704972393,"duration":819},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='ruth01@example.org', password='ruth01@example.org', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='ruth01@example.org', password='ruth01@example.org', role='nurse'), Team(name='Franklin, May and Wells est. 1789', workgroup='Q539R', careplus_venue_code='Q539R', email='kwood@example.com', phone='+44(0)7700 900370'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"flipper_page","time":{"start":1760704970206,"stop":1760704970206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1760704970206,"stop":1760704970206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1760704970206,"stop":1760704970206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1760704972419,"stop":1760704972423,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1760704972419,"stop":1760704972419,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1760704972423,"stop":1760704972424,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1760704972424,"stop":1760704972425,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_class_list","time":{"start":1760704972425,"stop":1760704975742,"duration":3317},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1760704972425,"stop":1760704972681,"duration":256},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1760704972425,"stop":1760704972681,"duration":256},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='Roding Valley High School', urn='145597', site=None)","time":{"start":1760704972682,"stop":1760704973321,"duration":639},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1760704972682,"stop":1760704973321,"duration":639},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Roding Valley High School', urn='145597', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill date fields with '20251024'","time":{"start":1760704974036,"stop":1760704974072,"duration":36},"status":"passed","steps":[{"name":"Fill date fields with {1}","time":{"start":1760704974036,"stop":1760704974072,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('20251024',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Continue","time":{"start":1760704974072,"stop":1760704974527,"duration":455},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1760704974072,"stop":1760704974527,"duration":455},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Save changes","time":{"start":1760704974553,"stop":1760704975217,"duration":664},"status":"passed","steps":[{"name":"Click Save changes","time":{"start":1760704974553,"stop":1760704975217,"duration":664},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1760704975217,"stop":1760704975473,"duration":256},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1760704975217,"stop":1760704975473,"duration":256},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import Records","time":{"start":1760704975473,"stop":1760704975742,"duration":269},"status":"passed","steps":[{"name":"Click on Import Records","time":{"start":1760704975473,"stop":1760704975742,"duration":269},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":14,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"import_records_page","time":{"start":1760704975742,"stop":1760704975743,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: Upload a valid class list file and verify successful import.\nSteps:\n1. Navigate to class list import page for the correct school and year group.\n2. Upload a valid class list file.\nVerification:\n- Output indicates successful import of records.\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))","statusTrace":"setup_class_list = None\nschools = {'HPV': [School(name='Roding Valley High School', urn='145597', site=None), School(name='Uplands Academy', urn='148945...name='Newhall Primary Academy', urn='145880', site=None), School(name='Badger Hill Academy', urn='143618', site=None)]}\nimport_records_page = <mavis.test.pages.import_records.ImportRecordsPage object at 0x7fee031ece20>\nyear_groups = {'HPV': 8, 'MMR': 1, 'doubles': 11, 'flu': 5}\n\n    @pytest.mark.classlist\n    def test_class_list_file_upload_valid_data(\n        setup_class_list,\n        schools,\n        import_records_page,\n        year_groups,\n    ):\n        \"\"\"\n        Test: Upload a valid class list file and verify successful import.\n        Steps:\n        1. Navigate to class list import page for the correct school and year group.\n        2. Upload a valid class list file.\n        Verification:\n        - Output indicates successful import of records.\n        \"\"\"\n        school = schools[\"doubles\"][0]\n        year_group = year_groups[\"doubles\"]\n    \n        import_records_page.navigate_to_class_list_record_import(str(school), year_group)\n>       import_records_page.upload_and_verify_output(\n            ClassFileMapping.POSITIVE,\n            programme_group=\"doubles\",\n        )\n\ntests/test_import_class_lists.py:48: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/import_records.py:132: in upload_and_verify_output\n    self.wait_for_processed()\nmavis/test/pages/import_records.py:86: in wait_for_processed\n    reload_until_element_is_visible(self.page, tag, seconds=30)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\npage = <Page url='https://qa.mavistesting.com/class-imports/1144721'>\ntag = <Locator frame=<Frame name= url='https://qa.mavistesting.com/class-imports/1144721'> selector='internal:role=strong >> internal:text=\"Completed\"i >> internal:or=\"internal:role=strong >> internal:text=\\\\\"Invalid\\\\\"i\"'>\nseconds = 30\n\n    def reload_until_element_is_visible(\n        page: Page, tag: Locator, seconds: int = DEFAULT_TIMEOUT_SECONDS\n    ) -> None:\n        for _ in range(seconds * 2):\n            if tag.is_visible():\n                break\n    \n            time.sleep(0.5)\n    \n            page.reload()\n        else:\n>           expect(tag).to_be_visible()\nE           AssertionError: Locator expected to be visible\nE           Actual value: <element(s) not found> \nE           Call log:\nE             - Expect \"to_be_visible\" with timeout 5000ms\nE             - waiting for get_by_role(\"strong\").get_by_text(\"Completed\").or_(get_by_role(\"strong\").get_by_text(\"Invalid\"))\n\nmavis/test/utils.py:171: AssertionError","steps":[{"name":"Click on Import Records","time":{"start":1760704975744,"stop":1760704976390,"duration":646},"status":"passed","steps":[{"name":"Click on Import Records","time":{"start":1760704975744,"stop":1760704976390,"duration":646},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select Class List Records","time":{"start":1760704976390,"stop":1760704976446,"duration":56},"status":"passed","steps":[{"name":"Select Class List Records","time":{"start":1760704976390,"stop":1760704976446,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1760704976446,"stop":1760704976864,"duration":418},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760704976446,"stop":1760704976864,"duration":418},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill location combobox with 'Shaftesbury School'","time":{"start":1760704976881,"stop":1760704976899,"duration":18},"status":"passed","steps":[{"name":"Fill location combobox with {1}","time":{"start":1760704976881,"stop":1760704976899,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Shaftesbury School',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1760704976931,"stop":1760704977363,"duration":432},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760704976931,"stop":1760704977363,"duration":432},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1760704977414,"stop":1760704978030,"duration":616},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760704977414,"stop":1760704978030,"duration":616},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.POSITIVE20251017134258.csv')","time":{"start":1760704978047,"stop":1760704978066,"duration":19},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1760704978047,"stop":1760704978066,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.POSITIVE20251017134258.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1760704978067,"stop":1760704978506,"duration":439},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1760704978067,"stop":1760704978506,"duration":439},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"'AllValidValues, YearGroupOverride, SameYearGroup, EmptyPostCode, EmptyYearGroup, UnicodeApostrophe1, UnicodeApostrophe2, UnicodeApostrophe3, DuplicateEmail, RowDeprecated'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1760704978534,"stop":1760704978770,"duration":236},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1760704978534,"stop":1760704978770,"duration":236},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":18,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_class_list::0","time":{"start":1760705027324,"stop":1760705028426,"duration":1102},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1760705027324,"stop":1760705027529,"duration":205},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1760705027324,"stop":1760705027529,"duration":205},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1760705027529,"stop":1760705027762,"duration":233},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1760705027529,"stop":1760705027762,"duration":233},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1760705027763,"stop":1760705028026,"duration":263},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1760705027763,"stop":1760705028026,"duration":263},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"log_in_as_nurse::0","time":{"start":1760705028427,"stop":1760705028987,"duration":560},"status":"passed","steps":[{"name":"Log out","time":{"start":1760705028427,"stop":1760705028987,"duration":560},"status":"passed","steps":[{"name":"Log out","time":{"start":1760705028427,"stop":1760705028987,"duration":560},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1760705028987,"stop":1760705028987,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1760705028988,"stop":1760705028997,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1760705028997,"stop":1760705028997,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1760705593655,"stop":1760705593655,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1760705593656,"stop":1760705593687,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1760705593688,"stop":1760705593700,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1760705593702,"stop":1760705594486,"duration":784},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"classlist"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_import_class_lists"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"2276-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_import_class_lists"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["classlist"]},"source":"9e67d01e28ea37ac.json","parameterValues":[]}