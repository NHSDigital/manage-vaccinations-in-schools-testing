"DESCRIPTION","DURATION IN MS","NAME","PARENT SUITE","START TIME","STATUS","STOP TIME","SUB SUITE","SUITE","TEST CLASS","TEST METHOD"
"
Test: Verify the search functionality within a session.
Steps:
1. Open a session with a random child.
2. Use the search feature to look for children.
Verification:
- Search returns expected results for the session.
","1486","test_session_search_functionality","tests","Thu Sep 04 14:29:57 BST 2025","passed","Thu Sep 04 14:29:59 BST 2025","","test_sessions","",""
"
Test: Verify children page headers and filtering by child name.
Steps:
1. Setup: Import a fixed child class list and navigate to the children page.
2. Search for a child using all filters by name.
3. Verify the table headers are correct.
Verification:
- Assert that exactly one child is found in the results.
","4401","test_children_page_headers_and_filtering","tests","Thu Sep 04 14:32:07 BST 2025","passed","Thu Sep 04 14:32:12 BST 2025","","test_children","",""
"
Test: Upload a SystmOne historic vaccination records file with invalid data and verify error handling.
Steps:
1. Navigate to vaccination records import page.
2. Upload a SystmOne historic file with invalid data.
Verification:
- Output lists errors as expected for each record
","2250","test_vaccination_file_upload_systmone_historic_invalid_data","tests","Thu Sep 04 14:33:34 BST 2025","passed","Thu Sep 04 14:33:36 BST 2025","","test_import_records","",""
"
Test: Submit multiple online flu consent forms with different methods and verify the correct method is displayed in the session.
Steps:
1. Fill in child and parent details and submit consent with the first method.
2. Submit a second consent for the same child with the second method (different parent).
3. Navigate to the session and consent tab.
4. Search for the child and verify the correct consent method is shown.
Verification:
- The consent method displayed in the session matches the expected method from the last consent.
","32391","test_flu_consent_method_displayed_correctly[consents: (<ConsentOption.BOTH: ''>, <ConsentOption.NASAL_SPRAY: 'Nasal spray'>, <ConsentOption.NASAL_SPRAY: 'Nasal spray'>)]","tests","Thu Sep 04 14:30:40 BST 2025","passed","Thu Sep 04 14:31:12 BST 2025","","test_online_consent_flu","",""
"
Test: Record verbal refusal of consent and verify activity log entry.
Steps:
1. Schedule session and import class list.
2. Record verbal refusal for the child.
3. Select 'consent refused' in session and check activity log.
Verification:
- Activity log contains entry for consent refusal by the parent.
","20956","test_triage_consent_refused_and_activity_log","tests","Thu Sep 04 14:25:36 BST 2025","passed","Thu Sep 04 14:25:57 BST 2025","","test_programmes","",""
"
Test: Verify attendance filters on the register tab work as expected.
Steps:
1. Open the register tab in a session.
2. Check and uncheck year group checkboxes and update results.
3. Use advanced filters to include archived records.
Verification:
- Search summary updates correctly as filters are applied and removed.
","6641","test_attendance_filters_functionality","tests","Thu Sep 04 14:29:29 BST 2025","passed","Thu Sep 04 14:29:36 BST 2025","","test_sessions","",""
"
Test: Submit an online consent form giving consent for flu vaccination (nasal spray, injection, or both) and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Agree to flu vaccination, selecting the consent option (nasal spray, injection, or both).
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, consent option, and health question status.
","8418","test_consent_given_for_flu_vaccination[health_question: False-consent_option: Injection]","tests","Thu Sep 04 14:26:12 BST 2025","passed","Thu Sep 04 14:26:21 BST 2025","","test_online_consent_flu","",""
"
Test: Submit an online consent form giving consent for HPV vaccination and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to HPV vaccination.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccine, and health question status.
","9785","test_consent_given_for_hpv_vaccination[health_question: True-change_school: False]","tests","Thu Sep 04 14:30:53 BST 2025","passed","Thu Sep 04 14:31:03 BST 2025","","test_online_consent_hpv","",""
"
Test: Submit an online consent form giving consent for one or both doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines, and health question status.
","11532","test_consent_given_for_doubles_vaccination[health_question: False-change_school: False-programmes: [<Programme.TD_IPV: 'Td/IPV'>]]","tests","Thu Sep 04 14:24:23 BST 2025","passed","Thu Sep 04 14:24:35 BST 2025","","test_online_consent_doubles","",""
"
Test: Upload a vaccination records file with extra whitespace and verify normalization.
Steps:
1. Upload a file with whitespace issues.
2. Navigate to children page.
3. Verify the list is normalized and imported correctly.
Verification:
- Imported list matches expected normalized data.
","34205","test_vaccination_file_upload_whitespace_normalization","tests","Thu Sep 04 14:34:00 BST 2025","passed","Thu Sep 04 14:34:34 BST 2025","","test_import_records","",""
"
Test: Verify that the start page heading and start link are visible.
Steps:
1. Navigate to the start page.
2. Check that the heading is visible.
3. Check that the start link is visible.
Verification:
- Both the heading and start link are present and visible on the page.
","1319","test_start_page_elements_visible","tests","Thu Sep 04 14:37:47 BST 2025","passed","Thu Sep 04 14:37:48 BST 2025","","test_start","",""
"
Test: Upload a SystmOne vaccination records file with valid data and verify import.
Steps:
1. Navigate to vaccination records import page.
2. Upload a SystmOne file with valid data.
Verification:
- Output indicates successful import of SystmOne records.
","1869","test_vaccination_file_upload_systmone_valid_data","tests","Thu Sep 04 14:32:56 BST 2025","passed","Thu Sep 04 14:32:58 BST 2025","","test_import_records","",""
"
Test: Upload a vaccination file with community clinic name case variations and verify correct handling.
Steps:
1. Upload a file with clinic name case variations.
Verification:
- Output indicates clinic names are handled case-insensitively and imported correctly.
","1863","test_vaccination_file_upload_community_clinic_name_case","tests","Thu Sep 04 14:36:02 BST 2025","passed","Thu Sep 04 14:36:04 BST 2025","","test_import_records","",""
"
Test: Submit multiple online flu consent forms with different methods and verify the correct method is displayed in the session.
Steps:
1. Fill in child and parent details and submit consent with the first method.
2. Submit a second consent for the same child with the second method (different parent).
3. Navigate to the session and consent tab.
4. Search for the child and verify the correct consent method is shown.
Verification:
- The consent method displayed in the session matches the expected method from the last consent.
","31076","test_flu_consent_method_displayed_correctly[consents: (<ConsentOption.NASAL_SPRAY: 'Nasal spray'>, <ConsentOption.NASAL_SPRAY: 'Nasal spray'>, <ConsentOption.NASAL_SPRAY: 'Nasal spray'>)]","tests","Thu Sep 04 14:28:50 BST 2025","passed","Thu Sep 04 14:29:21 BST 2025","","test_online_consent_flu","",""
"
Test: Upload an empty class list file and verify error handling.
Steps:
1. Navigate to class list import page for the correct school and year group.
2. Upload an empty file.
Verification:
- Output indicates error or no records imported.
","3489","test_class_list_file_upload_empty_file","tests","Thu Sep 04 14:26:54 BST 2025","passed","Thu Sep 04 14:26:57 BST 2025","","test_import_records","",""
"
Test: Add multiple notes to a session and verify their order in the activity log.
Steps:
1. Open a session with a fixed child.
2. Add two notes in sequence.
3. Refresh and search for the child in the session.
4. Verify the most recent note appears first in the list.
Verification:
- Notes appear in reverse chronological order in the activity log.
","11626","test_session_activity_notes_order","tests","Thu Sep 04 14:30:55 BST 2025","passed","Thu Sep 04 14:31:07 BST 2025","","test_sessions","",""
"
Test: Log in with valid credentials for each user role and verify dashboard links.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Log in as the specified user role and select team if necessary.
3. Verify that all expected dashboard links are visible.
4. Log out.
Verification:
- Log out button and all dashboard navigation links are visible after login.
","1861","test_login_with_valid_credentials[role: medical_secretary]","tests","Thu Sep 04 14:29:14 BST 2025","passed","Thu Sep 04 14:29:15 BST 2025","","test_log_in","",""
"
Test: Create a new child record from an unmatched consent response with NHS number.
Steps:
1. Select a child from unmatched consent responses.
2. Click to create a new record and complete the process.
3. Verify the child is removed from unmatched responses.
4. Go to children page and verify activity log for the created child.
Verification:
- Created alert is visible.
- Consent response for the child is no longer visible in unmatched list.
- Activity log for the child shows the creation event.
","18884","test_create_child_record_from_consent_with_nhs_number[children0]","tests","Thu Sep 04 14:35:11 BST 2025","passed","Thu Sep 04 14:35:30 BST 2025","","test_consent_responses","",""
"
Test: Upload a class list file with the wrong year group and verify error handling.
Steps:
1. Navigate to class list import page for the correct school and year group.
2. Upload a file with an incorrect year group.
Verification:
- Output indicates year group mismatch or error.
","4309","test_class_list_file_upload_wrong_year_group","tests","Thu Sep 04 14:27:12 BST 2025","passed","Thu Sep 04 14:27:17 BST 2025","","test_import_records","",""
"
Test: Upload a NIVS historic flu vaccination file for previous years and verify it is disallowed.
Steps:
1. Upload a historic flu file for previous years.
Verification:
- Output indicates flu vaccinations for previous years are not allowed.
","1708","test_vaccination_file_upload_nivs_disallow_flu_for_previous_years","tests","Thu Sep 04 14:35:17 BST 2025","passed","Thu Sep 04 14:35:19 BST 2025","","test_import_records","",""
"
Test: Create, edit, and delete an HPV vaccination record and verify changes in the IMMS API.
Steps:
1. Setup: Schedule HPV session, import class list, add vaccine batch, and register child with verbal consent.
2. Create: Record HPV vaccination for the child (LEFT_ARM_UPPER).
3. Verify: Check the vaccination record exists in the IMMS API.
4. Edit: Change the delivery site to RIGHT_ARM_LOWER and save.
5. Verify: Check the updated vaccination record in the IMMS API.
6. Edit: Change the outcome to ""They refused it"" and save.
7. Verify: Check the vaccination record is removed from the IMMS API.
","55087","test_create_edit_delete_hpv_vaccination_and_verify_imms_api","tests","Thu Sep 04 14:36:40 BST 2025","passed","Thu Sep 04 14:37:36 BST 2025","","test_imms","",""
"
Test: Submit an online consent form refusing doubles vaccination and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Select 'do not agree' to vaccination.
3. Choose refusal reason and provide details.
4. Submit the consent form.
Verification:
- Confirmation text indicates consent was refused for MenACWY and Td/IPV.
","5696","test_consent_refused_for_doubles_vaccination","tests","Thu Sep 04 14:23:04 BST 2025","passed","Thu Sep 04 14:23:10 BST 2025","","test_online_consent_doubles","",""
"
Test: Submit an online consent form giving consent for one or both doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines, and health question status.
","11954","test_consent_given_for_doubles_vaccination[health_question: True-change_school: True-programmes: [<Programme.TD_IPV: 'Td/IPV'>]]","tests","Thu Sep 04 14:28:42 BST 2025","passed","Thu Sep 04 14:28:54 BST 2025","","test_online_consent_doubles","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","1245","test_batch_name_too_long[Revaxis]","tests","Thu Sep 04 14:24:55 BST 2025","passed","Thu Sep 04 14:24:56 BST 2025","","test_vaccines","",""
"
Test: Submit an online consent form giving consent for one or both doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines, and health question status.
","11661","test_consent_given_for_doubles_vaccination[health_question: True-change_school: False-programmes: [<Programme.TD_IPV: 'Td/IPV'>]]","tests","Thu Sep 04 14:27:15 BST 2025","passed","Thu Sep 04 14:27:27 BST 2025","","test_online_consent_doubles","",""
"
Test: Upload a historic vaccination records file with invalid data and verify error handling.
Steps:
1. Navigate to vaccination records import page.
2. Upload a historic file with invalid data.
Verification:
- Output lists errors as expected for each record
","2485","test_vaccination_file_upload_historic_invalid_data","tests","Thu Sep 04 14:31:51 BST 2025","passed","Thu Sep 04 14:31:53 BST 2025","","test_import_records","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","1856","test_batch_name_too_long[Gardasil 9]","tests","Thu Sep 04 14:24:32 BST 2025","passed","Thu Sep 04 14:24:33 BST 2025","","test_vaccines","",""
"
Test: Upload a SystmOne vaccination records file with invalid data and verify error handling.
Steps:
1. Navigate to vaccination records import page.
2. Upload a SystmOne file with invalid data.
Verification:
- Output lists errors as expected for each record
","2269","test_vaccination_file_upload_systmone_invalid_data","tests","Thu Sep 04 14:33:15 BST 2025","passed","Thu Sep 04 14:33:17 BST 2025","","test_import_records","",""
"
Test: Submit an online consent form giving consent for one or both doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines, and health question status.
","10075","test_consent_given_for_doubles_vaccination[health_question: False-change_school: False-programmes: [<Programme.MENACWY: 'MenACWY'>]]","tests","Thu Sep 04 14:23:56 BST 2025","passed","Thu Sep 04 14:24:06 BST 2025","","test_online_consent_doubles","",""
"
Test: End-to-end test for recording a flu vaccination for a child.
Steps:
1. Setup: Log in as nurse, create session, import class list, and get batch name.
2. Go to online consent URL and fill in child and parent details.
3. Agree to flu vaccination, fill address, answer health questions, and confirm.
4. Log in as nurse, navigate to session, set session in progress, register child as attending.
5. Record flu vaccination for the child.
Verification:
- Final consent message is shown after online consent.
- Vaccination is recorded for the child in the session.
","28281","test_recording_flu_vaccination_e2e","tests","Thu Sep 04 14:37:24 BST 2025","passed","Thu Sep 04 14:37:53 BST 2025","","test_e2e","",""
"
Test: Upload duplicate vaccination records and verify duplicate handling.
Steps:
1. Upload a vaccination file with duplicate records.
2. Upload a second file with more duplicates.
Verification:
- Output indicates duplicates are detected and handled.
","6580","test_vaccination_file_upload_duplicate_records","tests","Thu Sep 04 14:29:34 BST 2025","passed","Thu Sep 04 14:29:40 BST 2025","","test_import_records","",""
"
Test: Upload a class list file with only headers and verify no records are imported.
Steps:
1. Navigate to class list import page for the correct school and year group.
2. Upload a header-only file.
Verification:
- Output indicates no records imported.
","3793","test_class_list_file_upload_header_only","tests","Thu Sep 04 14:25:55 BST 2025","passed","Thu Sep 04 14:25:59 BST 2025","","test_import_records","",""
"
Test: Export session data to Excel and send clinic invitations, then verify vaccination record.
Steps:
1. Schedule session, import class list, and send clinic invitations.
2. Record verbal consent and register child as attending.
3. Record vaccination for the child at the clinic.
4. Verify vaccination outcome and Excel export.
Verification:
- Vaccination outcome is recorded and session Excel export is available.
","35765","test_verify_excel_export_and_clinic_invitation","tests","Thu Sep 04 14:27:05 BST 2025","passed","Thu Sep 04 14:27:41 BST 2025","","test_programmes","",""
"
Test: Upload an empty child list file and verify error handling.
Steps:
1. Navigate to child record import page.
2. Upload an empty file.
Verification:
- Output indicates error or no records imported.
","702","test_child_list_file_upload_empty_file","tests","Thu Sep 04 14:23:43 BST 2025","passed","Thu Sep 04 14:23:44 BST 2025","","test_import_records","",""
"
Test: Attempt to log in with invalid or empty credentials and verify error message.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Attempt to log in with the given username and password.
Verification:
- Error message is displayed indicating invalid credentials.
","477","test_login_with_invalid_credentials[password: -username: ]","tests","Thu Sep 04 14:29:05 BST 2025","passed","Thu Sep 04 14:29:05 BST 2025","","test_log_in","",""
"
Test: Upload a SystmOne historic flu vaccination file for previous years and verify it is disallowed.
Steps:
1. Upload a SystmOne historic flu file for previous years.
Verification:
- Output indicates flu vaccinations for previous years are not allowed.
","2027","test_vaccination_file_upload_systmone_disallow_flu_for_previous_years","tests","Thu Sep 04 14:35:36 BST 2025","passed","Thu Sep 04 14:35:38 BST 2025","","test_import_records","",""
"
Test: Upload a class list file with extra whitespace and verify normalization.
Steps:
1. Upload a file with whitespace issues.
2. Navigate to children page.
3. Verify the list is normalized and imported correctly.
Verification:
- Imported list matches expected normalized data.
","37166","test_class_list_file_upload_whitespace_normalization","tests","Thu Sep 04 14:27:32 BST 2025","passed","Thu Sep 04 14:28:10 BST 2025","","test_import_records","",""
"
Test: Upload a class list file with invalid structure and verify error handling.
Steps:
1. Navigate to class list import page for the correct school and year group.
2. Upload a file with incorrect structure.
Verification:
- Output indicates structural errors.
","4463","test_class_list_file_upload_invalid_structure","tests","Thu Sep 04 14:25:35 BST 2025","passed","Thu Sep 04 14:25:40 BST 2025","","test_import_records","",""
"
Test: Upload a historic vaccination records file with valid data and verify import.
Steps:
1. Navigate to vaccination records import page.
2. Upload a historic file with valid data.
Verification:
- Output indicates successful import of historic records.
","3430","test_vaccination_file_upload_historic_valid_data","tests","Thu Sep 04 14:31:24 BST 2025","passed","Thu Sep 04 14:31:27 BST 2025","","test_import_records","",""
"
Test: Log in with valid credentials for each user role and verify dashboard links.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Log in as the specified user role and select team if necessary.
3. Verify that all expected dashboard links are visible.
4. Log out.
Verification:
- Log out button and all dashboard navigation links are visible after login.
","2044","test_login_with_valid_credentials[role: superuser]","tests","Thu Sep 04 14:29:21 BST 2025","passed","Thu Sep 04 14:29:23 BST 2025","","test_log_in","",""
"
Test: Generate and verify CarePlus report for HPV programme.
Steps:
1. Navigate to reports page.
2. Generate CarePlus report for HPV.
Verification:
- Report is generated in CarePlus format for HPV.
","2858","test_verify_careplus_report_for_hpv","tests","Thu Sep 04 14:27:51 BST 2025","passed","Thu Sep 04 14:27:54 BST 2025","","test_programmes","",""
"
Test: Validate Gillick competence assessment notes length and update.
Steps:
1. Open the session for the school and programme.
2. Navigate to Gillick competence assessment for the child.
3. Attempt to complete assessment with notes over 1000 characters (should error).
4. Complete assessment with valid notes.
5. Edit assessment and again try to update with notes over 1000 characters (should error).
Verification:
- Error is shown for notes over 1000 characters.
- Assessment can be completed and updated with valid notes.
","7669","test_gillick_competence_notes","tests","Thu Sep 04 14:32:02 BST 2025","passed","Thu Sep 04 14:32:10 BST 2025","","test_verbal_consent","",""
"
Test: Submit an online consent form refusing flu vaccination and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Select 'do not agree' to vaccination.
3. Choose refusal reason and provide details.
4. Submit the consent form.
Verification:
- Confirmation text indicates consent was refused for flu vaccination.
","6577","test_consent_refused_for_flu_vaccination","tests","Thu Sep 04 14:25:19 BST 2025","passed","Thu Sep 04 14:25:26 BST 2025","","test_online_consent_flu","",""
"
Test: Submit an online consent form giving consent for flu vaccination (nasal spray, injection, or both) and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Agree to flu vaccination, selecting the consent option (nasal spray, injection, or both).
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, consent option, and health question status.
","12943","test_consent_given_for_flu_vaccination[health_question: False-consent_option: Nasal spray]","tests","Thu Sep 04 14:25:43 BST 2025","passed","Thu Sep 04 14:25:56 BST 2025","","test_online_consent_flu","",""
"
Test: Upload an empty cohort file and verify error handling.
Steps:
1. Navigate to cohort import page.
2. Upload an empty file.
Verification:
- Import fails and error is shown.
","641","test_cohort_upload_with_empty_file","tests","Thu Sep 04 14:23:51 BST 2025","passed","Thu Sep 04 14:23:52 BST 2025","","test_programmes","",""
"
Test: Add and edit Gillick competence assessment for a child.
Steps:
1. Open the session for the school and programme.
2. Navigate to Gillick competence assessment for the child.
3. Add a Gillick competence assessment as competent.
4. Edit the assessment to mark as not competent.
Verification:
- Gillick competence status is updated and reflected for the child.
","6286","test_gillick_competence","tests","Thu Sep 04 14:31:37 BST 2025","passed","Thu Sep 04 14:31:44 BST 2025","","test_verbal_consent","",""
"
Test: Submit an online consent form giving consent for one or both doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines, and health question status.
","10671","test_consent_given_for_doubles_vaccination[health_question: False-change_school: True-programmes: [<Programme.MENACWY: 'MenACWY'>, <Programme.TD_IPV: 'Td/IPV'>]]","tests","Thu Sep 04 14:24:53 BST 2025","passed","Thu Sep 04 14:25:04 BST 2025","","test_online_consent_doubles","",""
"
Test: Submit an online consent form giving consent for flu vaccination (nasal spray, injection, or both) and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Agree to flu vaccination, selecting the consent option (nasal spray, injection, or both).
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, consent option, and health question status.
","18840","test_consent_given_for_flu_vaccination[health_question: True-consent_option: ]","tests","Thu Sep 04 14:28:07 BST 2025","passed","Thu Sep 04 14:28:26 BST 2025","","test_online_consent_flu","",""
"
Test: Upload a SystmOne vaccination records file with extra whitespace and verify normalization.
Steps:
1. Upload a SystmOne file with whitespace issues.
Verification:
- Output indicates successful normalization and import.
","1958","test_vaccination_file_upload_systmone_whitespace_normalization","tests","Thu Sep 04 14:34:51 BST 2025","passed","Thu Sep 04 14:34:53 BST 2025","","test_import_records","",""
"
Test: Confirm and ignore school moves for two children and verify the correct alerts.
Steps:
1. Setup: Schedule sessions for two schools, upload class lists for both, and trigger school moves.
2. Go to the school moves page and locate rows for both children.
3. For the first child, confirm the school move and verify the confirmation alert.
4. For the second child, ignore the school move and verify the ignored alert.
Verification:
- The correct confirmation and ignored alerts are shown for each child.
- The school moves table contains the expected text for both children.
","3085","test_confirm_and_ignore","tests","Thu Sep 04 14:34:57 BST 2025","passed","Thu Sep 04 14:35:01 BST 2025","","test_school_moves","",""
"
Test: Archive an unmatched consent response and verify it is removed from the list.
Steps:
1. Select a child from the unmatched consent responses.
2. Click the archive button and provide notes.
Verification:
- Archived alert is visible.
- The consent response for the child is no longer visible in the unmatched list.
","1766","test_archive_unmatched_consent_response_removes_from_list","tests","Thu Sep 04 14:33:38 BST 2025","passed","Thu Sep 04 14:33:39 BST 2025","","test_consent_responses","",""
"
Test: Upload a valid child list file and verify successful import.
Steps:
1. Navigate to child record import page.
2. Upload a valid child list file.
Verification:
- Output indicates successful import of records.
","22242","test_child_list_file_upload_valid_data","tests","Thu Sep 04 14:22:55 BST 2025","passed","Thu Sep 04 14:23:17 BST 2025","","test_import_records","",""
"
Test: Upload a child list file with invalid structure and verify error handling.
Steps:
1. Navigate to child record import page.
2. Upload a file with incorrect structure.
Verification:
- Output indicates structural errors.
","1966","test_child_list_file_upload_invalid_structure","tests","Thu Sep 04 14:23:30 BST 2025","passed","Thu Sep 04 14:23:32 BST 2025","","test_import_records","",""
"
Test: Generate and verify CSV report for MenACWY and Td/IPV programmes.
Steps:
1. Navigate to reports page.
2. Generate CSV report for MenACWY.
3. Generate CSV report for Td/IPV.
Verification:
- Reports are generated in CSV format for both MenACWY and Td/IPV.
","6588","test_verify_csv_report_for_doubles","tests","Thu Sep 04 14:28:13 BST 2025","passed","Thu Sep 04 14:28:20 BST 2025","","test_programmes","",""
"
Test: Match an unmatched consent response to a child and verify activity log.
Steps:
1. Import a fixed child class list for the current year.
2. Navigate to unmatched consent responses and select a child.
3. Click match and complete the matching process.
4. Verify the child is removed from unmatched responses.
5. Go to children page and verify activity log for the matched child.
Verification:
- Matched alert is visible.
- Consent response for the child is no longer visible in unmatched list.
- Activity log for the child shows the match event.
","36632","test_match_unmatched_consent_response_and_verify_activity_log","tests","Thu Sep 04 14:34:07 BST 2025","passed","Thu Sep 04 14:34:44 BST 2025","","test_consent_responses","",""
"
Test: Upload a vaccination records file with only headers and verify no records are imported.
Steps:
1. Navigate to vaccination records import page.
2. Upload a header-only file.
Verification:
- Output indicates no records imported.
","918","test_vaccination_file_upload_header_only","tests","Thu Sep 04 14:30:33 BST 2025","passed","Thu Sep 04 14:30:34 BST 2025","","test_import_records","",""
"
Test: End-to-end test for recording an HPV vaccination for a child.
Steps:
1. Setup: Log in as nurse, create session, import class list, and get batch name.
2. Go to online consent URL and fill in child and parent details.
3. Agree to HPV vaccination, fill address, answer health questions, and confirm.
4. Log in as nurse, navigate to session, set session in progress, register child as attending.
5. Record HPV vaccination for the child.
Verification:
- Final consent message is shown after online consent.
- Vaccination is recorded for the child in the session.
","27260","test_recording_hpv_vaccination_e2e","tests","Thu Sep 04 14:35:30 BST 2025","passed","Thu Sep 04 14:35:57 BST 2025","","test_e2e","",""
"
Test: Submit an online consent form refusing HPV vaccination and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Select 'do not agree' to vaccination.
3. Choose refusal reason and provide details.
4. Submit the consent form.
Verification:
- Confirmation text indicates consent was refused for HPV vaccination.
","6494","test_consent_refused_for_hpv_vaccination","tests","Thu Sep 04 14:29:32 BST 2025","passed","Thu Sep 04 14:29:39 BST 2025","","test_online_consent_hpv","",""
"
Test: Attempt to create an invalid session and verify error handling.
Steps:
1. Navigate to sessions page.
2. Attempt to create a session with invalid data for the school and programme.
Verification:
- Error is shown or invalid session is not created.
","2618","test_create_invalid_session","tests","Thu Sep 04 14:29:03 BST 2025","passed","Thu Sep 04 14:29:05 BST 2025","","test_sessions","",""
"
Test: Submit an online consent form giving consent for one or both doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines, and health question status.
","11420","test_consent_given_for_doubles_vaccination[health_question: False-change_school: True-programmes: [<Programme.MENACWY: 'MenACWY'>]]","tests","Thu Sep 04 14:25:22 BST 2025","passed","Thu Sep 04 14:25:34 BST 2025","","test_online_consent_doubles","",""
"
Test: Record two consents from the same parent (positive then refusal) and verify activity log.
Steps:
1. Open the session and consent tab for the child.
2. Record a written positive consent for parent 1.
3. Record a triage outcome as safe to vaccinate.
4. Record a verbal refusal for the same parent.
5. Check the consent refused text and session activity log.
Verification:
- Consent refused text is shown for the parent.
- Activity log contains entries for refusal, triage, and initial consent.
","38325","test_parent_provides_consent_twice","tests","Thu Sep 04 14:33:18 BST 2025","passed","Thu Sep 04 14:33:57 BST 2025","","test_verbal_consent","",""
"
Test: Submit an online consent form giving consent for HPV vaccination and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to HPV vaccination.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccine, and health question status.
","8642","test_consent_given_for_hpv_vaccination[health_question: False-change_school: False]","tests","Thu Sep 04 14:29:58 BST 2025","passed","Thu Sep 04 14:30:07 BST 2025","","test_online_consent_hpv","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","1321","test_batch_name_too_short[Nimenrix]","tests","Thu Sep 04 14:24:16 BST 2025","passed","Thu Sep 04 14:24:17 BST 2025","","test_vaccines","",""
"
Test: Record conflicting consents from parents, resolve with Gillick competence, and verify status.
Steps:
1. Open the session and consent tab for the child.
2. Record a verbal positive consent for parent 1.
3. Record a verbal refusal for parent 2, resulting in conflicting consent.
4. Assess Gillick competence as competent.
5. Record child verbal consent.
6. Verify consent status and activity log.
Verification:
- Consent status updates to 'Conflicting consent', then 'Safe to vaccinate', then 'Consent given'.
- Activity log contains entry for Gillick competent child consent.
","45979","test_conflicting_consent_with_gillick_consent","tests","Thu Sep 04 14:34:14 BST 2025","passed","Thu Sep 04 14:35:00 BST 2025","","test_verbal_consent","",""
"
Test: Verify pre-screening questions are pre-filled correctly when recording multiple vaccinations in the same session.
Steps:
1. Setup: Schedule sessions for HPV, doubles, and flu for the same school and import a fixed child class list.
2. For each programme group (HPV, doubles, flu):
    a. Navigate to the session and register the child as attending.
    b. Go to the consent tab and search for the child.
    c. For each vaccine in the programme group:
        i. Record verbal consent for the child.
        ii. Record a vaccination for the child with a long notes field.
Verification:
- For each combination of vaccines, the correct pre-screening questions (""feeling well"", ""not pregnant"") are pre-filled as described in the docstring.
- Long notes (over 1000 characters) are accepted (MAV-955).
","102742","test_pre_screening_questions_prefilled_for_multiple_vaccinations","tests","Thu Sep 04 14:38:33 BST 2025","passed","Thu Sep 04 14:40:15 BST 2025","","test_reset","",""
"
Test: Upload an empty vaccination records file and verify error handling.
Steps:
1. Navigate to vaccination records import page.
2. Upload an empty file.
Verification:
- Output indicates error or no records imported.
","818","test_vaccination_file_upload_empty_file","tests","Thu Sep 04 14:30:59 BST 2025","passed","Thu Sep 04 14:31:00 BST 2025","","test_import_records","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","1320","test_batch_name_too_long[MenQuadfi]","tests","Thu Sep 04 14:24:39 BST 2025","passed","Thu Sep 04 14:24:40 BST 2025","","test_vaccines","",""
"
Test: Upload a valid vaccination records file and verify successful import.
Steps:
1. Navigate to vaccination records import page.
2. Upload a valid vaccination file.
Verification:
- Output indicates successful import of records.
","5384","test_vaccination_file_upload_valid_data","tests","Thu Sep 04 14:28:33 BST 2025","passed","Thu Sep 04 14:28:38 BST 2025","","test_import_records","",""
"
Test: Submit an online consent form giving consent for HPV vaccination and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to HPV vaccination.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccine, and health question status.
","10032","test_consent_given_for_hpv_vaccination[health_question: False-change_school: True]","tests","Thu Sep 04 14:30:25 BST 2025","passed","Thu Sep 04 14:30:35 BST 2025","","test_online_consent_hpv","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","4576","test_batch_add_change_archive[Gardasil 9]","tests","Thu Sep 04 14:23:11 BST 2025","passed","Thu Sep 04 14:23:15 BST 2025","","test_vaccines","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","1350","test_batch_name_too_short[Revaxis]","tests","Thu Sep 04 14:24:21 BST 2025","passed","Thu Sep 04 14:24:23 BST 2025","","test_vaccines","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","1476","test_batch_name_too_long[Menveo]","tests","Thu Sep 04 14:24:44 BST 2025","passed","Thu Sep 04 14:24:45 BST 2025","","test_vaccines","",""
"
Test: Submit an online consent form giving consent for one or both doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines, and health question status.
","11578","test_consent_given_for_doubles_vaccination[health_question: True-change_school: True-programmes: [<Programme.MENACWY: 'MenACWY'>, <Programme.TD_IPV: 'Td/IPV'>]]","tests","Thu Sep 04 14:27:45 BST 2025","passed","Thu Sep 04 14:27:56 BST 2025","","test_online_consent_doubles","",""
"
Test: Submit multiple online flu consent forms with different methods and verify the correct method is displayed in the session.
Steps:
1. Fill in child and parent details and submit consent with the first method.
2. Submit a second consent for the same child with the second method (different parent).
3. Navigate to the session and consent tab.
4. Search for the child and verify the correct consent method is shown.
Verification:
- The consent method displayed in the session matches the expected method from the last consent.
","25117","test_flu_consent_method_displayed_correctly[consents: (<ConsentOption.INJECTION: 'Injection'>, <ConsentOption.INJECTION: 'Injection'>, <ConsentOption.INJECTION: 'Injection'>)]","tests","Thu Sep 04 14:29:48 BST 2025","passed","Thu Sep 04 14:30:13 BST 2025","","test_online_consent_flu","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","4846","test_batch_add_change_archive[Revaxis]","tests","Thu Sep 04 14:23:47 BST 2025","passed","Thu Sep 04 14:23:52 BST 2025","","test_vaccines","",""
"
Test: Upload an invalid cohort (class list) file and verify error handling.
Steps:
1. Navigate to cohort import page.
2. Upload a cohort file with invalid data.
Verification:
- Import fails and error is shown.
","2375","test_cohort_upload_with_invalid_file","tests","Thu Sep 04 14:23:30 BST 2025","passed","Thu Sep 04 14:23:33 BST 2025","","test_programmes","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","1360","test_batch_name_too_long[Fluenz]","tests","Thu Sep 04 14:24:26 BST 2025","passed","Thu Sep 04 14:24:28 BST 2025","","test_vaccines","",""
"
Test: Generate and verify SystmOne report for HPV programme.
Steps:
1. Navigate to reports page.
2. Generate SystmOne report for HPV.
Verification:
- Report is generated in SystmOne format for HPV.
","2867","test_verify_systmone_report_for_hpv","tests","Thu Sep 04 14:28:24 BST 2025","passed","Thu Sep 04 14:28:27 BST 2025","","test_programmes","",""
"
Test: Record invalid and refused consents and verify activity log entries.
Steps:
1. Open the session and consent tab for the child.
2. Record a 'no response' verbal consent for parent 1.
3. Record a refusal verbal consent for parent 2.
4. Invalidate the refusal from parent 2.
5. Check the session activity log for correct entries.
Verification:
- Activity log contains entries for invalidated consent, refusal, and no response.
","30617","test_invalid_consent","tests","Thu Sep 04 14:32:29 BST 2025","passed","Thu Sep 04 14:32:59 BST 2025","","test_verbal_consent","",""
"
Test: Upload a child list file with only headers and verify no records are imported.
Steps:
1. Navigate to child record import page.
2. Upload a header-only file.
Verification:
- Output indicates no records imported.
","783","test_child_list_file_upload_header_only","tests","Thu Sep 04 14:23:37 BST 2025","passed","Thu Sep 04 14:23:38 BST 2025","","test_import_records","",""
"
Test: Record verbal consent and triage outcome for a child in a session.
Steps:
1. Schedule session and import class list.
2. Record verbal consent for the child.
3. Update triage outcome to 'safe to vaccinate'.
Verification:
- Triage outcome is updated and reflected for the child.
","34388","test_triage_consent_given_and_triage_outcome","tests","Thu Sep 04 14:24:46 BST 2025","passed","Thu Sep 04 14:25:20 BST 2025","","test_programmes","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","6267","test_batch_add_change_archive[Menveo]","tests","Thu Sep 04 14:23:29 BST 2025","passed","Thu Sep 04 14:23:35 BST 2025","","test_vaccines","",""
"
Test: Archive a child via cohort upload and then unarchive by re-uploading.
Steps:
1. Import a fixed child cohort file.
2. Archive the child from the children page.
3. Re-import the same cohort file.
4. Verify the child is unarchived.
Verification:
- Child is archived after first import and unarchived after second import.
","39388","test_archive_and_unarchive_child_via_cohort_upload","tests","Thu Sep 04 14:23:56 BST 2025","passed","Thu Sep 04 14:24:36 BST 2025","","test_programmes","",""
"
Test: Log in with valid credentials for each user role and verify dashboard links.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Log in as the specified user role and select team if necessary.
3. Verify that all expected dashboard links are visible.
4. Log out.
Verification:
- Log out button and all dashboard navigation links are visible after login.
","1835","test_login_with_valid_credentials[role: nurse]","tests","Thu Sep 04 14:29:17 BST 2025","passed","Thu Sep 04 14:29:19 BST 2025","","test_log_in","",""
"
Test: Submit an online consent form giving consent for one or both doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines, and health question status.
","11524","test_consent_given_for_doubles_vaccination[health_question: True-change_school: False-programmes: [<Programme.MENACWY: 'MenACWY'>]]","tests","Thu Sep 04 14:26:46 BST 2025","passed","Thu Sep 04 14:26:58 BST 2025","","test_online_consent_doubles","",""
"
Test: Submit an online consent form giving consent for flu vaccination (nasal spray, injection, or both) and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Agree to flu vaccination, selecting the consent option (nasal spray, injection, or both).
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, consent option, and health question status.
","9879","test_consent_given_for_flu_vaccination[health_question: True-consent_option: Injection]","tests","Thu Sep 04 14:27:41 BST 2025","passed","Thu Sep 04 14:27:50 BST 2025","","test_online_consent_flu","",""
"
Test: Submit an online consent form giving consent for one or both doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines, and health question status.
","10879","test_consent_given_for_doubles_vaccination[health_question: False-change_school: True-programmes: [<Programme.TD_IPV: 'Td/IPV'>]]","tests","Thu Sep 04 14:25:51 BST 2025","passed","Thu Sep 04 14:26:02 BST 2025","","test_online_consent_doubles","",""
"
Test: Record a paper refusal and verify the consent refused checkbox is checked.
Steps:
1. Open a session with a fixed child.
2. Review a child with no response and record a paper refusal.
3. Go to the overview tab and review consent refused.
Verification:
- Consent refused checkbox is checked for the child.
","13582","test_consent_filters_and_refusal_checkbox","tests","Thu Sep 04 14:30:20 BST 2025","passed","Thu Sep 04 14:30:33 BST 2025","","test_sessions","",""
"
Test: Upload an invalid vaccination records file and verify error handling.
Steps:
1. Navigate to vaccination records import page.
2. Upload a vaccination file with invalid data.
Verification:
- Output lists errors as expected for each record
","2898","test_vaccination_file_upload_invalid_data","tests","Thu Sep 04 14:29:03 BST 2025","passed","Thu Sep 04 14:29:06 BST 2025","","test_import_records","",""
"
Test: Generate and verify CarePlus report for MenACWY and Td/IPV programmes.
Steps:
1. Navigate to reports page.
2. Generate CarePlus report for MenACWY.
3. Generate CarePlus report for Td/IPV.
Verification:
- Reports are generated in CarePlus format for both MenACWY and Td/IPV.
","6355","test_verify_careplus_report_for_doubles","tests","Thu Sep 04 14:27:57 BST 2025","passed","Thu Sep 04 14:28:04 BST 2025","","test_programmes","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","5179","test_batch_add_change_archive[MenQuadfi]","tests","Thu Sep 04 14:23:19 BST 2025","passed","Thu Sep 04 14:23:25 BST 2025","","test_vaccines","",""
"
Test: Edit a vaccination dose to 'not given' and verify outcome.
Steps:
1. Navigate to the child in the programme.
2. Edit the vaccination record and change outcome to 'they refused it'.
3. Save changes.
Verification:
- Alert confirms vaccination outcome recorded as refused.
","6620","test_edit_vaccination_dose_to_not_given","tests","Thu Sep 04 14:26:23 BST 2025","passed","Thu Sep 04 14:26:30 BST 2025","","test_programmes","",""
"
Test: Attempt to log in with invalid or empty credentials and verify error message.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Attempt to log in with the given username and password.
Verification:
- Error message is displayed indicating invalid credentials.
","718","test_login_with_invalid_credentials[password: invalid-username: invalid]","tests","Thu Sep 04 14:29:11 BST 2025","passed","Thu Sep 04 14:29:12 BST 2025","","test_log_in","",""
"
Test: Submit an online consent form giving consent for flu vaccination (nasal spray, injection, or both) and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Agree to flu vaccination, selecting the consent option (nasal spray, injection, or both).
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, consent option, and health question status.
","13672","test_consent_given_for_flu_vaccination[health_question: False-consent_option: ]","tests","Thu Sep 04 14:26:37 BST 2025","passed","Thu Sep 04 14:26:50 BST 2025","","test_online_consent_flu","",""
"
Test: Upload a cohort file with only headers and verify no records are imported.
Steps:
1. Navigate to cohort import page.
2. Upload a header-only file.
Verification:
- No records are imported and appropriate message is shown.
","677","test_cohort_upload_with_header_only_file","tests","Thu Sep 04 14:23:45 BST 2025","passed","Thu Sep 04 14:23:45 BST 2025","","test_programmes","",""
"
Test: Generate and verify CSV report for HPV programme.
Steps:
1. Navigate to reports page.
2. Generate CSV report for HPV.
Verification:
- Report is generated in CSV format for HPV.
","2678","test_verify_csv_report_for_hpv","tests","Thu Sep 04 14:28:07 BST 2025","passed","Thu Sep 04 14:28:10 BST 2025","","test_programmes","",""
"
Test: Upload a child list file with extra whitespace and verify normalization.
Steps:
1. Upload a file with whitespace issues.
2. Navigate to children page.
3. Verify the list is normalized and imported correctly.
Verification:
- Imported list matches expected normalized data.
","38930","test_child_list_file_upload_whitespace_normalization","tests","Thu Sep 04 14:23:49 BST 2025","passed","Thu Sep 04 14:24:28 BST 2025","","test_import_records","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","1482","test_batch_name_too_short[Fluenz]","tests","Thu Sep 04 14:23:56 BST 2025","passed","Thu Sep 04 14:23:57 BST 2025","","test_vaccines","",""
"
Test: Create, edit, and delete a session for a school and verify lifecycle actions.
Steps:
1. Navigate to sessions page.
2. Create a new session for the school and programme.
3. Edit the session to set the date to today.
4. Delete all sessions for the school.
Verification:
- Session is created, edited, and deleted without errors.
","13902","test_session_lifecycle","tests","Thu Sep 04 14:28:44 BST 2025","passed","Thu Sep 04 14:28:58 BST 2025","","test_sessions","",""
"
Test: Submit an online consent form giving consent for HPV vaccination and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to HPV vaccination.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccine, and health question status.
","9797","test_consent_given_for_hpv_vaccination[health_question: True-change_school: True]","tests","Thu Sep 04 14:31:20 BST 2025","passed","Thu Sep 04 14:31:30 BST 2025","","test_online_consent_hpv","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","1257","test_batch_name_too_short[MenQuadfi]","tests","Thu Sep 04 14:24:06 BST 2025","passed","Thu Sep 04 14:24:08 BST 2025","","test_vaccines","",""
"
Test: Merging two child records does not cause a crash (MAV-1839).
Steps:
1. Setup: Import a class list with two fixed children and navigate to the children page.
2. Search for the first child by name.
3. Open the first child's record and start the archive (merge) process.
4. Select the second child as the duplicate.
5. Complete the archive/merge.
Verification:
- An alert appears with the message ""This record has been archived""
","7675","test_merge_child_records_does_not_crash","tests","Thu Sep 04 14:34:12 BST 2025","passed","Thu Sep 04 14:34:19 BST 2025","","test_children","",""
"
Test: Upload a cohort file with invalid structure and verify error handling.
Steps:
1. Navigate to cohort import page.
2. Upload a file with incorrect structure.
Verification:
- Import fails and structural error is shown.
","1400","test_cohort_upload_with_invalid_structure","tests","Thu Sep 04 14:23:38 BST 2025","passed","Thu Sep 04 14:23:40 BST 2025","","test_programmes","",""
"
Test: End-to-end test for recording MenACWY and Td/IPV (""doubles"") vaccinations for a child.
Steps:
1. Setup: Log in as nurse, create session, import class list, and get batch names.
2. Go to online consent URL and fill in child and parent details.
3. Agree to both MenACWY and Td/IPV vaccinations, fill address, answer health questions, and confirm.
4. Log in as nurse, navigate to session, set session in progress, register child as attending.
5. Record MenACWY and Td/IPV vaccinations for the child.
Verification:
- Final consent message is shown after online consent.
- Both vaccinations are recorded for the child in the session.
","31877","test_recording_doubles_vaccination_e2e","tests","Thu Sep 04 14:36:26 BST 2025","passed","Thu Sep 04 14:36:58 BST 2025","","test_e2e","",""
"
Test: Submit multiple online flu consent forms with different methods and verify the correct method is displayed in the session.
Steps:
1. Fill in child and parent details and submit consent with the first method.
2. Submit a second consent for the same child with the second method (different parent).
3. Navigate to the session and consent tab.
4. Search for the child and verify the correct consent method is shown.
Verification:
- The consent method displayed in the session matches the expected method from the last consent.
","27982","test_flu_consent_method_displayed_correctly[consents: (<ConsentOption.BOTH: ''>, <ConsentOption.INJECTION: 'Injection'>, <ConsentOption.INJECTION: 'Injection'>)]","tests","Thu Sep 04 14:31:38 BST 2025","passed","Thu Sep 04 14:32:06 BST 2025","","test_online_consent_flu","",""
"
Test: Submit multiple online flu consent forms with different methods and verify the correct method is displayed in the session.
Steps:
1. Fill in child and parent details and submit consent with the first method.
2. Submit a second consent for the same child with the second method (different parent).
3. Navigate to the session and consent tab.
4. Search for the child and verify the correct consent method is shown.
Verification:
- The consent method displayed in the session matches the expected method from the last consent.
","34420","test_flu_consent_method_displayed_correctly[consents: (<ConsentOption.BOTH: ''>, <ConsentOption.BOTH: ''>, <ConsentOption.NASAL_SPRAY: 'Nasal spray'>)]","tests","Thu Sep 04 14:32:32 BST 2025","passed","Thu Sep 04 14:33:06 BST 2025","","test_online_consent_flu","",""
"
Test: Upload a vaccination file with no URN/care setting and verify location is set to school (MAV-855).
Steps:
1. Upload a vaccination file missing care setting.
2. Navigate to children page and search for the child.
3. Open vaccination details for the child.
Verification:
- Vaccination location is displayed as the school.
","22650","test_vaccination_file_upload_no_urn_location_mav_855","tests","Thu Sep 04 14:32:16 BST 2025","passed","Thu Sep 04 14:32:39 BST 2025","","test_import_records","",""
"
Test: Upload a valid class list file and verify successful import.
Steps:
1. Navigate to class list import page for the correct school and year group.
2. Upload a valid class list file.
Verification:
- Output indicates successful import of records.
","18187","test_class_list_file_upload_valid_data","tests","Thu Sep 04 14:24:41 BST 2025","passed","Thu Sep 04 14:24:59 BST 2025","","test_import_records","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","5373","test_batch_add_change_archive[Fluenz]","tests","Thu Sep 04 14:23:02 BST 2025","passed","Thu Sep 04 14:23:07 BST 2025","","test_vaccines","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","1571","test_batch_name_too_short[Gardasil 9]","tests","Thu Sep 04 14:24:01 BST 2025","passed","Thu Sep 04 14:24:03 BST 2025","","test_vaccines","",""
"
Test: Attempt to add a batch with a name that is too long and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with more than 100 characters.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be less than 100 characters.
","1274","test_batch_name_too_long[Nimenrix]","tests","Thu Sep 04 14:24:49 BST 2025","passed","Thu Sep 04 14:24:51 BST 2025","","test_vaccines","",""
"
Test: Upload an invalid child list file and verify error handling.
Steps:
1. Navigate to child record import page.
2. Upload a child list file with invalid data.
Verification:
- Output lists errors as expected for each record
","1923","test_child_list_file_upload_invalid_data","tests","Thu Sep 04 14:23:22 BST 2025","passed","Thu Sep 04 14:23:24 BST 2025","","test_import_records","",""
"
Test: Ensure patient details page loads for a child with missing vaccine info (MAV-853).
Steps:
1. Setup: Import class list, schedule session, import cohort, and upload vaccination records with missing vaccine info.
2. Search for the child by name.
3. Click to view the child's record.
4. Open the activity log.
5. View vaccination details for the child.
Verification:
- Activity log header shows ""Vaccinated with Gardasil 9"".
- Vaccination details show ""Outcome"" as ""Vaccinated"".
","7839","test_patient_details_load_with_missing_vaccine_info","tests","Thu Sep 04 14:32:58 BST 2025","passed","Thu Sep 04 14:33:06 BST 2025","","test_children","",""
"
Test: Changing a child's NHS number to an invalid value should fail.
Steps:
1. Setup: Import a fixed child class list and navigate to the children page.
2. Search for the child by name.
3. Open the child's record and edit it.
4. Attempt to change the NHS number to an invalid value (""9123456789"").
5. Continue to submit the change.
Verification:
- An alert appears with the message ""Enter a valid NHS number"".
","6869","test_invalid_nhs_number_change_is_rejected","tests","Thu Sep 04 14:33:34 BST 2025","passed","Thu Sep 04 14:33:41 BST 2025","","test_children","",""
"
Test: Submit an online consent form giving consent for one or both doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines, and health question status.
","10473","test_consent_given_for_doubles_vaccination[health_question: False-change_school: False-programmes: [<Programme.MENACWY: 'MenACWY'>, <Programme.TD_IPV: 'Td/IPV'>]]","tests","Thu Sep 04 14:23:28 BST 2025","passed","Thu Sep 04 14:23:39 BST 2025","","test_online_consent_doubles","",""
"
Test: Add, edit, and archive a vaccine batch and verify success alerts.
Steps:
1. Click to add a new batch for the given vaccine.
2. Fill in batch name and expiry date, then confirm.
3. Edit the batch expiry date and confirm.
4. Archive the batch and confirm.
Verification:
- Success alerts are visible after each operation (add, edit, archive).
","4795","test_batch_add_change_archive[Nimenrix]","tests","Thu Sep 04 14:23:39 BST 2025","passed","Thu Sep 04 14:23:44 BST 2025","","test_vaccines","",""
"
Test: Upload a valid cohort (class list) file and verify successful import.
Steps:
1. Navigate to cohort import page.
2. Upload a valid cohort file.
Verification:
- Import completes successfully with expected records.
","25035","test_cohort_upload_with_valid_file","tests","Thu Sep 04 14:23:00 BST 2025","passed","Thu Sep 04 14:23:25 BST 2025","","test_programmes","",""
"
Test: Submit an online consent form giving consent for flu vaccination (nasal spray, injection, or both) and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page.
2. Agree to flu vaccination, selecting the consent option (nasal spray, injection, or both).
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, consent option, and health question status.
","16782","test_consent_given_for_flu_vaccination[health_question: True-consent_option: Nasal spray]","tests","Thu Sep 04 14:27:07 BST 2025","passed","Thu Sep 04 14:27:23 BST 2025","","test_online_consent_flu","",""
"
Test: Verify that the flu vaccine is not available for selection if not enabled in onboarding.
Steps:
1. Retrieve the list of enabled programmes from onboarding.
2. Check the vaccines page for flu vaccine availability.
Verification:
- Flu vaccine is not available for selection if not present in the enabled programmes.
","0","test_verify_flu_not_available","tests","Thu Sep 04 14:25:00 BST 2025","passed","Thu Sep 04 14:25:00 BST 2025","","test_vaccines","",""
"
Test: Attempt to log in with invalid or empty credentials and verify error message.
Steps:
1. Navigate to the log in page (autouse fixture).
2. Attempt to log in with the given username and password.
Verification:
- Error message is displayed indicating invalid credentials.
","754","test_login_with_invalid_credentials[password: invalid-username: ]","tests","Thu Sep 04 14:29:09 BST 2025","passed","Thu Sep 04 14:29:10 BST 2025","","test_log_in","",""
"
Test: Upload a vaccination records file with invalid structure and verify error handling.
Steps:
1. Navigate to vaccination records import page.
2. Upload a file with incorrect structure.
Verification:
- Output indicates structural errors.
","1823","test_vaccination_file_upload_invalid_structure","tests","Thu Sep 04 14:30:06 BST 2025","passed","Thu Sep 04 14:30:07 BST 2025","","test_import_records","",""
"
Test: Attempt to add a batch with a name that is too short and verify error message.
Steps:
1. Click to add a new batch for the given vaccine.
2. Enter a batch name with only one character.
3. Fill in expiry date and confirm.
Verification:
- Error message is shown indicating the batch name must be more than 2 characters.
","1254","test_batch_name_too_short[Menveo]","tests","Thu Sep 04 14:24:11 BST 2025","passed","Thu Sep 04 14:24:13 BST 2025","","test_vaccines","",""
"
Test: Create a new child record from an unmatched consent response without NHS number.
Steps:
1. Select a child from unmatched consent responses.
2. Click to create a new record and complete the process.
3. Verify the child is removed from unmatched responses.
4. Go to children page and verify activity log for the created child.
Verification:
- Created alert is visible.
- Consent response for the child is no longer visible in unmatched list.
- Activity log for the child shows the creation event.
","18058","test_create_child_record_from_consent_without_nhs_number","tests","Thu Sep 04 14:37:36 BST 2025","passed","Thu Sep 04 14:37:54 BST 2025","","test_consent_responses","",""
"
Test: Download the school moves CSV and verify the headers.
Steps:
1. Setup: Ensure school moves exist by confirming/ignoring moves for two children.
2. Click the download button on the school moves page.
3. Enter a date range and confirm the download.
4. Read the downloaded CSV and extract the headers.
Verification:
- The CSV contains all expected headers for school moves.
","1673","test_download_school_moves_csv","tests","Thu Sep 04 14:35:43 BST 2025","passed","Thu Sep 04 14:35:44 BST 2025","","test_school_moves","",""
"
Test: Submit an online consent form giving consent for one or both doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines, and health question status.
","12116","test_consent_given_for_doubles_vaccination[health_question: True-change_school: True-programmes: [<Programme.MENACWY: 'MenACWY'>]]","tests","Thu Sep 04 14:28:13 BST 2025","passed","Thu Sep 04 14:28:25 BST 2025","","test_online_consent_doubles","",""
"
Test: Submit an online consent form giving consent for one or both doubles vaccinations and verify confirmation.
Steps:
1. Fill in child and parent details on the consent page, optionally changing school.
2. Agree to one or both doubles vaccinations as specified by parameter.
3. Fill in address details.
4. Answer the required number of health questions, optionally marking one as 'yes'.
5. If not both vaccines, select a reason for not giving consent to the other.
6. Submit the consent form.
Verification:
- Confirmation message is shown for the correct child, vaccines, and health question status.
","10630","test_consent_given_for_doubles_vaccination[health_question: True-change_school: False-programmes: [<Programme.MENACWY: 'MenACWY'>, <Programme.TD_IPV: 'Td/IPV'>]]","tests","Thu Sep 04 14:26:19 BST 2025","passed","Thu Sep 04 14:26:30 BST 2025","","test_online_consent_doubles","",""
"
Test: Upload an invalid class list file and verify error handling.
Steps:
1. Navigate to class list import page for the correct school and year group.
2. Upload a class list file with invalid data.
Verification:
- Output lists errors as expected for each record
","5108","test_class_list_file_upload_invalid_data","tests","Thu Sep 04 14:25:14 BST 2025","passed","Thu Sep 04 14:25:19 BST 2025","","test_import_records","",""
