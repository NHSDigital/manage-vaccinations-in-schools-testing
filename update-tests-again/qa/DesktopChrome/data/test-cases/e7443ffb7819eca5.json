{"uid":"e7443ffb7819eca5","name":"test_vaccination_file_upload_invalid_data","fullName":"tests.test_import_vaccinations#test_vaccination_file_upload_invalid_data","historyId":"5edfc459d25cd0e1810251680d0c41c9","time":{"start":1761901119360,"stop":1761901127807,"duration":8447},"description":"\nTest: Upload an invalid vaccination records file and verify error handling.\nSteps:\n1. Navigate to vaccination records import page.\n2. Upload a vaccination file with invalid data.\nVerification:\n- Output lists errors as expected for each record\nScenarios covered:\n\nHPV_InvalidODSCode, HPV_EmptyOrgCode, HPV_EmptySchoolURN, HPV_NotKnownSchoolEmpty,\nHPV_LongNHSNumber, HPV_ShortNHSNumber, HPV_EmptyForename, HPV_EmptyLastname,\nHPV_EmptyDOB, HPV_InvalidFormatDOB, HPV_FutureDOB, HPV_NonLeapYearDOB,\nHPV_EmptyGender, HPV_InvalidGender, HPV_EmptyPostCode, HPV_InvalidPostCode,\nHPV_EmptyVaccDate, HPV_FutureVaccDate, HPV_EmptyVaccGiven, HPV_EmptyBatchNumber,\nHPV_EmptyExpiryDate, HPV_EmptyAnatomicalSite, HPV_InvalidAnatomicalSite,\nHPV_EmptyDoseSeq, HPV_InvalidDoseSeq, HPV_EmptyCareSetting, HPV_InvalidProfFName,\nHPV_InvalidProfSName, HPV_InvalidProfEmail, HPV_InvalidClinic, HPV_InvalidTime,\nHPV_InvalidReason, HPV_InvalidVaccinatedFlag, HPV_InvalidCareSetting,\nHPV_TimeInFuture, HPV_VaccinatedFlagEmpty, TDIPV_EmptyDoseSeq, TDIPV_InvalidDoseSeq,\nMenACWY_EmptyDoseSeq, MenACWY_InvalidDoseSeq, MenACWY_LongBatchNumber, MMR_DoseSeq3\n","descriptionHtml":"<p>Test: Upload an invalid vaccination records file and verify error handling.<br />\nSteps:</p>\n<ol>\n<li>Navigate to vaccination records import page.</li>\n<li>Upload a vaccination file with invalid data.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Output lists errors as expected for each record<br />\nScenarios covered:</li>\n</ul>\n<p>HPV_InvalidODSCode, HPV_EmptyOrgCode, HPV_EmptySchoolURN, HPV_NotKnownSchoolEmpty,<br />\nHPV_LongNHSNumber, HPV_ShortNHSNumber, HPV_EmptyForename, HPV_EmptyLastname,<br />\nHPV_EmptyDOB, HPV_InvalidFormatDOB, HPV_FutureDOB, HPV_NonLeapYearDOB,<br />\nHPV_EmptyGender, HPV_InvalidGender, HPV_EmptyPostCode, HPV_InvalidPostCode,<br />\nHPV_EmptyVaccDate, HPV_FutureVaccDate, HPV_EmptyVaccGiven, HPV_EmptyBatchNumber,<br />\nHPV_EmptyExpiryDate, HPV_EmptyAnatomicalSite, HPV_InvalidAnatomicalSite,<br />\nHPV_EmptyDoseSeq, HPV_InvalidDoseSeq, HPV_EmptyCareSetting, HPV_InvalidProfFName,<br />\nHPV_InvalidProfSName, HPV_InvalidProfEmail, HPV_InvalidClinic, HPV_InvalidTime,<br />\nHPV_InvalidReason, HPV_InvalidVaccinatedFlag, HPV_InvalidCareSetting,<br />\nHPV_TimeInFuture, HPV_VaccinatedFlagEmpty, TDIPV_EmptyDoseSeq, TDIPV_InvalidDoseSeq,<br />\nMenACWY_EmptyDoseSeq, MenACWY_InvalidDoseSeq, MenACWY_LongBatchNumber, MMR_DoseSeq3</p>\n","status":"failed","statusMessage":"AssertionError: Locator expected to contain text 'Row 19 DATE_OF_VACCINATION: The vaccination date is in the future. DATE_OF_VACCINATION: Enter a date that matches when the vaccination session took place.'\nActual value: \n        \n\n          \n    \n      \n\n      \nImport (31 October 2025 at 8:58am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on31 October 2025 at 8:58amImported byNURSE, NurseUploaded fileVaccsFileMapping.NEGATIVE20251031085839.csvTypeImmunisation list\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for vaccination records\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  ORGANISATION_CODE: Enter an organisation code that matches the current team.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 3\n            \n\n            \n                  ORGANISATION_CODE: Enter an organisation code.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 4\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 5\n            \n\n            \n                  SCHOOL_NAME or School is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 6\n            \n\n            \n                  NHS_NUMBER: should be a valid NHS number with 10 characters\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 7\n            \n\n            \n                  NHS_NUMBER: should be a valid NHS number with 10 characters\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 8\n            \n\n            \n                  PERSON_FORENAME or First name is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 9\n            \n\n            \n                  PERSON_SURNAME or Surname is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 10\n            \n\n            \n                  PERSON_DOB or Date of birth is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 11\n            \n\n            \n                  PERSON_DOB: Enter a date of birth in the correct format.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 12\n            \n\n            \n                  DATE_OF_VACCINATION: The vaccination date is before the date of birth.\n                  PERSON_DOB: Enter a date of birth in the past.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 13\n            \n\n            \n                  PERSON_DOB: Enter a date of birth in the correct format.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 14\n            \n\n            \n                  PERSON_GENDER_CODE, PERSON_GENDER or Sex is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 15\n            \n\n            \n                  PERSON_GENDER_CODE: Enter a valid gender or gender code.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 16\n            \n\n            \n                  PERSON_POSTCODE or Postcode is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 17\n            \n\n            \n                  PERSON_POSTCODE: Enter a valid postcode, such as SW1A 1AA.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 18\n            \n\n            \n                  DATE_OF_VACCINATION or Event date is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 19\n            \n\n            \n                  DATE_OF_VACCINATION: The vaccination date is in the future.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 20\n            \n\n            \n                  PROGRAMME or Vaccination type is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n                  VACCINE_GIVEN: is required\n            \n            \n                Row 21\n            \n\n            \n                  BATCH_NUMBER or Vaccination batch number is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 22\n            \n\n            \n                  BATCH_EXPIRY_DATE: Enter a batch expiry date.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 23\n            \n\n            \n                  ANATOMICAL_SITE: Enter an anatomical site.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 24\n            \n\n            \n                  ANATOMICAL_SITE: Enter a anatomical site that is appropriate for the vaccine.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 25\n            \n\n            \n                  DOSE_SEQUENCE or Vaccination type is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 26\n            \n\n            \n                  DOSE_SEQUENCE: must be less than or equal to 3\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 27\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 28\n            \n\n            \n                  PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 29\n            \n\n            \n                  PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 30\n            \n\n            \n                  PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 31\n            \n\n            \n                  CLINIC_NAME: is not recognised\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 32\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n                  TIME_OF_VACCINATION: Enter a time in the correct format.\n            \n            \n                Row 33\n            \n\n            \n                  REASON_NOT_VACCINATED: must be blank\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 34\n            \n\n            \n                  VACCINATED: You need to record whether the child was vaccinated or not. Enter ‘Y’ or ‘N’ in the ‘vaccinated’ column.\n                  BATCH_EXPIRY_DATE: must be blank\n                  BATCH_NUMBER: must be blank\n                  ANATOMICAL_SITE: must be blank\n                  REASON_NOT_VACCINATED: Enter a valid reason\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 35\n            \n\n            \n                  CARE_SETTING: Enter a valid care setting.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 36\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n                  TIME_OF_VACCINATION: Enter a time in the past.\n            \n            \n                Row 37\n            \n\n            \n                  REASON_NOT_VACCINATED: must be blank\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 38\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 39\n            \n\n            \n                  DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 40\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 41\n            \n\n            \n                  DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 42\n            \n\n            \n                  BATCH_NUMBER: must be at most 100 characters long\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 43\n            \n\n            \n                  DOSE_SEQUENCE: must be less than or equal to 2\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n       \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"main\")\n    9 × locator resolved to <main role=\"main\" id=\"main-content\" class=\"nhsuk-main-wrapper\">…</main>\n      - unexpected value \"\n        \n\n          \n    \n      \n\n      \nImport (31 October 2025 at 8:58am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on31 October 2025 at 8:58amImported byNURSE, NurseUploaded fileVaccsFileMapping.NEGATIVE20251031085839.csvTypeImmunisation list\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for vaccination records\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  ORGANISATION_CODE: Enter an organisation code that matches the current team.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 3\n            \n\n            \n                  ORGANISATION_CODE: Enter an organisation code.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 4\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 5\n            \n\n            \n                  SCHOOL_NAME or School is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 6\n            \n\n            \n                  NHS_NUMBER: should be a valid NHS number with 10 characters\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 7\n            \n\n            \n                  NHS_NUMBER: should be a valid NHS number with 10 characters\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 8\n            \n\n            \n                  PERSON_FORENAME or First name is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 9\n            \n\n            \n                  PERSON_SURNAME or Surname is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 10\n            \n\n            \n                  PERSON_DOB or Date of birth is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 11\n            \n\n            \n                  PERSON_DOB: Enter a date of birth in the correct format.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 12\n            \n\n            \n                  DATE_OF_VACCINATION: The vaccination date is before the date of birth.\n                  PERSON_DOB: Enter a date of birth in the past.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 13\n            \n\n            \n                  PERSON_DOB: Enter a date of birth in the correct format.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 14\n            \n\n            \n                  PERSON_GENDER_CODE, PERSON_GENDER or Sex is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 15\n            \n\n            \n                  PERSON_GENDER_CODE: Enter a valid gender or gender code.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 16\n            \n\n            \n                  PERSON_POSTCODE or Postcode is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 17\n            \n\n            \n                  PERSON_POSTCODE: Enter a valid postcode, such as SW1A 1AA.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 18\n            \n\n            \n                  DATE_OF_VACCINATION or Event date is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 19\n            \n\n            \n                  DATE_OF_VACCINATION: The vaccination date is in the future.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 20\n            \n\n            \n                  PROGRAMME or Vaccination type is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n                  VACCINE_GIVEN: is required\n            \n            \n                Row 21\n            \n\n            \n                  BATCH_NUMBER or Vaccination batch number is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 22\n            \n\n            \n                  BATCH_EXPIRY_DATE: Enter a batch expiry date.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 23\n            \n\n            \n                  ANATOMICAL_SITE: Enter an anatomical site.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 24\n            \n\n            \n                  ANATOMICAL_SITE: Enter a anatomical site that is appropriate for the vaccine.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 25\n            \n\n            \n                  DOSE_SEQUENCE or Vaccination type is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 26\n            \n\n            \n                  DOSE_SEQUENCE: must be less than or equal to 3\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 27\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 28\n            \n\n            \n                  PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 29\n            \n\n            \n                  PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 30\n            \n\n            \n                  PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 31\n            \n\n            \n                  CLINIC_NAME: is not recognised\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 32\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n                  TIME_OF_VACCINATION: Enter a time in the correct format.\n            \n            \n                Row 33\n            \n\n            \n                  REASON_NOT_VACCINATED: must be blank\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 34\n            \n\n            \n                  VACCINATED: You need to record whether the child was vaccinated or not. Enter ‘Y’ or ‘N’ in the ‘vaccinated’ column.\n                  BATCH_EXPIRY_DATE: must be blank\n                  BATCH_NUMBER: must be blank\n                  ANATOMICAL_SITE: must be blank\n                  REASON_NOT_VACCINATED: Enter a valid reason\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 35\n            \n\n            \n                  CARE_SETTING: Enter a valid care setting.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 36\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n                  TIME_OF_VACCINATION: Enter a time in the past.\n            \n            \n                Row 37\n            \n\n            \n                  REASON_NOT_VACCINATED: must be blank\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 38\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 39\n            \n\n            \n                  DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 40\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 41\n            \n\n            \n                  DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 42\n            \n\n            \n                  BATCH_NUMBER: must be at most 100 characters long\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 43\n            \n\n            \n                  DOSE_SEQUENCE: must be less than or equal to 2\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n      \"","statusTrace":"setup_vaccs = nan\nimport_records_page = <mavis.test.pages.import_records.ImportRecordsPage object at 0x7fb9be586ad0>\n\n    @pytest.mark.vaccinations\n    def test_vaccination_file_upload_invalid_data(setup_vaccs, import_records_page):\n        \"\"\"\n        Test: Upload an invalid vaccination records file and verify error handling.\n        Steps:\n        1. Navigate to vaccination records import page.\n        2. Upload a vaccination file with invalid data.\n        Verification:\n        - Output lists errors as expected for each record\n        Scenarios covered:\n    \n        HPV_InvalidODSCode, HPV_EmptyOrgCode, HPV_EmptySchoolURN, HPV_NotKnownSchoolEmpty,\n        HPV_LongNHSNumber, HPV_ShortNHSNumber, HPV_EmptyForename, HPV_EmptyLastname,\n        HPV_EmptyDOB, HPV_InvalidFormatDOB, HPV_FutureDOB, HPV_NonLeapYearDOB,\n        HPV_EmptyGender, HPV_InvalidGender, HPV_EmptyPostCode, HPV_InvalidPostCode,\n        HPV_EmptyVaccDate, HPV_FutureVaccDate, HPV_EmptyVaccGiven, HPV_EmptyBatchNumber,\n        HPV_EmptyExpiryDate, HPV_EmptyAnatomicalSite, HPV_InvalidAnatomicalSite,\n        HPV_EmptyDoseSeq, HPV_InvalidDoseSeq, HPV_EmptyCareSetting, HPV_InvalidProfFName,\n        HPV_InvalidProfSName, HPV_InvalidProfEmail, HPV_InvalidClinic, HPV_InvalidTime,\n        HPV_InvalidReason, HPV_InvalidVaccinatedFlag, HPV_InvalidCareSetting,\n        HPV_TimeInFuture, HPV_VaccinatedFlagEmpty, TDIPV_EmptyDoseSeq, TDIPV_InvalidDoseSeq,\n        MenACWY_EmptyDoseSeq, MenACWY_InvalidDoseSeq, MenACWY_LongBatchNumber, MMR_DoseSeq3\n        \"\"\"\n>       import_records_page.upload_and_verify_output(\n            file_mapping=VaccsFileMapping.NEGATIVE,\n            session_id=setup_vaccs,\n        )\n\ntests/test_import_vaccinations.py:152: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/import_records.py:141: in upload_and_verify_output\n    self.verify_upload_output(file_path=_output_file_path)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mavis.test.pages.import_records.ImportRecordsPage object at 0x7fb9be586ad0>\nfile_path = PosixPath('vaccs/o_negative.txt')\n\n    def verify_upload_output(self, file_path: Path) -> None:\n        _expected_errors = self.test_data.get_expected_errors(file_path)\n        if _expected_errors is not None:\n            for _msg in _expected_errors:\n                if _msg.startswith(\"!\"):\n                    expect(self.page.get_by_role(\"main\")).not_to_contain_text(_msg[1:])\n                else:\n>                   expect(self.page.get_by_role(\"main\")).to_contain_text(_msg)\nE                   AssertionError: Locator expected to contain text 'Row 19 DATE_OF_VACCINATION: The vaccination date is in the future. DATE_OF_VACCINATION: Enter a date that matches when the vaccination session took place.'\nE                   Actual value: \nE                           \nE                   \nE                             \nE                       \nE                         \nE                   \nE                         \nE                   Import (31 October 2025 at 8:58am)\nE                   \nE                   \nE                     Invalid\nE                   \nE                   \nE                   \nE                       \nE                         \nE                           Details\nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                     Imported on31 October 2025 at 8:58amImported byNURSE, NurseUploaded fileVaccsFileMapping.NEGATIVE20251031085839.csvTypeImmunisation list\nE                         \nE                       \nE                   \nE                             \nE                         \nE                                   Records could not be imported\nE                   \nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                         \nE                       \nE                         The records cannot be uploaded due to errors in the CSV file.\nE                       \nE                   \nE                       How to format your Mavis CSV file for vaccination records\nE                     Make sure the CSV you upload uses the following columns:\nE                   \nE                     Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\nE                   \nE                   \nE                   \nE                           \nE                               \nE                                   Row 2\nE                               \nE                   \nE                               \nE                                     ORGANISATION_CODE: Enter an organisation code that matches the current team.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 3\nE                               \nE                   \nE                               \nE                                     ORGANISATION_CODE: Enter an organisation code.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 4\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 5\nE                               \nE                   \nE                               \nE                                     SCHOOL_NAME or School is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 6\nE                               \nE                   \nE                               \nE                                     NHS_NUMBER: should be a valid NHS number with 10 characters\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 7\nE                               \nE                   \nE                               \nE                                     NHS_NUMBER: should be a valid NHS number with 10 characters\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 8\nE                               \nE                   \nE                               \nE                                     PERSON_FORENAME or First name is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 9\nE                               \nE                   \nE                               \nE                                     PERSON_SURNAME or Surname is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 10\nE                               \nE                   \nE                               \nE                                     PERSON_DOB or Date of birth is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 11\nE                               \nE                   \nE                               \nE                                     PERSON_DOB: Enter a date of birth in the correct format.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 12\nE                               \nE                   \nE                               \nE                                     DATE_OF_VACCINATION: The vaccination date is before the date of birth.\nE                                     PERSON_DOB: Enter a date of birth in the past.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 13\nE                               \nE                   \nE                               \nE                                     PERSON_DOB: Enter a date of birth in the correct format.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 14\nE                               \nE                   \nE                               \nE                                     PERSON_GENDER_CODE, PERSON_GENDER or Sex is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 15\nE                               \nE                   \nE                               \nE                                     PERSON_GENDER_CODE: Enter a valid gender or gender code.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 16\nE                               \nE                   \nE                               \nE                                     PERSON_POSTCODE or Postcode is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 17\nE                               \nE                   \nE                               \nE                                     PERSON_POSTCODE: Enter a valid postcode, such as SW1A 1AA.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 18\nE                               \nE                   \nE                               \nE                                     DATE_OF_VACCINATION or Event date is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 19\nE                               \nE                   \nE                               \nE                                     DATE_OF_VACCINATION: The vaccination date is in the future.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 20\nE                               \nE                   \nE                               \nE                                     PROGRAMME or Vaccination type is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                                     VACCINE_GIVEN: is required\nE                               \nE                               \nE                                   Row 21\nE                               \nE                   \nE                               \nE                                     BATCH_NUMBER or Vaccination batch number is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 22\nE                               \nE                   \nE                               \nE                                     BATCH_EXPIRY_DATE: Enter a batch expiry date.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 23\nE                               \nE                   \nE                               \nE                                     ANATOMICAL_SITE: Enter an anatomical site.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 24\nE                               \nE                   \nE                               \nE                                     ANATOMICAL_SITE: Enter a anatomical site that is appropriate for the vaccine.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 25\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE or Vaccination type is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 26\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: must be less than or equal to 3\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 27\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 28\nE                               \nE                   \nE                               \nE                                     PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 29\nE                               \nE                   \nE                               \nE                                     PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 30\nE                               \nE                   \nE                               \nE                                     PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 31\nE                               \nE                   \nE                               \nE                                     CLINIC_NAME: is not recognised\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 32\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                                     TIME_OF_VACCINATION: Enter a time in the correct format.\nE                               \nE                               \nE                                   Row 33\nE                               \nE                   \nE                               \nE                                     REASON_NOT_VACCINATED: must be blank\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 34\nE                               \nE                   \nE                               \nE                                     VACCINATED: You need to record whether the child was vaccinated or not. Enter ‘Y’ or ‘N’ in the ‘vaccinated’ column.\nE                                     BATCH_EXPIRY_DATE: must be blank\nE                                     BATCH_NUMBER: must be blank\nE                                     ANATOMICAL_SITE: must be blank\nE                                     REASON_NOT_VACCINATED: Enter a valid reason\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 35\nE                               \nE                   \nE                               \nE                                     CARE_SETTING: Enter a valid care setting.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 36\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                                     TIME_OF_VACCINATION: Enter a time in the past.\nE                               \nE                               \nE                                   Row 37\nE                               \nE                   \nE                               \nE                                     REASON_NOT_VACCINATED: must be blank\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 38\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 39\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 40\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 41\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 42\nE                               \nE                   \nE                               \nE                                     BATCH_NUMBER: must be at most 100 characters long\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 43\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: must be less than or equal to 2\nE                               \nE                           \nE                   \nE                         \nE                       \nE                   \nE                   \nE                   \nE                       \nE                     \nE                   \nE                          \nE                   Call log:\nE                     - Expect \"to_contain_text\" with timeout 5000ms\nE                     - waiting for get_by_role(\"main\")\nE                       9 × locator resolved to <main role=\"main\" id=\"main-content\" class=\"nhsuk-main-wrapper\">…</main>\nE                         - unexpected value \"\nE                           \nE                   \nE                             \nE                       \nE                         \nE                   \nE                         \nE                   Import (31 October 2025 at 8:58am)\nE                   \nE                   \nE                     Invalid\nE                   \nE                   \nE                   \nE                       \nE                         \nE                           Details\nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                     Imported on31 October 2025 at 8:58amImported byNURSE, NurseUploaded fileVaccsFileMapping.NEGATIVE20251031085839.csvTypeImmunisation list\nE                         \nE                       \nE                   \nE                             \nE                         \nE                                   Records could not be imported\nE                   \nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                         \nE                       \nE                         The records cannot be uploaded due to errors in the CSV file.\nE                       \nE                   \nE                       How to format your Mavis CSV file for vaccination records\nE                     Make sure the CSV you upload uses the following columns:\nE                   \nE                     Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\nE                   \nE                   \nE                   \nE                           \nE                               \nE                                   Row 2\nE                               \nE                   \nE                               \nE                                     ORGANISATION_CODE: Enter an organisation code that matches the current team.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 3\nE                               \nE                   \nE                               \nE                                     ORGANISATION_CODE: Enter an organisation code.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 4\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 5\nE                               \nE                   \nE                               \nE                                     SCHOOL_NAME or School is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 6\nE                               \nE                   \nE                               \nE                                     NHS_NUMBER: should be a valid NHS number with 10 characters\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 7\nE                               \nE                   \nE                               \nE                                     NHS_NUMBER: should be a valid NHS number with 10 characters\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 8\nE                               \nE                   \nE                               \nE                                     PERSON_FORENAME or First name is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 9\nE                               \nE                   \nE                               \nE                                     PERSON_SURNAME or Surname is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 10\nE                               \nE                   \nE                               \nE                                     PERSON_DOB or Date of birth is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 11\nE                               \nE                   \nE                               \nE                                     PERSON_DOB: Enter a date of birth in the correct format.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 12\nE                               \nE                   \nE                               \nE                                     DATE_OF_VACCINATION: The vaccination date is before the date of birth.\nE                                     PERSON_DOB: Enter a date of birth in the past.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 13\nE                               \nE                   \nE                               \nE                                     PERSON_DOB: Enter a date of birth in the correct format.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 14\nE                               \nE                   \nE                               \nE                                     PERSON_GENDER_CODE, PERSON_GENDER or Sex is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 15\nE                               \nE                   \nE                               \nE                                     PERSON_GENDER_CODE: Enter a valid gender or gender code.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 16\nE                               \nE                   \nE                               \nE                                     PERSON_POSTCODE or Postcode is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 17\nE                               \nE                   \nE                               \nE                                     PERSON_POSTCODE: Enter a valid postcode, such as SW1A 1AA.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 18\nE                               \nE                   \nE                               \nE                                     DATE_OF_VACCINATION or Event date is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 19\nE                               \nE                   \nE                               \nE                                     DATE_OF_VACCINATION: The vaccination date is in the future.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 20\nE                               \nE                   \nE                               \nE                                     PROGRAMME or Vaccination type is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                                     VACCINE_GIVEN: is required\nE                               \nE                               \nE                                   Row 21\nE                               \nE                   \nE                               \nE                                     BATCH_NUMBER or Vaccination batch number is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 22\nE                               \nE                   \nE                               \nE                                     BATCH_EXPIRY_DATE: Enter a batch expiry date.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 23\nE                               \nE                   \nE                               \nE                                     ANATOMICAL_SITE: Enter an anatomical site.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 24\nE                               \nE                   \nE                               \nE                                     ANATOMICAL_SITE: Enter a anatomical site that is appropriate for the vaccine.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 25\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE or Vaccination type is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 26\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: must be less than or equal to 3\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 27\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 28\nE                               \nE                   \nE                               \nE                                     PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 29\nE                               \nE                   \nE                               \nE                                     PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 30\nE                               \nE                   \nE                               \nE                                     PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 31\nE                               \nE                   \nE                               \nE                                     CLINIC_NAME: is not recognised\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 32\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                                     TIME_OF_VACCINATION: Enter a time in the correct format.\nE                               \nE                               \nE                                   Row 33\nE                               \nE                   \nE                               \nE                                     REASON_NOT_VACCINATED: must be blank\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 34\nE                               \nE                   \nE                               \nE                                     VACCINATED: You need to record whether the child was vaccinated or not. Enter ‘Y’ or ‘N’ in the ‘vaccinated’ column.\nE                                     BATCH_EXPIRY_DATE: must be blank\nE                                     BATCH_NUMBER: must be blank\nE                                     ANATOMICAL_SITE: must be blank\nE                                     REASON_NOT_VACCINATED: Enter a valid reason\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 35\nE                               \nE                   \nE                               \nE                                     CARE_SETTING: Enter a valid care setting.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 36\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                                     TIME_OF_VACCINATION: Enter a time in the past.\nE                               \nE                               \nE                                   Row 37\nE                               \nE                   \nE                               \nE                                     REASON_NOT_VACCINATED: must be blank\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 38\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 39\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 40\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 41\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 42\nE                               \nE                   \nE                               \nE                                     BATCH_NUMBER: must be at most 100 characters long\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 43\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: must be less than or equal to 2\nE                               \nE                           \nE                   \nE                         \nE                       \nE                   \nE                   \nE                   \nE                       \nE                     \nE                   \nE                         \"\n\nmavis/test/pages/import_records.py:171: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1761901055313,"stop":1761901055314,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1761901055313,"stop":1761901055313,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761901055313,"stop":1761901055313,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761901055314,"stop":1761901055314,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1761901055314,"stop":1761901055315,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761901055314,"stop":1761901055314,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1761901055315,"stop":1761901055315,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1761901055315,"stop":1761901079388,"duration":24073},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1761901079388,"stop":1761901079701,"duration":313},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1761901079702,"stop":1761901079702,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1761901079702,"stop":1761901079702,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1761901079702,"stop":1761901079702,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1761901079702,"stop":1761901079803,"duration":101},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1761901079702,"stop":1761901079702,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1761901079803,"stop":1761901079804,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761901079804,"stop":1761901079805,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1761901079805,"stop":1761901079805,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1761901079805,"stop":1761901079805,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761901079805,"stop":1761901079805,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1761901079805,"stop":1761901084358,"duration":4553},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1761901108809,"stop":1761901108809,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1761901108809,"stop":1761901108809,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1761901108809,"stop":1761901108809,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1761901108809,"stop":1761901108818,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1761901108818,"stop":1761901108858,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1761901108858,"stop":1761901108858,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1761901108858,"stop":1761901108858,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1761901108859,"stop":1761901111089,"duration":2230},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761901108859,"stop":1761901109999,"duration":1140},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761901108859,"stop":1761901109999,"duration":1140},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='wendy46@example.net', password='wendy46@example.net', role='nurse') and choose team Team(name='Butler-King est. 1863', workgroup='P623Q', careplus_venue_code='P623Q', email='carl15@example.net', phone='+44(0)7700 900 349')","time":{"start":1761901109999,"stop":1761901111089,"duration":1090},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1761901109999,"stop":1761901111089,"duration":1090},"status":"passed","steps":[{"name":"Log in as User(username='wendy46@example.net', password='wendy46@example.net', role='nurse')","time":{"start":1761901109999,"stop":1761901111062,"duration":1063},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1761901109999,"stop":1761901111062,"duration":1063},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='wendy46@example.net', password='wendy46@example.net', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='wendy46@example.net', password='wendy46@example.net', role='nurse'), Team(name='Butler-King est. 1863', workgroup='P623Q', careplus_venue_code='P623Q', email='carl15@example.net', phone='+44(0)7700 900 349'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"log_in_page","time":{"start":1761901108859,"stop":1761901108859,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1761901111089,"stop":1761901111093,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1761901111089,"stop":1761901111089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1761901111093,"stop":1761901111094,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1761901111094,"stop":1761901111094,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"import_records_page","time":{"start":1761901111094,"stop":1761901111095,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_vaccs","time":{"start":1761901111095,"stop":1761901119360,"duration":8265},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761901111095,"stop":1761901111331,"duration":236},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761901111095,"stop":1761901111331,"duration":236},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='The Imam Muhammad Adam Institute School', urn='137561', site=None)","time":{"start":1761901111331,"stop":1761901112267,"duration":936},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761901111331,"stop":1761901112267,"duration":936},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='The Imam Muhammad Adam Institute School', urn='137561', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import class lists","time":{"start":1761901112273,"stop":1761901112638,"duration":365},"status":"passed","steps":[{"name":"Click on Import class lists","time":{"start":1761901112273,"stop":1761901112638,"duration":365},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901112687,"stop":1761901113201,"duration":514},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901112687,"stop":1761901113201,"duration":514},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.RANDOM_CHILD20251031085833.csv')","time":{"start":1761901113212,"stop":1761901113235,"duration":23},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1761901113213,"stop":1761901113235,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.RANDOM_CHILD20251031085833.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901114235,"stop":1761901114706,"duration":471},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901114235,"stop":1761901114706,"duration":471},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1761901114736,"stop":1761901114933,"duration":197},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1761901114736,"stop":1761901114933,"duration":197},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761901116293,"stop":1761901116499,"duration":206},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761901116293,"stop":1761901116499,"duration":206},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761901116499,"stop":1761901116766,"duration":267},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761901116499,"stop":1761901116766,"duration":267},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='The Imam Muhammad Adam Institute School', urn='137561', site=None)","time":{"start":1761901116766,"stop":1761901117441,"duration":675},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761901116766,"stop":1761901117441,"duration":675},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='The Imam Muhammad Adam Institute School', urn='137561', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record offline","time":{"start":1761901117441,"stop":1761901117739,"duration":298},"status":"passed","steps":[{"name":"Click on Record offline","time":{"start":1761901117441,"stop":1761901117739,"duration":298},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761901117771,"stop":1761901118023,"duration":252},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761901117771,"stop":1761901118023,"duration":252},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import Records","time":{"start":1761901118024,"stop":1761901118232,"duration":208},"status":"passed","steps":[{"name":"Click on Import Records","time":{"start":1761901118024,"stop":1761901118232,"duration":208},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import Records","time":{"start":1761901118232,"stop":1761901118782,"duration":550},"status":"passed","steps":[{"name":"Click on Import Records","time":{"start":1761901118232,"stop":1761901118782,"duration":550},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select Vaccination Records","time":{"start":1761901118783,"stop":1761901118840,"duration":57},"status":"passed","steps":[{"name":"Select Vaccination Records","time":{"start":1761901118783,"stop":1761901118840,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901118840,"stop":1761901119360,"duration":520},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901118840,"stop":1761901119359,"duration":519},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":32,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"\nTest: Upload an invalid vaccination records file and verify error handling.\nSteps:\n1. Navigate to vaccination records import page.\n2. Upload a vaccination file with invalid data.\nVerification:\n- Output lists errors as expected for each record\nScenarios covered:\n\nHPV_InvalidODSCode, HPV_EmptyOrgCode, HPV_EmptySchoolURN, HPV_NotKnownSchoolEmpty,\nHPV_LongNHSNumber, HPV_ShortNHSNumber, HPV_EmptyForename, HPV_EmptyLastname,\nHPV_EmptyDOB, HPV_InvalidFormatDOB, HPV_FutureDOB, HPV_NonLeapYearDOB,\nHPV_EmptyGender, HPV_InvalidGender, HPV_EmptyPostCode, HPV_InvalidPostCode,\nHPV_EmptyVaccDate, HPV_FutureVaccDate, HPV_EmptyVaccGiven, HPV_EmptyBatchNumber,\nHPV_EmptyExpiryDate, HPV_EmptyAnatomicalSite, HPV_InvalidAnatomicalSite,\nHPV_EmptyDoseSeq, HPV_InvalidDoseSeq, HPV_EmptyCareSetting, HPV_InvalidProfFName,\nHPV_InvalidProfSName, HPV_InvalidProfEmail, HPV_InvalidClinic, HPV_InvalidTime,\nHPV_InvalidReason, HPV_InvalidVaccinatedFlag, HPV_InvalidCareSetting,\nHPV_TimeInFuture, HPV_VaccinatedFlagEmpty, TDIPV_EmptyDoseSeq, TDIPV_InvalidDoseSeq,\nMenACWY_EmptyDoseSeq, MenACWY_InvalidDoseSeq, MenACWY_LongBatchNumber, MMR_DoseSeq3\n","status":"failed","statusMessage":"AssertionError: Locator expected to contain text 'Row 19 DATE_OF_VACCINATION: The vaccination date is in the future. DATE_OF_VACCINATION: Enter a date that matches when the vaccination session took place.'\nActual value: \n        \n\n          \n    \n      \n\n      \nImport (31 October 2025 at 8:58am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on31 October 2025 at 8:58amImported byNURSE, NurseUploaded fileVaccsFileMapping.NEGATIVE20251031085839.csvTypeImmunisation list\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for vaccination records\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  ORGANISATION_CODE: Enter an organisation code that matches the current team.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 3\n            \n\n            \n                  ORGANISATION_CODE: Enter an organisation code.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 4\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 5\n            \n\n            \n                  SCHOOL_NAME or School is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 6\n            \n\n            \n                  NHS_NUMBER: should be a valid NHS number with 10 characters\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 7\n            \n\n            \n                  NHS_NUMBER: should be a valid NHS number with 10 characters\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 8\n            \n\n            \n                  PERSON_FORENAME or First name is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 9\n            \n\n            \n                  PERSON_SURNAME or Surname is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 10\n            \n\n            \n                  PERSON_DOB or Date of birth is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 11\n            \n\n            \n                  PERSON_DOB: Enter a date of birth in the correct format.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 12\n            \n\n            \n                  DATE_OF_VACCINATION: The vaccination date is before the date of birth.\n                  PERSON_DOB: Enter a date of birth in the past.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 13\n            \n\n            \n                  PERSON_DOB: Enter a date of birth in the correct format.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 14\n            \n\n            \n                  PERSON_GENDER_CODE, PERSON_GENDER or Sex is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 15\n            \n\n            \n                  PERSON_GENDER_CODE: Enter a valid gender or gender code.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 16\n            \n\n            \n                  PERSON_POSTCODE or Postcode is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 17\n            \n\n            \n                  PERSON_POSTCODE: Enter a valid postcode, such as SW1A 1AA.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 18\n            \n\n            \n                  DATE_OF_VACCINATION or Event date is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 19\n            \n\n            \n                  DATE_OF_VACCINATION: The vaccination date is in the future.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 20\n            \n\n            \n                  PROGRAMME or Vaccination type is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n                  VACCINE_GIVEN: is required\n            \n            \n                Row 21\n            \n\n            \n                  BATCH_NUMBER or Vaccination batch number is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 22\n            \n\n            \n                  BATCH_EXPIRY_DATE: Enter a batch expiry date.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 23\n            \n\n            \n                  ANATOMICAL_SITE: Enter an anatomical site.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 24\n            \n\n            \n                  ANATOMICAL_SITE: Enter a anatomical site that is appropriate for the vaccine.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 25\n            \n\n            \n                  DOSE_SEQUENCE or Vaccination type is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 26\n            \n\n            \n                  DOSE_SEQUENCE: must be less than or equal to 3\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 27\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 28\n            \n\n            \n                  PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 29\n            \n\n            \n                  PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 30\n            \n\n            \n                  PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 31\n            \n\n            \n                  CLINIC_NAME: is not recognised\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 32\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n                  TIME_OF_VACCINATION: Enter a time in the correct format.\n            \n            \n                Row 33\n            \n\n            \n                  REASON_NOT_VACCINATED: must be blank\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 34\n            \n\n            \n                  VACCINATED: You need to record whether the child was vaccinated or not. Enter ‘Y’ or ‘N’ in the ‘vaccinated’ column.\n                  BATCH_EXPIRY_DATE: must be blank\n                  BATCH_NUMBER: must be blank\n                  ANATOMICAL_SITE: must be blank\n                  REASON_NOT_VACCINATED: Enter a valid reason\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 35\n            \n\n            \n                  CARE_SETTING: Enter a valid care setting.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 36\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n                  TIME_OF_VACCINATION: Enter a time in the past.\n            \n            \n                Row 37\n            \n\n            \n                  REASON_NOT_VACCINATED: must be blank\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 38\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 39\n            \n\n            \n                  DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 40\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 41\n            \n\n            \n                  DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 42\n            \n\n            \n                  BATCH_NUMBER: must be at most 100 characters long\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 43\n            \n\n            \n                  DOSE_SEQUENCE: must be less than or equal to 2\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n       \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"main\")\n    9 × locator resolved to <main role=\"main\" id=\"main-content\" class=\"nhsuk-main-wrapper\">…</main>\n      - unexpected value \"\n        \n\n          \n    \n      \n\n      \nImport (31 October 2025 at 8:58am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on31 October 2025 at 8:58amImported byNURSE, NurseUploaded fileVaccsFileMapping.NEGATIVE20251031085839.csvTypeImmunisation list\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for vaccination records\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  ORGANISATION_CODE: Enter an organisation code that matches the current team.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 3\n            \n\n            \n                  ORGANISATION_CODE: Enter an organisation code.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 4\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 5\n            \n\n            \n                  SCHOOL_NAME or School is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 6\n            \n\n            \n                  NHS_NUMBER: should be a valid NHS number with 10 characters\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 7\n            \n\n            \n                  NHS_NUMBER: should be a valid NHS number with 10 characters\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 8\n            \n\n            \n                  PERSON_FORENAME or First name is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 9\n            \n\n            \n                  PERSON_SURNAME or Surname is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 10\n            \n\n            \n                  PERSON_DOB or Date of birth is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 11\n            \n\n            \n                  PERSON_DOB: Enter a date of birth in the correct format.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 12\n            \n\n            \n                  DATE_OF_VACCINATION: The vaccination date is before the date of birth.\n                  PERSON_DOB: Enter a date of birth in the past.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 13\n            \n\n            \n                  PERSON_DOB: Enter a date of birth in the correct format.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 14\n            \n\n            \n                  PERSON_GENDER_CODE, PERSON_GENDER or Sex is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 15\n            \n\n            \n                  PERSON_GENDER_CODE: Enter a valid gender or gender code.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 16\n            \n\n            \n                  PERSON_POSTCODE or Postcode is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 17\n            \n\n            \n                  PERSON_POSTCODE: Enter a valid postcode, such as SW1A 1AA.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 18\n            \n\n            \n                  DATE_OF_VACCINATION or Event date is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 19\n            \n\n            \n                  DATE_OF_VACCINATION: The vaccination date is in the future.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 20\n            \n\n            \n                  PROGRAMME or Vaccination type is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n                  VACCINE_GIVEN: is required\n            \n            \n                Row 21\n            \n\n            \n                  BATCH_NUMBER or Vaccination batch number is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 22\n            \n\n            \n                  BATCH_EXPIRY_DATE: Enter a batch expiry date.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 23\n            \n\n            \n                  ANATOMICAL_SITE: Enter an anatomical site.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 24\n            \n\n            \n                  ANATOMICAL_SITE: Enter a anatomical site that is appropriate for the vaccine.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 25\n            \n\n            \n                  DOSE_SEQUENCE or Vaccination type is required\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 26\n            \n\n            \n                  DOSE_SEQUENCE: must be less than or equal to 3\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 27\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 28\n            \n\n            \n                  PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 29\n            \n\n            \n                  PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 30\n            \n\n            \n                  PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 31\n            \n\n            \n                  CLINIC_NAME: is not recognised\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 32\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n                  TIME_OF_VACCINATION: Enter a time in the correct format.\n            \n            \n                Row 33\n            \n\n            \n                  REASON_NOT_VACCINATED: must be blank\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 34\n            \n\n            \n                  VACCINATED: You need to record whether the child was vaccinated or not. Enter ‘Y’ or ‘N’ in the ‘vaccinated’ column.\n                  BATCH_EXPIRY_DATE: must be blank\n                  BATCH_NUMBER: must be blank\n                  ANATOMICAL_SITE: must be blank\n                  REASON_NOT_VACCINATED: Enter a valid reason\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 35\n            \n\n            \n                  CARE_SETTING: Enter a valid care setting.\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 36\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n                  TIME_OF_VACCINATION: Enter a time in the past.\n            \n            \n                Row 37\n            \n\n            \n                  REASON_NOT_VACCINATED: must be blank\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 38\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 39\n            \n\n            \n                  DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 40\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 41\n            \n\n            \n                  DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 42\n            \n\n            \n                  BATCH_NUMBER: must be at most 100 characters long\n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 43\n            \n\n            \n                  DOSE_SEQUENCE: must be less than or equal to 2\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n      \"","statusTrace":"setup_vaccs = nan\nimport_records_page = <mavis.test.pages.import_records.ImportRecordsPage object at 0x7fb9be586ad0>\n\n    @pytest.mark.vaccinations\n    def test_vaccination_file_upload_invalid_data(setup_vaccs, import_records_page):\n        \"\"\"\n        Test: Upload an invalid vaccination records file and verify error handling.\n        Steps:\n        1. Navigate to vaccination records import page.\n        2. Upload a vaccination file with invalid data.\n        Verification:\n        - Output lists errors as expected for each record\n        Scenarios covered:\n    \n        HPV_InvalidODSCode, HPV_EmptyOrgCode, HPV_EmptySchoolURN, HPV_NotKnownSchoolEmpty,\n        HPV_LongNHSNumber, HPV_ShortNHSNumber, HPV_EmptyForename, HPV_EmptyLastname,\n        HPV_EmptyDOB, HPV_InvalidFormatDOB, HPV_FutureDOB, HPV_NonLeapYearDOB,\n        HPV_EmptyGender, HPV_InvalidGender, HPV_EmptyPostCode, HPV_InvalidPostCode,\n        HPV_EmptyVaccDate, HPV_FutureVaccDate, HPV_EmptyVaccGiven, HPV_EmptyBatchNumber,\n        HPV_EmptyExpiryDate, HPV_EmptyAnatomicalSite, HPV_InvalidAnatomicalSite,\n        HPV_EmptyDoseSeq, HPV_InvalidDoseSeq, HPV_EmptyCareSetting, HPV_InvalidProfFName,\n        HPV_InvalidProfSName, HPV_InvalidProfEmail, HPV_InvalidClinic, HPV_InvalidTime,\n        HPV_InvalidReason, HPV_InvalidVaccinatedFlag, HPV_InvalidCareSetting,\n        HPV_TimeInFuture, HPV_VaccinatedFlagEmpty, TDIPV_EmptyDoseSeq, TDIPV_InvalidDoseSeq,\n        MenACWY_EmptyDoseSeq, MenACWY_InvalidDoseSeq, MenACWY_LongBatchNumber, MMR_DoseSeq3\n        \"\"\"\n>       import_records_page.upload_and_verify_output(\n            file_mapping=VaccsFileMapping.NEGATIVE,\n            session_id=setup_vaccs,\n        )\n\ntests/test_import_vaccinations.py:152: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/import_records.py:141: in upload_and_verify_output\n    self.verify_upload_output(file_path=_output_file_path)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mavis.test.pages.import_records.ImportRecordsPage object at 0x7fb9be586ad0>\nfile_path = PosixPath('vaccs/o_negative.txt')\n\n    def verify_upload_output(self, file_path: Path) -> None:\n        _expected_errors = self.test_data.get_expected_errors(file_path)\n        if _expected_errors is not None:\n            for _msg in _expected_errors:\n                if _msg.startswith(\"!\"):\n                    expect(self.page.get_by_role(\"main\")).not_to_contain_text(_msg[1:])\n                else:\n>                   expect(self.page.get_by_role(\"main\")).to_contain_text(_msg)\nE                   AssertionError: Locator expected to contain text 'Row 19 DATE_OF_VACCINATION: The vaccination date is in the future. DATE_OF_VACCINATION: Enter a date that matches when the vaccination session took place.'\nE                   Actual value: \nE                           \nE                   \nE                             \nE                       \nE                         \nE                   \nE                         \nE                   Import (31 October 2025 at 8:58am)\nE                   \nE                   \nE                     Invalid\nE                   \nE                   \nE                   \nE                       \nE                         \nE                           Details\nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                     Imported on31 October 2025 at 8:58amImported byNURSE, NurseUploaded fileVaccsFileMapping.NEGATIVE20251031085839.csvTypeImmunisation list\nE                         \nE                       \nE                   \nE                             \nE                         \nE                                   Records could not be imported\nE                   \nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                         \nE                       \nE                         The records cannot be uploaded due to errors in the CSV file.\nE                       \nE                   \nE                       How to format your Mavis CSV file for vaccination records\nE                     Make sure the CSV you upload uses the following columns:\nE                   \nE                     Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\nE                   \nE                   \nE                   \nE                           \nE                               \nE                                   Row 2\nE                               \nE                   \nE                               \nE                                     ORGANISATION_CODE: Enter an organisation code that matches the current team.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 3\nE                               \nE                   \nE                               \nE                                     ORGANISATION_CODE: Enter an organisation code.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 4\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 5\nE                               \nE                   \nE                               \nE                                     SCHOOL_NAME or School is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 6\nE                               \nE                   \nE                               \nE                                     NHS_NUMBER: should be a valid NHS number with 10 characters\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 7\nE                               \nE                   \nE                               \nE                                     NHS_NUMBER: should be a valid NHS number with 10 characters\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 8\nE                               \nE                   \nE                               \nE                                     PERSON_FORENAME or First name is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 9\nE                               \nE                   \nE                               \nE                                     PERSON_SURNAME or Surname is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 10\nE                               \nE                   \nE                               \nE                                     PERSON_DOB or Date of birth is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 11\nE                               \nE                   \nE                               \nE                                     PERSON_DOB: Enter a date of birth in the correct format.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 12\nE                               \nE                   \nE                               \nE                                     DATE_OF_VACCINATION: The vaccination date is before the date of birth.\nE                                     PERSON_DOB: Enter a date of birth in the past.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 13\nE                               \nE                   \nE                               \nE                                     PERSON_DOB: Enter a date of birth in the correct format.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 14\nE                               \nE                   \nE                               \nE                                     PERSON_GENDER_CODE, PERSON_GENDER or Sex is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 15\nE                               \nE                   \nE                               \nE                                     PERSON_GENDER_CODE: Enter a valid gender or gender code.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 16\nE                               \nE                   \nE                               \nE                                     PERSON_POSTCODE or Postcode is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 17\nE                               \nE                   \nE                               \nE                                     PERSON_POSTCODE: Enter a valid postcode, such as SW1A 1AA.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 18\nE                               \nE                   \nE                               \nE                                     DATE_OF_VACCINATION or Event date is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 19\nE                               \nE                   \nE                               \nE                                     DATE_OF_VACCINATION: The vaccination date is in the future.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 20\nE                               \nE                   \nE                               \nE                                     PROGRAMME or Vaccination type is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                                     VACCINE_GIVEN: is required\nE                               \nE                               \nE                                   Row 21\nE                               \nE                   \nE                               \nE                                     BATCH_NUMBER or Vaccination batch number is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 22\nE                               \nE                   \nE                               \nE                                     BATCH_EXPIRY_DATE: Enter a batch expiry date.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 23\nE                               \nE                   \nE                               \nE                                     ANATOMICAL_SITE: Enter an anatomical site.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 24\nE                               \nE                   \nE                               \nE                                     ANATOMICAL_SITE: Enter a anatomical site that is appropriate for the vaccine.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 25\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE or Vaccination type is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 26\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: must be less than or equal to 3\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 27\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 28\nE                               \nE                   \nE                               \nE                                     PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 29\nE                               \nE                   \nE                               \nE                                     PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 30\nE                               \nE                   \nE                               \nE                                     PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 31\nE                               \nE                   \nE                               \nE                                     CLINIC_NAME: is not recognised\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 32\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                                     TIME_OF_VACCINATION: Enter a time in the correct format.\nE                               \nE                               \nE                                   Row 33\nE                               \nE                   \nE                               \nE                                     REASON_NOT_VACCINATED: must be blank\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 34\nE                               \nE                   \nE                               \nE                                     VACCINATED: You need to record whether the child was vaccinated or not. Enter ‘Y’ or ‘N’ in the ‘vaccinated’ column.\nE                                     BATCH_EXPIRY_DATE: must be blank\nE                                     BATCH_NUMBER: must be blank\nE                                     ANATOMICAL_SITE: must be blank\nE                                     REASON_NOT_VACCINATED: Enter a valid reason\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 35\nE                               \nE                   \nE                               \nE                                     CARE_SETTING: Enter a valid care setting.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 36\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                                     TIME_OF_VACCINATION: Enter a time in the past.\nE                               \nE                               \nE                                   Row 37\nE                               \nE                   \nE                               \nE                                     REASON_NOT_VACCINATED: must be blank\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 38\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 39\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 40\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 41\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 42\nE                               \nE                   \nE                               \nE                                     BATCH_NUMBER: must be at most 100 characters long\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 43\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: must be less than or equal to 2\nE                               \nE                           \nE                   \nE                         \nE                       \nE                   \nE                   \nE                   \nE                       \nE                     \nE                   \nE                          \nE                   Call log:\nE                     - Expect \"to_contain_text\" with timeout 5000ms\nE                     - waiting for get_by_role(\"main\")\nE                       9 × locator resolved to <main role=\"main\" id=\"main-content\" class=\"nhsuk-main-wrapper\">…</main>\nE                         - unexpected value \"\nE                           \nE                   \nE                             \nE                       \nE                         \nE                   \nE                         \nE                   Import (31 October 2025 at 8:58am)\nE                   \nE                   \nE                     Invalid\nE                   \nE                   \nE                   \nE                       \nE                         \nE                           Details\nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                     Imported on31 October 2025 at 8:58amImported byNURSE, NurseUploaded fileVaccsFileMapping.NEGATIVE20251031085839.csvTypeImmunisation list\nE                         \nE                       \nE                   \nE                             \nE                         \nE                                   Records could not be imported\nE                   \nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                         \nE                       \nE                         The records cannot be uploaded due to errors in the CSV file.\nE                       \nE                   \nE                       How to format your Mavis CSV file for vaccination records\nE                     Make sure the CSV you upload uses the following columns:\nE                   \nE                     Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\nE                   \nE                   \nE                   \nE                           \nE                               \nE                                   Row 2\nE                               \nE                   \nE                               \nE                                     ORGANISATION_CODE: Enter an organisation code that matches the current team.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 3\nE                               \nE                   \nE                               \nE                                     ORGANISATION_CODE: Enter an organisation code.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 4\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 5\nE                               \nE                   \nE                               \nE                                     SCHOOL_NAME or School is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 6\nE                               \nE                   \nE                               \nE                                     NHS_NUMBER: should be a valid NHS number with 10 characters\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 7\nE                               \nE                   \nE                               \nE                                     NHS_NUMBER: should be a valid NHS number with 10 characters\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 8\nE                               \nE                   \nE                               \nE                                     PERSON_FORENAME or First name is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 9\nE                               \nE                   \nE                               \nE                                     PERSON_SURNAME or Surname is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 10\nE                               \nE                   \nE                               \nE                                     PERSON_DOB or Date of birth is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 11\nE                               \nE                   \nE                               \nE                                     PERSON_DOB: Enter a date of birth in the correct format.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 12\nE                               \nE                   \nE                               \nE                                     DATE_OF_VACCINATION: The vaccination date is before the date of birth.\nE                                     PERSON_DOB: Enter a date of birth in the past.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 13\nE                               \nE                   \nE                               \nE                                     PERSON_DOB: Enter a date of birth in the correct format.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 14\nE                               \nE                   \nE                               \nE                                     PERSON_GENDER_CODE, PERSON_GENDER or Sex is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 15\nE                               \nE                   \nE                               \nE                                     PERSON_GENDER_CODE: Enter a valid gender or gender code.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 16\nE                               \nE                   \nE                               \nE                                     PERSON_POSTCODE or Postcode is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 17\nE                               \nE                   \nE                               \nE                                     PERSON_POSTCODE: Enter a valid postcode, such as SW1A 1AA.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 18\nE                               \nE                   \nE                               \nE                                     DATE_OF_VACCINATION or Event date is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 19\nE                               \nE                   \nE                               \nE                                     DATE_OF_VACCINATION: The vaccination date is in the future.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 20\nE                               \nE                   \nE                               \nE                                     PROGRAMME or Vaccination type is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                                     VACCINE_GIVEN: is required\nE                               \nE                               \nE                                   Row 21\nE                               \nE                   \nE                               \nE                                     BATCH_NUMBER or Vaccination batch number is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 22\nE                               \nE                   \nE                               \nE                                     BATCH_EXPIRY_DATE: Enter a batch expiry date.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 23\nE                               \nE                   \nE                               \nE                                     ANATOMICAL_SITE: Enter an anatomical site.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 24\nE                               \nE                   \nE                               \nE                                     ANATOMICAL_SITE: Enter a anatomical site that is appropriate for the vaccine.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 25\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE or Vaccination type is required\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 26\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: must be less than or equal to 3\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 27\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 28\nE                               \nE                   \nE                               \nE                                     PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 29\nE                               \nE                   \nE                               \nE                                     PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 30\nE                               \nE                   \nE                               \nE                                     PERFORMING_PROFESSIONAL_EMAIL: Enter a valid email address.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 31\nE                               \nE                   \nE                               \nE                                     CLINIC_NAME: is not recognised\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 32\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                                     TIME_OF_VACCINATION: Enter a time in the correct format.\nE                               \nE                               \nE                                   Row 33\nE                               \nE                   \nE                               \nE                                     REASON_NOT_VACCINATED: must be blank\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 34\nE                               \nE                   \nE                               \nE                                     VACCINATED: You need to record whether the child was vaccinated or not. Enter ‘Y’ or ‘N’ in the ‘vaccinated’ column.\nE                                     BATCH_EXPIRY_DATE: must be blank\nE                                     BATCH_NUMBER: must be blank\nE                                     ANATOMICAL_SITE: must be blank\nE                                     REASON_NOT_VACCINATED: Enter a valid reason\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 35\nE                               \nE                   \nE                               \nE                                     CARE_SETTING: Enter a valid care setting.\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 36\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                                     TIME_OF_VACCINATION: Enter a time in the past.\nE                               \nE                               \nE                                   Row 37\nE                               \nE                   \nE                               \nE                                     REASON_NOT_VACCINATED: must be blank\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 38\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 39\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 40\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 41\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: Do not provide a dose sequence for this programme (leave blank).\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 42\nE                               \nE                   \nE                               \nE                                     BATCH_NUMBER: must be at most 100 characters long\nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 43\nE                               \nE                   \nE                               \nE                                     DOSE_SEQUENCE: must be less than or equal to 2\nE                               \nE                           \nE                   \nE                         \nE                       \nE                   \nE                   \nE                   \nE                       \nE                     \nE                   \nE                         \"\n\nmavis/test/pages/import_records.py:171: AssertionError","steps":[{"name":"Set input file to PosixPath('working/VaccsFileMapping.NEGATIVE20251031085839.csv')","time":{"start":1761901119390,"stop":1761901119410,"duration":20},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1761901119390,"stop":1761901119410,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/VaccsFileMapping.NEGATIVE20251031085839.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901120410,"stop":1761901120792,"duration":382},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901120410,"stop":1761901120792,"duration":382},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"'HPV_InvalidODSCode, HPV_EmptyOrgCode, HPV_EmptySchoolURN, HPV_NotKnownSchoolEmpty, HPV_LongNHSNumber, HPV_ShortNHSNumber, HPV_EmptyForename, HPV_EmptyLastname, HPV_EmptyDOB, HPV_InvalidFormatDOB, HPV_FutureDOB, HPV_NonLeapYearDOB, HPV_EmptyGender, HPV_InvalidGender, HPV_EmptyPostCode, HPV_InvalidPostCode, HPV_EmptyVaccDate, HPV_FutureVaccDate, HPV_EmptyVaccGiven, HPV_EmptyBatchNumber, HPV_EmptyExpiryDate, HPV_EmptyAnatomicalSite, HPV_InvalidAnatomicalSite, HPV_EmptyDoseSeq, HPV_InvalidDoseSeq, HPV_EmptyCareSetting, HPV_InvalidProfFName, HPV_InvalidProfSName, HPV_InvalidProfEmail, HPV_InvalidClinic, HPV_InvalidTime, HPV_InvalidReason, HPV_InvalidVaccinatedFlag, HPV_InvalidCareSetting, HPV_TimeInFuture, HPV_VaccinatedFlagEmpty, TDIPV_EmptyDoseSeq, TDIPV_InvalidDoseSeq, MenACWY_EmptyDoseSeq, MenACWY_InvalidDoseSeq, MenACWY_LongBatchNumber, MMR_DoseSeq3'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1761901120825,"stop":1761901121117,"duration":292},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1761901120825,"stop":1761901121117,"duration":292},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_vaccs::0","time":{"start":1761901127820,"stop":1761901128838,"duration":1018},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761901127820,"stop":1761901127995,"duration":175},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761901127820,"stop":1761901127995,"duration":175},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761901127996,"stop":1761901128206,"duration":210},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761901127996,"stop":1761901128206,"duration":210},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761901128206,"stop":1761901128452,"duration":246},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761901128206,"stop":1761901128452,"duration":246},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"log_in_as_nurse::0","time":{"start":1761901128840,"stop":1761901129280,"duration":440},"status":"passed","steps":[{"name":"Log out","time":{"start":1761901128840,"stop":1761901129280,"duration":440},"status":"passed","steps":[{"name":"Log out","time":{"start":1761901128840,"stop":1761901129280,"duration":440},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1761901129281,"stop":1761901129281,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1761901129282,"stop":1761901129291,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1761901129291,"stop":1761901129291,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1761901781439,"stop":1761901781439,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1761901781439,"stop":1761901781463,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1761901781464,"stop":1761901781472,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1761901781475,"stop":1761901784703,"duration":3228},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"vaccinations"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_import_vaccinations"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3168-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_import_vaccinations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["vaccinations"]},"source":"e7443ffb7819eca5.json","parameterValues":[]}