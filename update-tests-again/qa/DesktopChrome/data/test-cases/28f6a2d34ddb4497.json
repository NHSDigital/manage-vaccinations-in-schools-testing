{"uid":"28f6a2d34ddb4497","name":"test_vaccination_file_upload_duplicate_records","fullName":"tests.test_import_vaccinations#test_vaccination_file_upload_duplicate_records","historyId":"9220757e96ac8bd7214b6a2ec24dfd1e","time":{"start":1761901215770,"stop":1761901222655,"duration":6885},"description":"\nTest: Upload duplicate vaccination records and verify duplicate handling.\nSteps:\n1. Upload a vaccination file with duplicate records.\n2. Upload a second file with more duplicates.\nVerification:\n- Output indicates duplicates are detected and handled.\nScenarios covered:\n1. Duplicate records within the same file, and\n2. Duplicate records across 2 different files\n","descriptionHtml":"<p>Test: Upload duplicate vaccination records and verify duplicate handling.<br />\nSteps:</p>\n<ol>\n<li>Upload a vaccination file with duplicate records.</li>\n<li>Upload a second file with more duplicates.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>Output indicates duplicates are detected and handled.<br />\nScenarios covered:</li>\n</ul>\n<ol>\n<li>Duplicate records within the same file, and</li>\n<li>Duplicate records across 2 different files</li>\n</ol>\n","status":"failed","statusMessage":"AssertionError: Locator expected to contain text 'Duplicates not imported None'\nActual value: \n        \n\n          \n    \n      \n\n      \nImport (31 October 2025 at 9:00am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on31 October 2025 at 9:00amImported byNURSE, NurseUploaded fileVaccsFileMapping.DUP_120251031090015.csvTypeImmunisation list\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for vaccination records\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 3\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n       \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"main\")\n    9 × locator resolved to <main role=\"main\" id=\"main-content\" class=\"nhsuk-main-wrapper\">…</main>\n      - unexpected value \"\n        \n\n          \n    \n      \n\n      \nImport (31 October 2025 at 9:00am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on31 October 2025 at 9:00amImported byNURSE, NurseUploaded fileVaccsFileMapping.DUP_120251031090015.csvTypeImmunisation list\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for vaccination records\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 3\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n      \"","statusTrace":"setup_vaccs = nan\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7fb9bd1096a0>\nimport_records_page = <mavis.test.pages.import_records.ImportRecordsPage object at 0x7fb9bd1099d0>\n\n    @pytest.mark.vaccinations\n    def test_vaccination_file_upload_duplicate_records(\n        setup_vaccs,\n        dashboard_page,\n        import_records_page,\n    ):\n        \"\"\"\n        Test: Upload duplicate vaccination records and verify duplicate handling.\n        Steps:\n        1. Upload a vaccination file with duplicate records.\n        2. Upload a second file with more duplicates.\n        Verification:\n        - Output indicates duplicates are detected and handled.\n        Scenarios covered:\n        1. Duplicate records within the same file, and\n        2. Duplicate records across 2 different files\n        \"\"\"\n>       import_records_page.upload_and_verify_output(\n            VaccsFileMapping.DUP_1,\n            session_id=setup_vaccs,\n        )\n\ntests/test_import_vaccinations.py:175: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/import_records.py:141: in upload_and_verify_output\n    self.verify_upload_output(file_path=_output_file_path)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mavis.test.pages.import_records.ImportRecordsPage object at 0x7fb9bd1099d0>\nfile_path = PosixPath('vaccs/o_dup_1.txt')\n\n    def verify_upload_output(self, file_path: Path) -> None:\n        _expected_errors = self.test_data.get_expected_errors(file_path)\n        if _expected_errors is not None:\n            for _msg in _expected_errors:\n                if _msg.startswith(\"!\"):\n                    expect(self.page.get_by_role(\"main\")).not_to_contain_text(_msg[1:])\n                else:\n>                   expect(self.page.get_by_role(\"main\")).to_contain_text(_msg)\nE                   AssertionError: Locator expected to contain text 'Duplicates not imported None'\nE                   Actual value: \nE                           \nE                   \nE                             \nE                       \nE                         \nE                   \nE                         \nE                   Import (31 October 2025 at 9:00am)\nE                   \nE                   \nE                     Invalid\nE                   \nE                   \nE                   \nE                       \nE                         \nE                           Details\nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                     Imported on31 October 2025 at 9:00amImported byNURSE, NurseUploaded fileVaccsFileMapping.DUP_120251031090015.csvTypeImmunisation list\nE                         \nE                       \nE                   \nE                             \nE                         \nE                                   Records could not be imported\nE                   \nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                         \nE                       \nE                         The records cannot be uploaded due to errors in the CSV file.\nE                       \nE                   \nE                       How to format your Mavis CSV file for vaccination records\nE                     Make sure the CSV you upload uses the following columns:\nE                   \nE                     Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\nE                   \nE                   \nE                   \nE                           \nE                               \nE                                   Row 2\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 3\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                           \nE                   \nE                         \nE                       \nE                   \nE                   \nE                   \nE                       \nE                     \nE                   \nE                          \nE                   Call log:\nE                     - Expect \"to_contain_text\" with timeout 5000ms\nE                     - waiting for get_by_role(\"main\")\nE                       9 × locator resolved to <main role=\"main\" id=\"main-content\" class=\"nhsuk-main-wrapper\">…</main>\nE                         - unexpected value \"\nE                           \nE                   \nE                             \nE                       \nE                         \nE                   \nE                         \nE                   Import (31 October 2025 at 9:00am)\nE                   \nE                   \nE                     Invalid\nE                   \nE                   \nE                   \nE                       \nE                         \nE                           Details\nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                     Imported on31 October 2025 at 9:00amImported byNURSE, NurseUploaded fileVaccsFileMapping.DUP_120251031090015.csvTypeImmunisation list\nE                         \nE                       \nE                   \nE                             \nE                         \nE                                   Records could not be imported\nE                   \nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                         \nE                       \nE                         The records cannot be uploaded due to errors in the CSV file.\nE                       \nE                   \nE                       How to format your Mavis CSV file for vaccination records\nE                     Make sure the CSV you upload uses the following columns:\nE                   \nE                     Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\nE                   \nE                   \nE                   \nE                           \nE                               \nE                                   Row 2\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 3\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                           \nE                   \nE                         \nE                       \nE                   \nE                   \nE                   \nE                       \nE                     \nE                   \nE                         \"\n\nmavis/test/pages/import_records.py:171: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1761901055313,"stop":1761901055314,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1761901055313,"stop":1761901055313,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761901055313,"stop":1761901055313,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761901055314,"stop":1761901055314,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1761901055314,"stop":1761901055315,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761901055314,"stop":1761901055314,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1761901055315,"stop":1761901055315,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1761901055315,"stop":1761901079388,"duration":24073},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1761901079388,"stop":1761901079701,"duration":313},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1761901079388,"stop":1761901079388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1761901079702,"stop":1761901079702,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1761901079702,"stop":1761901079702,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1761901079702,"stop":1761901079702,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1761901079702,"stop":1761901079803,"duration":101},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1761901079702,"stop":1761901079702,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1761901079803,"stop":1761901079804,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761901079804,"stop":1761901079805,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1761901079805,"stop":1761901079805,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1761901079805,"stop":1761901079805,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761901079805,"stop":1761901079805,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1761901079805,"stop":1761901084358,"duration":4553},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1761901204807,"stop":1761901204807,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1761901204807,"stop":1761901204814,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1761901204807,"stop":1761901204807,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1761901204807,"stop":1761901204807,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1761901204814,"stop":1761901204846,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1761901204846,"stop":1761901204846,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1761901204846,"stop":1761901204846,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1761901204846,"stop":1761901204846,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1761901204847,"stop":1761901206654,"duration":1807},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761901204847,"stop":1761901205861,"duration":1014},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761901204847,"stop":1761901205861,"duration":1014},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='wendy46@example.net', password='wendy46@example.net', role='nurse') and choose team Team(name='Butler-King est. 1863', workgroup='P623Q', careplus_venue_code='P623Q', email='carl15@example.net', phone='+44(0)7700 900 349')","time":{"start":1761901205861,"stop":1761901206654,"duration":793},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1761901205861,"stop":1761901206654,"duration":793},"status":"passed","steps":[{"name":"Log in as User(username='wendy46@example.net', password='wendy46@example.net', role='nurse')","time":{"start":1761901205861,"stop":1761901206623,"duration":762},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1761901205861,"stop":1761901206623,"duration":762},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='wendy46@example.net', password='wendy46@example.net', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='wendy46@example.net', password='wendy46@example.net', role='nurse'), Team(name='Butler-King est. 1863', workgroup='P623Q', careplus_venue_code='P623Q', email='carl15@example.net', phone='+44(0)7700 900 349'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1761901206654,"stop":1761901206654,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1761901206654,"stop":1761901206659,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1761901206659,"stop":1761901206660,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sessions_page","time":{"start":1761901206660,"stop":1761901206660,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_vaccs","time":{"start":1761901206660,"stop":1761901215769,"duration":9109},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761901206660,"stop":1761901206965,"duration":305},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761901206661,"stop":1761901206965,"duration":304},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='The Imam Muhammad Adam Institute School', urn='137561', site=None)","time":{"start":1761901206965,"stop":1761901207719,"duration":754},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761901206965,"stop":1761901207718,"duration":753},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='The Imam Muhammad Adam Institute School', urn='137561', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import class lists","time":{"start":1761901207723,"stop":1761901208110,"duration":387},"status":"passed","steps":[{"name":"Click on Import class lists","time":{"start":1761901207723,"stop":1761901208110,"duration":387},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901208169,"stop":1761901208721,"duration":552},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901208169,"stop":1761901208721,"duration":552},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.RANDOM_CHILD20251031090008.csv')","time":{"start":1761901208732,"stop":1761901208752,"duration":20},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1761901208732,"stop":1761901208752,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.RANDOM_CHILD20251031090008.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901209752,"stop":1761901210153,"duration":401},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901209752,"stop":1761901210153,"duration":401},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1761901210188,"stop":1761901210419,"duration":231},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1761901210188,"stop":1761901210419,"duration":231},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761901211758,"stop":1761901211954,"duration":196},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761901211758,"stop":1761901211954,"duration":196},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761901211954,"stop":1761901212175,"duration":221},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761901211954,"stop":1761901212175,"duration":221},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'HPV' session at School(name='The Imam Muhammad Adam Institute School', urn='137561', site=None)","time":{"start":1761901212176,"stop":1761901213738,"duration":1562},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761901212176,"stop":1761901213738,"duration":1562},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='The Imam Muhammad Adam Institute School', urn='137561', site=None), <Programme.HPV: 'HPV'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record offline","time":{"start":1761901213738,"stop":1761901214110,"duration":372},"status":"passed","steps":[{"name":"Click on Record offline","time":{"start":1761901213738,"stop":1761901214110,"duration":372},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761901214159,"stop":1761901214350,"duration":191},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761901214159,"stop":1761901214350,"duration":191},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import Records","time":{"start":1761901214351,"stop":1761901214632,"duration":281},"status":"passed","steps":[{"name":"Click on Import Records","time":{"start":1761901214351,"stop":1761901214632,"duration":281},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import Records","time":{"start":1761901214632,"stop":1761901215162,"duration":530},"status":"passed","steps":[{"name":"Click on Import Records","time":{"start":1761901214632,"stop":1761901215162,"duration":530},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select Vaccination Records","time":{"start":1761901215162,"stop":1761901215216,"duration":54},"status":"passed","steps":[{"name":"Select Vaccination Records","time":{"start":1761901215162,"stop":1761901215216,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901215216,"stop":1761901215769,"duration":553},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901215216,"stop":1761901215769,"duration":553},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":32,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"import_records_page","time":{"start":1761901206660,"stop":1761901206660,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: Upload duplicate vaccination records and verify duplicate handling.\nSteps:\n1. Upload a vaccination file with duplicate records.\n2. Upload a second file with more duplicates.\nVerification:\n- Output indicates duplicates are detected and handled.\nScenarios covered:\n1. Duplicate records within the same file, and\n2. Duplicate records across 2 different files\n","status":"failed","statusMessage":"AssertionError: Locator expected to contain text 'Duplicates not imported None'\nActual value: \n        \n\n          \n    \n      \n\n      \nImport (31 October 2025 at 9:00am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on31 October 2025 at 9:00amImported byNURSE, NurseUploaded fileVaccsFileMapping.DUP_120251031090015.csvTypeImmunisation list\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for vaccination records\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 3\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n       \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"main\")\n    9 × locator resolved to <main role=\"main\" id=\"main-content\" class=\"nhsuk-main-wrapper\">…</main>\n      - unexpected value \"\n        \n\n          \n    \n      \n\n      \nImport (31 October 2025 at 9:00am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on31 October 2025 at 9:00amImported byNURSE, NurseUploaded fileVaccsFileMapping.DUP_120251031090015.csvTypeImmunisation list\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for vaccination records\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 3\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n      \"","statusTrace":"setup_vaccs = nan\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7fb9bd1096a0>\nimport_records_page = <mavis.test.pages.import_records.ImportRecordsPage object at 0x7fb9bd1099d0>\n\n    @pytest.mark.vaccinations\n    def test_vaccination_file_upload_duplicate_records(\n        setup_vaccs,\n        dashboard_page,\n        import_records_page,\n    ):\n        \"\"\"\n        Test: Upload duplicate vaccination records and verify duplicate handling.\n        Steps:\n        1. Upload a vaccination file with duplicate records.\n        2. Upload a second file with more duplicates.\n        Verification:\n        - Output indicates duplicates are detected and handled.\n        Scenarios covered:\n        1. Duplicate records within the same file, and\n        2. Duplicate records across 2 different files\n        \"\"\"\n>       import_records_page.upload_and_verify_output(\n            VaccsFileMapping.DUP_1,\n            session_id=setup_vaccs,\n        )\n\ntests/test_import_vaccinations.py:175: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/pages/import_records.py:141: in upload_and_verify_output\n    self.verify_upload_output(file_path=_output_file_path)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mavis.test.pages.import_records.ImportRecordsPage object at 0x7fb9bd1099d0>\nfile_path = PosixPath('vaccs/o_dup_1.txt')\n\n    def verify_upload_output(self, file_path: Path) -> None:\n        _expected_errors = self.test_data.get_expected_errors(file_path)\n        if _expected_errors is not None:\n            for _msg in _expected_errors:\n                if _msg.startswith(\"!\"):\n                    expect(self.page.get_by_role(\"main\")).not_to_contain_text(_msg[1:])\n                else:\n>                   expect(self.page.get_by_role(\"main\")).to_contain_text(_msg)\nE                   AssertionError: Locator expected to contain text 'Duplicates not imported None'\nE                   Actual value: \nE                           \nE                   \nE                             \nE                       \nE                         \nE                   \nE                         \nE                   Import (31 October 2025 at 9:00am)\nE                   \nE                   \nE                     Invalid\nE                   \nE                   \nE                   \nE                       \nE                         \nE                           Details\nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                     Imported on31 October 2025 at 9:00amImported byNURSE, NurseUploaded fileVaccsFileMapping.DUP_120251031090015.csvTypeImmunisation list\nE                         \nE                       \nE                   \nE                             \nE                         \nE                                   Records could not be imported\nE                   \nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                         \nE                       \nE                         The records cannot be uploaded due to errors in the CSV file.\nE                       \nE                   \nE                       How to format your Mavis CSV file for vaccination records\nE                     Make sure the CSV you upload uses the following columns:\nE                   \nE                     Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\nE                   \nE                   \nE                   \nE                           \nE                               \nE                                   Row 2\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 3\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                           \nE                   \nE                         \nE                       \nE                   \nE                   \nE                   \nE                       \nE                     \nE                   \nE                          \nE                   Call log:\nE                     - Expect \"to_contain_text\" with timeout 5000ms\nE                     - waiting for get_by_role(\"main\")\nE                       9 × locator resolved to <main role=\"main\" id=\"main-content\" class=\"nhsuk-main-wrapper\">…</main>\nE                         - unexpected value \"\nE                           \nE                   \nE                             \nE                       \nE                         \nE                   \nE                         \nE                   Import (31 October 2025 at 9:00am)\nE                   \nE                   \nE                     Invalid\nE                   \nE                   \nE                   \nE                       \nE                         \nE                           Details\nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                     Imported on31 October 2025 at 9:00amImported byNURSE, NurseUploaded fileVaccsFileMapping.DUP_120251031090015.csvTypeImmunisation list\nE                         \nE                       \nE                   \nE                             \nE                         \nE                                   Records could not be imported\nE                   \nE                   \nE                   \nE                   \nE                   \nE                           \nE                   \nE                         \nE                       \nE                         The records cannot be uploaded due to errors in the CSV file.\nE                       \nE                   \nE                       How to format your Mavis CSV file for vaccination records\nE                     Make sure the CSV you upload uses the following columns:\nE                   \nE                     Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\nE                   \nE                   \nE                   \nE                           \nE                               \nE                                   Row 2\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                               \nE                                   Row 3\nE                               \nE                   \nE                               \nE                                     SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\nE                               \nE                           \nE                   \nE                         \nE                       \nE                   \nE                   \nE                   \nE                       \nE                     \nE                   \nE                         \"\n\nmavis/test/pages/import_records.py:171: AssertionError","steps":[{"name":"Set input file to PosixPath('working/VaccsFileMapping.DUP_120251031090015.csv')","time":{"start":1761901215784,"stop":1761901215808,"duration":24},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1761901215784,"stop":1761901215808,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/VaccsFileMapping.DUP_120251031090015.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901216808,"stop":1761901217253,"duration":445},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901216808,"stop":1761901217253,"duration":445},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"'P_Gardasil9, P_Gardasil9'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1761901217291,"stop":1761901217621,"duration":330},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1761901217291,"stop":1761901217621,"duration":330},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_vaccs::0","time":{"start":1761901222662,"stop":1761901224325,"duration":1663},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761901222662,"stop":1761901223375,"duration":713},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761901222662,"stop":1761901223375,"duration":713},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761901223375,"stop":1761901223613,"duration":238},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761901223375,"stop":1761901223613,"duration":238},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761901223613,"stop":1761901223889,"duration":276},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761901223613,"stop":1761901223889,"duration":276},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"log_in_as_nurse::0","time":{"start":1761901224327,"stop":1761901224789,"duration":462},"status":"passed","steps":[{"name":"Log out","time":{"start":1761901224327,"stop":1761901224789,"duration":462},"status":"passed","steps":[{"name":"Log out","time":{"start":1761901224327,"stop":1761901224789,"duration":462},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1761901224790,"stop":1761901224790,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1761901224791,"stop":1761901224800,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1761901224801,"stop":1761901224801,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1761901781439,"stop":1761901781439,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1761901781439,"stop":1761901781463,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1761901781464,"stop":1761901781472,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1761901781475,"stop":1761901784703,"duration":3228},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"vaccinations"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_import_vaccinations"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3168-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_import_vaccinations"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"7fcc859f2938d37a","status":"failed","statusDetails":"AssertionError: Locator expected to contain text 'Duplicates not imported None'\nActual value: \n        \n\n          \n    \n      \n\n      \nImport (31 October 2025 at 8:59am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on31 October 2025 at 8:59amImported byNURSE, NurseUploaded fileVaccsFileMapping.DUP_120251031085956.csvTypeImmunisation list\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for vaccination records\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 3\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n       \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"main\")\n    9 × locator resolved to <main role=\"main\" id=\"main-content\" class=\"nhsuk-main-wrapper\">…</main>\n      - unexpected value \"\n        \n\n          \n    \n      \n\n      \nImport (31 October 2025 at 8:59am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on31 October 2025 at 8:59amImported byNURSE, NurseUploaded fileVaccsFileMapping.DUP_120251031085956.csvTypeImmunisation list\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for vaccination records\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 3\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n      \"","time":{"start":1761901196309,"stop":1761901203091,"duration":6782}},{"uid":"df62523986400d88","status":"failed","statusDetails":"AssertionError: Locator expected to contain text 'Duplicates not imported None'\nActual value: \n        \n\n          \n    \n      \n\n      \nImport (31 October 2025 at 8:59am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on31 October 2025 at 8:59amImported byNURSE, NurseUploaded fileVaccsFileMapping.DUP_120251031085937.csvTypeImmunisation list\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for vaccination records\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 3\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n       \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"main\")\n    9 × locator resolved to <main role=\"main\" id=\"main-content\" class=\"nhsuk-main-wrapper\">…</main>\n      - unexpected value \"\n        \n\n          \n    \n      \n\n      \nImport (31 October 2025 at 8:59am)\n\n\n  Invalid\n\n\n\n    \n      \n        Details\n\n\n\n\n        \n\n  Imported on31 October 2025 at 8:59amImported byNURSE, NurseUploaded fileVaccsFileMapping.DUP_120251031085937.csvTypeImmunisation list\n      \n    \n\n          \n      \n                Records could not be imported\n\n\n\n\n\n        \n\n      \n    \n      The records cannot be uploaded due to errors in the CSV file.\n    \n\n    How to format your Mavis CSV file for vaccination records\n  Make sure the CSV you upload uses the following columns:\n\n  Column nameNotesORGANISATION_CODEOptional, must be a valid ODS code.SCHOOL_URNOptional, must be 6 digits and numeric. Use 888888 for school unknown and 999999 for homeschooled.SCHOOL_NAMERequired if SCHOOL_URN is 888888.NHS_NUMBEROptional, must be 10 digits and numeric.PERSON_FORENAMERequiredPERSON_SURNAMERequiredPERSON_DOBRequired, must use either YYYYMMDD or DD/MM/YYYY format.PERSON_GENDER_CODERequired, must be Not known, Male, Female, Not specified.PERSON_POSTCODERequired, must be formatted as a valid postcode.DATE_OF_VACCINATIONRequired, must use either YYYYMMDD or DD/MM/YYYY format.TIME_OF_VACCINATIONOptional, must use HH:MM:SS format.VACCINATEDRequired, must be Y or N. Can be omitted if VACCINE_GIVEN is provided.VACCINE_GIVENOptional, must be Viatris, Sequirus Cell-based Trivalent, AstraZeneca Fluenz, Sanofi Vaxigrip, Cervarix, Gardasil9, Gardasil, Nimenrix, MenQuadfi, Menveo, VaxPro, Priorix, or Revaxis.BATCH_NUMBERRequired if BATCH_EXPIRY_DATE is provided.BATCH_EXPIRY_DATERequired if BATCH_NUMBER is provided, must use either YYYYMMDD or DD/MM/YYYY format.PROGRAMMERequired, must be Flu, HPV, ACWYX4, MenACWY, MMR, 3-in-1, or Td/IPV.ANATOMICAL_SITEOptional, if provided must be appropriate for the vaccine delivery method and be one of: left arm (lower position), left arm (upper position), left buttock, left thigh, left upper arm, nasal, right arm (lower position), right arm (upper position), right buttock, right thigh or right upper arm.REASON_NOT_VACCINATEDRequired if VACCINATED is N, must be already had elsewhere, did not attend, refused, unwell or vaccination contraindicated.NOTESOptionalDOSE_SEQUENCEOptional, must be a number or 1B, 1P, 1st Scheduled Booster, 2B, 2P, 2nd Scheduled Booster or 3P.CARE_SETTINGOptional, must be 1 (school) or 2 (clinic).CLINIC_NAMERequired if CARE_SETTING is 2, must be the name of a community clinic location.PERFORMING_PROFESSIONAL_EMAILRequired if uploading offline vaccination records.PERFORMING_PROFESSIONAL_FORENAMEOptionalPERFORMING_PROFESSIONAL_SURNAMEOptional\n\n\n\n        \n            \n                Row 2\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n            \n                Row 3\n            \n\n            \n                  SESSION_ID: The session ID is not recognised. Download the offline spreadsheet and copy the session ID for this row from there, or contact our support team.\n            \n        \n\n      \n    \n\n\n\n    \n  \n\n      \"","time":{"start":1761901177992,"stop":1761901184724,"duration":6732}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["vaccinations"]},"source":"28f6a2d34ddb4497.json","parameterValues":[]}