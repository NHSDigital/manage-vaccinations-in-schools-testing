{"uid":"b1f19a6efcb6d868","name":"test_report_view","fullName":"tests.test_reporting_values#test_report_view","historyId":"6bb6b4b22331dc5e0cecdee6058c6a31","time":{"start":1761901822804,"stop":1761901856789,"duration":33985},"description":"\nTest: Verify reporting values update correctly after vaccination and edit.\nSteps:\n1. Record a flu vaccination for a child and verify initial reporting values.\n2. Refresh reports and check that the cohort and vaccination percentages update.\n3. Edit the child's vaccination record to mark the outcome as refused.\n4. Refresh reports and verify that the reporting values reflect the refusal.\nVerification:\n- After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.\n- After marking as refused, report shows 0 more vaccinated and\n  1 more not vaccinated.\n","descriptionHtml":"<p>Test: Verify reporting values update correctly after vaccination and edit.<br />\nSteps:</p>\n<ol>\n<li>Record a flu vaccination for a child and verify initial reporting values.</li>\n<li>Refresh reports and check that the cohort and vaccination percentages update.</li>\n<li>Edit the child's vaccination record to mark the outcome as refused.</li>\n<li>Refresh reports and verify that the reporting values reflect the refusal.<br />\nVerification:</li>\n</ol>\n<ul>\n<li>After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.</li>\n<li>After marking as refused, report shows 0 more vaccinated and<br />\n1 more not vaccinated.</li>\n</ul>\n","status":"failed","statusMessage":"AssertionError: Locator expected to contain text '66.7%'\nActual value: 0.0%0 children \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"heading\", name=\"Not vaccinated\", exact=True).locator(\"xpath=following-sibling::*[1]\")\n    3 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\n      - unexpected value \"100.0%3 children\"\n    6 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\n      - unexpected value \"0.0%0 children\"","statusTrace":"record_injected_flu = (Child(first_name='Marian', last_name='SANDERSON', nhs_number='9796744694', address=('Studio 23X', 'Tina vista', 'Nort...ene@example.net'))), datetime.datetime(2025, 10, 31, 9, 10, 22, 802821, tzinfo=zoneinfo.ZoneInfo(key='Europe/London')))\nschools = {'HPV': [School(name='Kettering Buccleuch Academy', urn='135966', site=None), School(name='Lancaster School', urn='144...School', urn='118085', site=None), School(name='Nord Anglia International School Abu Dhabi', urn='151549', site=None)]}\nreports_vaccinations_page = <mavis.test.pages.reports.ReportsVaccinationsPage object at 0x7f802eed17f0>\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7f8031488260>\nchildren_page = <mavis.test.pages.children.ChildrenPage object at 0x7f802f0d88a0>\nvaccination_record_page = <mavis.test.pages.vaccination_record.VaccinationRecordPage object at 0x7f802f071450>\nedit_vaccination_record_page = <mavis.test.pages.vaccination_record.EditVaccinationRecordPage object at 0x7f802f072d50>\n\n    def test_report_view(\n        record_injected_flu,\n        schools,\n        reports_vaccinations_page,\n        dashboard_page,\n        children_page,\n        vaccination_record_page,\n        edit_vaccination_record_page,\n    ):\n        \"\"\"\n        Test: Verify reporting values update correctly after vaccination and edit.\n        Steps:\n        1. Record a flu vaccination for a child and verify initial reporting values.\n        2. Refresh reports and check that the cohort and vaccination percentages update.\n        3. Edit the child's vaccination record to mark the outcome as refused.\n        4. Refresh reports and verify that the reporting values reflect the refusal.\n        Verification:\n        - After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.\n        - After marking as refused, report shows 0 more vaccinated and\n          1 more not vaccinated.\n        \"\"\"\n    \n        child, _ = record_injected_flu\n        school = schools[Programme.FLU][0]\n    \n        reports_vaccinations_page.navigate()\n        reports_vaccinations_page.check_filter_for_programme(Programme.FLU)\n    \n        vaccinated_count = reports_vaccinations_page.get_children_count(\"Vaccinated\")\n        unvaccinated_count = reports_vaccinations_page.get_children_count(\"Not vaccinated\")\n    \n        (\n            expected_cohort_count,\n            expected_unvaccinated_percentage,\n            expected_vaccinated_percentage,\n        ) = reports_vaccinations_page.get_expected_cohort_and_percentage_strings(\n            unvaccinated_count, vaccinated_count\n        )\n    \n        reports_vaccinations_page.check_cohort_has_n_children(expected_cohort_count)\n        reports_vaccinations_page.check_category_percentage(\n            \"Not vaccinated\", expected_unvaccinated_percentage\n        )\n        reports_vaccinations_page.check_category_percentage(\n            \"Vaccinated\", expected_vaccinated_percentage\n        )\n    \n        reports_vaccinations_page.navigate_and_refresh_reports()\n        reports_vaccinations_page.check_filter_for_programme(Programme.FLU)\n    \n        (\n            expected_cohort_count,\n            expected_unvaccinated_percentage,\n            expected_vaccinated_percentage,\n        ) = reports_vaccinations_page.get_expected_cohort_and_percentage_strings(\n            unvaccinated_count, vaccinated_count + 1\n        )\n    \n        reports_vaccinations_page.check_cohort_has_n_children(expected_cohort_count)\n>       reports_vaccinations_page.check_category_percentage(\n            \"Not vaccinated\", expected_unvaccinated_percentage\n        )\n\ntests/test_reporting_values.py:142: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/annotations.py:35: in wrapper\n    return_value = func(self, *args, **kwargs)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mavis.test.pages.reports.ReportsVaccinationsPage object at 0x7f802eed17f0>\ncategory = 'Not vaccinated', expected_percentage = '66.7'\n\n    @step(\"Check category {1} percentage is {2}%\")\n    def check_category_percentage(\n        self, category: str, expected_percentage: str\n    ) -> None:\n        category_heading = self.page.get_by_role(\"heading\", name=category, exact=True)\n        category_value = category_heading.locator(\"xpath=following-sibling::*[1]\")\n>       expect(category_value).to_contain_text(f\"{expected_percentage}%\")\nE       AssertionError: Locator expected to contain text '66.7%'\nE       Actual value: 0.0%0 children \nE       Call log:\nE         - Expect \"to_contain_text\" with timeout 5000ms\nE         - waiting for get_by_role(\"heading\", name=\"Not vaccinated\", exact=True).locator(\"xpath=following-sibling::*[1]\")\nE           3 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\nE             - unexpected value \"100.0%3 children\"\nE           6 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\nE             - unexpected value \"0.0%0 children\"\n\nmavis/test/pages/reports.py:62: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1761901055313,"stop":1761901055313,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1761901055313,"stop":1761901055315,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1761901055313,"stop":1761901055313,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"onboarding","time":{"start":1761901055315,"stop":1761901069546,"duration":14231},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1761901055315,"stop":1761901055315,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"programmes_enabled","time":{"start":1761901055315,"stop":1761901055315,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"year_groups","time":{"start":1761901055315,"stop":1761901055315,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761901055315,"stop":1761901055315,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"team","time":{"start":1761901069546,"stop":1761901069546,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests","time":{"start":1761901069546,"stop":1761901069546,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"schools","time":{"start":1761901069547,"stop":1761901069547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nurse","time":{"start":1761901069547,"stop":1761901069547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1761901069547,"stop":1761901069846,"duration":299},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1761901069547,"stop":1761901069547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1761901069846,"stop":1761901069846,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1761901069846,"stop":1761901069847,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1761901069847,"stop":1761901069847,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1761901069847,"stop":1761901071603,"duration":1756},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1761901069847,"stop":1761901069847,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1761901071603,"stop":1761901071605,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761901071605,"stop":1761901071606,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1761901071606,"stop":1761901071606,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"organisation","time":{"start":1761901071606,"stop":1761901071606,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_token","time":{"start":1761901071606,"stop":1761901071606,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clinics","time":{"start":1761901071606,"stop":1761901071606,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_auth_credentials","time":{"start":1761901071606,"stop":1761901071606,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_before_each_module","time":{"start":1761901676172,"stop":1761901678548,"duration":2376},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1761901802517,"stop":1761901802517,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1761901802517,"stop":1761901802517,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1761901802517,"stop":1761901802521,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1761901802517,"stop":1761901802517,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1761901802521,"stop":1761901802547,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flipper_page","time":{"start":1761901802547,"stop":1761901802548,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_page","time":{"start":1761901802548,"stop":1761901802548,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_in_as_nurse","time":{"start":1761901802548,"stop":1761901804464,"duration":1916},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761901802548,"stop":1761901803687,"duration":1139},"status":"passed","steps":[{"name":"Go to log in page","time":{"start":1761901802548,"stop":1761901803687,"duration":1139},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Log in as User(username='pauledwards@example.org', password='pauledwards@example.org', role='nurse') and choose team Team(name='Parker, Barnett and Alexander est. 1817', workgroup='L045M', careplus_venue_code='L045M', email='reece85@example.org', phone='(07700)900611')","time":{"start":1761901803687,"stop":1761901804464,"duration":777},"status":"passed","steps":[{"name":"Log in as {1} and choose team {2}","time":{"start":1761901803687,"stop":1761901804464,"duration":777},"status":"passed","steps":[{"name":"Log in as User(username='pauledwards@example.org', password='pauledwards@example.org', role='nurse')","time":{"start":1761901803687,"stop":1761901804437,"duration":750},"status":"passed","steps":[{"name":"Log in as {1}","time":{"start":1761901803687,"stop":1761901804437,"duration":750},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='pauledwards@example.org', password='pauledwards@example.org', role='nurse'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(User(username='pauledwards@example.org', password='pauledwards@example.org', role='nurse'), Team(name='Parker, Barnett and Alexander est. 1817', workgroup='L045M', careplus_venue_code='L045M', email='reece85@example.org', phone='(07700)900611'))"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags","time":{"start":1761901802548,"stop":1761901802548,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dashboard_page","time":{"start":1761901804464,"stop":1761901804464,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_batch_page","time":{"start":1761901804464,"stop":1761901804464,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"children","time":{"start":1761901804464,"stop":1761901804468,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"vaccines_page","time":{"start":1761901804464,"stop":1761901804464,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_vaccine_batch","time":{"start":1761901804464,"stop":1761901804464,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_data","time":{"start":1761901804468,"stop":1761901804468,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"import_records_page","time":{"start":1761901804468,"stop":1761901804469,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_recording_injected_flu","time":{"start":1761901804469,"stop":1761901810747,"duration":6278},"status":"passed","steps":[{"name":"Go to vaccines page","time":{"start":1761901804469,"stop":1761901804647,"duration":178},"status":"passed","steps":[{"name":"Go to vaccines page","time":{"start":1761901804469,"stop":1761901804647,"duration":178},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Add batch for 'Cell-based Trivalent Influenza Vaccine Seqirus'","time":{"start":1761901804647,"stop":1761901804861,"duration":214},"status":"passed","steps":[{"name":"Add batch for {1}","time":{"start":1761901804647,"stop":1761901804861,"duration":214},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Vaccine.SEQUIRUS: 'Cell-based Trivalent Influenza Vaccine Seqirus'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in name with 'ABC123'","time":{"start":1761901804861,"stop":1761901804879,"duration":18},"status":"passed","steps":[{"name":"Fill in name with {1}","time":{"start":1761901804861,"stop":1761901804879,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('ABC123',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fill in expiry date with datetime.date(2025, 11, 1)","time":{"start":1761901804879,"stop":1761901804898,"duration":19},"status":"passed","steps":[{"name":"Fill in expiry date with {1}","time":{"start":1761901804879,"stop":1761901804898,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(datetime.date(2025, 11, 1),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Confirm add batch","time":{"start":1761901804898,"stop":1761901805092,"duration":194},"status":"passed","steps":[{"name":"Confirm add batch","time":{"start":1761901804899,"stop":1761901805092,"duration":193},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761901805092,"stop":1761901805308,"duration":216},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761901805092,"stop":1761901805308,"duration":216},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761901805308,"stop":1761901805567,"duration":259},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761901805308,"stop":1761901805567,"duration":259},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'flu' session at School(name='Headlands School', urn='118085', site=None)","time":{"start":1761901805567,"stop":1761901806180,"duration":613},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761901805567,"stop":1761901806180,"duration":613},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Headlands School', urn='118085', site=None), <Programme.FLU: 'flu'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Import class lists","time":{"start":1761901806185,"stop":1761901806651,"duration":466},"status":"passed","steps":[{"name":"Click on Import class lists","time":{"start":1761901806185,"stop":1761901806651,"duration":466},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901806692,"stop":1761901807871,"duration":1179},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901806692,"stop":1761901807871,"duration":1179},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Set input file to PosixPath('working/ClassFileMapping.FIXED_CHILD20251031091007.csv')","time":{"start":1761901807881,"stop":1761901807899,"duration":18},"status":"passed","steps":[{"name":"Set input file to {1}","time":{"start":1761901807881,"stop":1761901807899,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(PosixPath('working/ClassFileMapping.FIXED_CHILD20251031091007.csv'),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901808899,"stop":1761901809280,"duration":381},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901808899,"stop":1761901809280,"duration":381},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"_coverage","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click link with uploaded datetime","time":{"start":1761901809308,"stop":1761901809524,"duration":216},"status":"passed","steps":[{"name":"Click link with uploaded datetime","time":{"start":1761901809308,"stop":1761901809524,"duration":216},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":26,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"sessions_page","time":{"start":1761901804469,"stop":1761901804469,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"record_injected_flu","time":{"start":1761901810747,"stop":1761901822803,"duration":12056},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761901810747,"stop":1761901810943,"duration":196},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761901810747,"stop":1761901810943,"duration":196},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761901810944,"stop":1761901811187,"duration":243},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761901810944,"stop":1761901811187,"duration":243},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'flu' session at School(name='Headlands School', urn='118085', site=None)","time":{"start":1761901811187,"stop":1761901811780,"duration":593},"status":"passed","steps":[{"name":"Click on {2} session at {1}","time":{"start":1761901811187,"stop":1761901811780,"duration":593},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(School(name='Headlands School', urn='118085', site=None), <Programme.FLU: 'flu'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Consent tab","time":{"start":1761901811780,"stop":1761901812023,"duration":243},"status":"passed","steps":[{"name":"Click on Consent tab","time":{"start":1761901811780,"stop":1761901812023,"duration":243},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on child Child(first_name='Marian', last_name='SANDERSON', nhs_number='9796744694', address=('Studio 23X', 'Tina vista', 'North Katherine', 'TN8 2FJ'), date_of_birth=datetime.date(2011, 9, 19), year_group=9, parents=(Parent(full_name='Luke Lloyd', relationship='Dad', email_address='rstone@example.org'), Parent(full_name='Ms Sheila Brooks', relationship='Mum', email_address='grantirene@example.net')))","time":{"start":1761901812343,"stop":1761901812577,"duration":234},"status":"passed","steps":[{"name":"Click on child {1}","time":{"start":1761901812343,"stop":1761901812577,"duration":234},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(Child(first_name='Marian', last_name='SANDERSON', nhs_number='9796744694', address=('Studio 23X', 'Tina vista', 'North Katherine', 'TN8 2FJ'), date_of_birth=datetime.date(2011, 9, 19), year_group=9, parents=(Parent(full_name='Luke Lloyd', relationship='Dad', email_address='rstone@example.org'), Parent(full_name='Ms Sheila Brooks', relationship='Mum', email_address='grantirene@example.net'))),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'flu' tab","time":{"start":1761901812577,"stop":1761901812591,"duration":14},"status":"passed","steps":[{"name":"Click on {1} tab","time":{"start":1761901812577,"stop":1761901812591,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record a new consent response","time":{"start":1761901812591,"stop":1761901814198,"duration":1607},"status":"passed","steps":[{"name":"Click on Record a new consent response","time":{"start":1761901812591,"stop":1761901814198,"duration":1607},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'Luke Lloyd (Dad)' radio button","time":{"start":1761901814198,"stop":1761901814242,"duration":44},"status":"passed","steps":[{"name":"Click on {1} radio button","time":{"start":1761901814198,"stop":1761901814242,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Luke Lloyd (Dad)',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901814243,"stop":1761901814630,"duration":387},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901814243,"stop":1761901814630,"duration":387},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901814630,"stop":1761901815021,"duration":391},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901814630,"stop":1761901815021,"duration":391},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select consent method","time":{"start":1761901815022,"stop":1761901815075,"duration":53},"status":"passed","steps":[{"name":"Select consent method","time":{"start":1761901815022,"stop":1761901815075,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<ConsentMethod.IN_PERSON: 'In person'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901815075,"stop":1761901815456,"duration":381},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901815075,"stop":1761901815456,"duration":381},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Yes, for the injected vaccine only","time":{"start":1761901815456,"stop":1761901815508,"duration":52},"status":"passed","steps":[{"name":"Click on Yes, for the injected vaccine only","time":{"start":1761901815456,"stop":1761901815508,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901815508,"stop":1761901815917,"duration":409},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901815509,"stop":1761901815917,"duration":408},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Does your child have a bleeding disorder or are they taking anticoagulant therapy?'","time":{"start":1761901815917,"stop":1761901815976,"duration":59},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761901815917,"stop":1761901815976,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.BLEEDING_DISORDER_FLU: 'Does your child have a bleeding disorder or are they taking anticoagulant therapy?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Has your child had a severe allergic reaction (anaphylaxis) to a previous dose of the injected flu vaccine, or any ingredient of the vaccine?'","time":{"start":1761901815976,"stop":1761901816009,"duration":33},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761901815976,"stop":1761901816009,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.SEVERE_ALLERGIC_REACTION_INJECTED: 'Has your child had a severe allergic reaction (anaphylaxis) to a previous dose of the injected flu vaccine, or any ingredient of the vaccine?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Does your child have any other medical conditions the immunisation team should be aware of?'","time":{"start":1761901816009,"stop":1761901816042,"duration":33},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761901816009,"stop":1761901816042,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.MEDICAL_CONDITIONS_FLU: 'Does your child have any other medical conditions the immunisation team should be aware of?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Has your child had a flu vaccination in the last 3 months?'","time":{"start":1761901816042,"stop":1761901816076,"duration":34},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761901816042,"stop":1761901816076,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.FLU_PREVIOUSLY: 'Has your child had a flu vaccination in the last 3 months?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select 'No' for health question 'Does your child need extra support during vaccination sessions?'","time":{"start":1761901816076,"stop":1761901816108,"duration":32},"status":"passed","steps":[{"name":"Select {2} for health question {1}","time":{"start":1761901816076,"stop":1761901816108,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<HealthQuestion.EXTRA_SUPPORT: 'Does your child need extra support during vaccination sessions?'>, 'No')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Continue","time":{"start":1761901816108,"stop":1761901816504,"duration":396},"status":"passed","steps":[{"name":"Click Continue","time":{"start":1761901816108,"stop":1761901816504,"duration":396},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click Confirm","time":{"start":1761901816504,"stop":1761901817893,"duration":1389},"status":"passed","steps":[{"name":"Click Confirm","time":{"start":1761901816504,"stop":1761901817893,"duration":1389},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Register tab","time":{"start":1761901817893,"stop":1761901818155,"duration":262},"status":"passed","steps":[{"name":"Click on Register tab","time":{"start":1761901817893,"stop":1761901818155,"duration":262},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'SANDERSON, Marian'","time":{"start":1761901818155,"stop":1761901818457,"duration":302},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1761901818155,"stop":1761901818457,"duration":302},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('SANDERSON, Marian',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Attending","time":{"start":1761901818457,"stop":1761901819576,"duration":1119},"status":"passed","steps":[{"name":"Click on Attending","time":{"start":1761901818457,"stop":1761901819576,"duration":1119},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Record vaccinations","time":{"start":1761901819576,"stop":1761901819932,"duration":356},"status":"passed","steps":[{"name":"Click on Record vaccinations","time":{"start":1761901819576,"stop":1761901819932,"duration":356},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Search for 'SANDERSON, Marian'","time":{"start":1761901819932,"stop":1761901820223,"duration":291},"status":"passed","steps":[{"name":"Search for {1}","time":{"start":1761901819932,"stop":1761901820223,"duration":291},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('SANDERSON, Marian',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on 'flu' tab","time":{"start":1761901820471,"stop":1761901820492,"duration":21},"status":"passed","steps":[{"name":"Click on {1} tab","time":{"start":1761901820471,"stop":1761901820492,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Confirm pre-screening checks are true","time":{"start":1761901820492,"stop":1761901820525,"duration":33},"status":"passed","steps":[{"name":"Confirm pre-screening checks are true","time":{"start":1761901820492,"stop":1761901820525,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>, <ConsentOption.INJECTION: 'Injection'>)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Yes","time":{"start":1761901820533,"stop":1761901820541,"duration":8},"status":"passed","steps":[{"name":"Click on Yes","time":{"start":1761901820533,"stop":1761901820541,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(Child(first_name='Marian', last_name='SANDERSON', nhs_number='9796744694', address=('Studio 23X', 'Tina vista', 'North Katherine', 'TN8 2FJ'), date_of_birth=datetime.date(2011, 9, 19), year_group=9, parents=(Parent(full_name='Luke Lloyd', relationship='Dad', email_address='rstone@example.org'), Parent(full_name='Ms Sheila Brooks', relationship='Mum', email_address='grantirene@example.net'))),)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Yes","time":{"start":1761901820541,"stop":1761901820576,"duration":35},"status":"passed","steps":[{"name":"Click on Yes","time":{"start":1761901820541,"stop":1761901820576,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<ConsentOption.INJECTION: 'Injection'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Select vaccination site 'Left arm (upper position)'","time":{"start":1761901820576,"stop":1761901820609,"duration":33},"status":"passed","steps":[{"name":"Select vaccination site {1}","time":{"start":1761901820576,"stop":1761901820609,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<DeliverySite.LEFT_ARM_UPPER: 'Left arm (upper position)'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Continue","time":{"start":1761901820609,"stop":1761901821021,"duration":412},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1761901820609,"stop":1761901821021,"duration":412},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Choose batch 'ABC123'","time":{"start":1761901821022,"stop":1761901821479,"duration":457},"status":"passed","steps":[{"name":"Choose batch {1}","time":{"start":1761901821022,"stop":1761901821479,"duration":457},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1761901821075,"stop":1761901821479,"duration":404},"status":"passed","steps":[{"name":"Click on Continue","time":{"start":1761901821075,"stop":1761901821479,"duration":404},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('ABC123',)"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Confirm","time":{"start":1761901821506,"stop":1761901822781,"duration":1275},"status":"passed","steps":[{"name":"Click on Confirm","time":{"start":1761901821506,"stop":1761901822781,"duration":1275},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":70,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"children_page","time":{"start":1761901810747,"stop":1761901810747,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"verbal_consent_page","time":{"start":1761901810747,"stop":1761901810747,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"vaccination_record_page","time":{"start":1761901822803,"stop":1761901822803,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reports_vaccinations_page","time":{"start":1761901822803,"stop":1761901822803,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"edit_vaccination_record_page","time":{"start":1761901822803,"stop":1761901822803,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nTest: Verify reporting values update correctly after vaccination and edit.\nSteps:\n1. Record a flu vaccination for a child and verify initial reporting values.\n2. Refresh reports and check that the cohort and vaccination percentages update.\n3. Edit the child's vaccination record to mark the outcome as refused.\n4. Refresh reports and verify that the reporting values reflect the refusal.\nVerification:\n- After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.\n- After marking as refused, report shows 0 more vaccinated and\n  1 more not vaccinated.\n","status":"failed","statusMessage":"AssertionError: Locator expected to contain text '66.7%'\nActual value: 0.0%0 children \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"heading\", name=\"Not vaccinated\", exact=True).locator(\"xpath=following-sibling::*[1]\")\n    3 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\n      - unexpected value \"100.0%3 children\"\n    6 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\n      - unexpected value \"0.0%0 children\"","statusTrace":"record_injected_flu = (Child(first_name='Marian', last_name='SANDERSON', nhs_number='9796744694', address=('Studio 23X', 'Tina vista', 'Nort...ene@example.net'))), datetime.datetime(2025, 10, 31, 9, 10, 22, 802821, tzinfo=zoneinfo.ZoneInfo(key='Europe/London')))\nschools = {'HPV': [School(name='Kettering Buccleuch Academy', urn='135966', site=None), School(name='Lancaster School', urn='144...School', urn='118085', site=None), School(name='Nord Anglia International School Abu Dhabi', urn='151549', site=None)]}\nreports_vaccinations_page = <mavis.test.pages.reports.ReportsVaccinationsPage object at 0x7f802eed17f0>\ndashboard_page = <mavis.test.pages.dashboard.DashboardPage object at 0x7f8031488260>\nchildren_page = <mavis.test.pages.children.ChildrenPage object at 0x7f802f0d88a0>\nvaccination_record_page = <mavis.test.pages.vaccination_record.VaccinationRecordPage object at 0x7f802f071450>\nedit_vaccination_record_page = <mavis.test.pages.vaccination_record.EditVaccinationRecordPage object at 0x7f802f072d50>\n\n    def test_report_view(\n        record_injected_flu,\n        schools,\n        reports_vaccinations_page,\n        dashboard_page,\n        children_page,\n        vaccination_record_page,\n        edit_vaccination_record_page,\n    ):\n        \"\"\"\n        Test: Verify reporting values update correctly after vaccination and edit.\n        Steps:\n        1. Record a flu vaccination for a child and verify initial reporting values.\n        2. Refresh reports and check that the cohort and vaccination percentages update.\n        3. Edit the child's vaccination record to mark the outcome as refused.\n        4. Refresh reports and verify that the reporting values reflect the refusal.\n        Verification:\n        - After vaccination, report shows 1 more vaccinated and 0 more not vaccinated.\n        - After marking as refused, report shows 0 more vaccinated and\n          1 more not vaccinated.\n        \"\"\"\n    \n        child, _ = record_injected_flu\n        school = schools[Programme.FLU][0]\n    \n        reports_vaccinations_page.navigate()\n        reports_vaccinations_page.check_filter_for_programme(Programme.FLU)\n    \n        vaccinated_count = reports_vaccinations_page.get_children_count(\"Vaccinated\")\n        unvaccinated_count = reports_vaccinations_page.get_children_count(\"Not vaccinated\")\n    \n        (\n            expected_cohort_count,\n            expected_unvaccinated_percentage,\n            expected_vaccinated_percentage,\n        ) = reports_vaccinations_page.get_expected_cohort_and_percentage_strings(\n            unvaccinated_count, vaccinated_count\n        )\n    \n        reports_vaccinations_page.check_cohort_has_n_children(expected_cohort_count)\n        reports_vaccinations_page.check_category_percentage(\n            \"Not vaccinated\", expected_unvaccinated_percentage\n        )\n        reports_vaccinations_page.check_category_percentage(\n            \"Vaccinated\", expected_vaccinated_percentage\n        )\n    \n        reports_vaccinations_page.navigate_and_refresh_reports()\n        reports_vaccinations_page.check_filter_for_programme(Programme.FLU)\n    \n        (\n            expected_cohort_count,\n            expected_unvaccinated_percentage,\n            expected_vaccinated_percentage,\n        ) = reports_vaccinations_page.get_expected_cohort_and_percentage_strings(\n            unvaccinated_count, vaccinated_count + 1\n        )\n    \n        reports_vaccinations_page.check_cohort_has_n_children(expected_cohort_count)\n>       reports_vaccinations_page.check_category_percentage(\n            \"Not vaccinated\", expected_unvaccinated_percentage\n        )\n\ntests/test_reporting_values.py:142: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmavis/test/annotations.py:35: in wrapper\n    return_value = func(self, *args, **kwargs)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <mavis.test.pages.reports.ReportsVaccinationsPage object at 0x7f802eed17f0>\ncategory = 'Not vaccinated', expected_percentage = '66.7'\n\n    @step(\"Check category {1} percentage is {2}%\")\n    def check_category_percentage(\n        self, category: str, expected_percentage: str\n    ) -> None:\n        category_heading = self.page.get_by_role(\"heading\", name=category, exact=True)\n        category_value = category_heading.locator(\"xpath=following-sibling::*[1]\")\n>       expect(category_value).to_contain_text(f\"{expected_percentage}%\")\nE       AssertionError: Locator expected to contain text '66.7%'\nE       Actual value: 0.0%0 children \nE       Call log:\nE         - Expect \"to_contain_text\" with timeout 5000ms\nE         - waiting for get_by_role(\"heading\", name=\"Not vaccinated\", exact=True).locator(\"xpath=following-sibling::*[1]\")\nE           3 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\nE             - unexpected value \"100.0%3 children\"\nE           6 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\nE             - unexpected value \"0.0%0 children\"\n\nmavis/test/pages/reports.py:62: AssertionError","steps":[{"name":"Go to Reports page","time":{"start":1761901822804,"stop":1761901823990,"duration":1186},"status":"passed","steps":[{"name":"Go to Reports page","time":{"start":1761901822804,"stop":1761901823990,"duration":1186},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click 'flu'","time":{"start":1761901823990,"stop":1761901824045,"duration":55},"status":"passed","steps":[{"name":"Click {1}","time":{"start":1761901823990,"stop":1761901824045,"duration":55},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check cohort has '2' children","time":{"start":1761901824052,"stop":1761901824056,"duration":4},"status":"passed","steps":[{"name":"Check cohort has {1} children","time":{"start":1761901824052,"stop":1761901824056,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('2',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check category 'Not vaccinated' percentage is '100.0'%","time":{"start":1761901824056,"stop":1761901824060,"duration":4},"status":"passed","steps":[{"name":"Check category {1} percentage is {2}%","time":{"start":1761901824056,"stop":1761901824060,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Not vaccinated', '100.0')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check category 'Vaccinated' percentage is '0.0'%","time":{"start":1761901824060,"stop":1761901824064,"duration":4},"status":"passed","steps":[{"name":"Check category {1} percentage is {2}%","time":{"start":1761901824060,"stop":1761901824064,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Vaccinated', '0.0')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Navigate to and refresh Reports","time":{"start":1761901824064,"stop":1761901851414,"duration":27350},"status":"passed","steps":[{"name":"Navigate to and refresh Reports","time":{"start":1761901824064,"stop":1761901851414,"duration":27350},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click 'flu'","time":{"start":1761901851414,"stop":1761901851459,"duration":45},"status":"passed","steps":[{"name":"Click {1}","time":{"start":1761901851414,"stop":1761901851458,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"(<Programme.FLU: 'flu'>,)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check cohort has '3' children","time":{"start":1761901851459,"stop":1761901851463,"duration":4},"status":"passed","steps":[{"name":"Check cohort has {1} children","time":{"start":1761901851459,"stop":1761901851463,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('3',)"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Check category 'Not vaccinated' percentage is '66.7'%","time":{"start":1761901851464,"stop":1761901856788,"duration":5324},"status":"failed","statusMessage":"AssertionError: Locator expected to contain text '66.7%'\nActual value: 0.0%0 children \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"heading\", name=\"Not vaccinated\", exact=True).locator(\"xpath=following-sibling::*[1]\")\n    3 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\n      - unexpected value \"100.0%3 children\"\n    6 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\n      - unexpected value \"0.0%0 children\"\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/reports.py\", line 62, in check_category_percentage\n    expect(category_value).to_contain_text(f\"{expected_percentage}%\")\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 19214, in to_contain_text\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.to_contain_text(\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_assertions.py\", line 227, in to_contain_text\n    await self._expect_impl(\n    ...<9 lines>...\n    )\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_assertions.py\", line 83, in _expect_impl\n    raise AssertionError(\n        f\"{out_message}\\nActual value: {actual} {format_call_log(result.get('log'))}\"\n    )\n","steps":[{"name":"Check category {1} percentage is {2}%","time":{"start":1761901851464,"stop":1761901856787,"duration":5323},"status":"failed","statusMessage":"AssertionError: Locator expected to contain text '66.7%'\nActual value: 0.0%0 children \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"heading\", name=\"Not vaccinated\", exact=True).locator(\"xpath=following-sibling::*[1]\")\n    3 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\n      - unexpected value \"100.0%3 children\"\n    6 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\n      - unexpected value \"0.0%0 children\"\n\n","statusTrace":"  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/annotations.py\", line 35, in wrapper\n    return_value = func(self, *args, **kwargs)\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/mavis/test/pages/reports.py\", line 62, in check_category_percentage\n    expect(category_value).to_contain_text(f\"{expected_percentage}%\")\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/sync_api/_generated.py\", line 19214, in to_contain_text\n    self._sync(\n    ~~~~~~~~~~^\n        self._impl_obj.to_contain_text(\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        )\n        ^\n    )\n    ^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ~~~~~~~~~~~^^\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_assertions.py\", line 227, in to_contain_text\n    await self._expect_impl(\n    ...<9 lines>...\n    )\n  File \"/home/runner/work/manage-vaccinations-in-schools-testing/manage-vaccinations-in-schools-testing/.venv/lib/python3.14/site-packages/playwright/_impl/_assertions.py\", line 83, in _expect_impl\n    raise AssertionError(\n        f\"{out_message}\\nActual value: {actual} {format_call_log(result.get('log'))}\"\n    )\n","steps":[],"attachments":[{"uid":"3185e52f83ce3b3a","name":"Screenshot on failure","source":"3185e52f83ce3b3a.png","type":"image/png","size":44414}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"args","value":"('Not vaccinated', '66.7')"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":18,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup_recording_injected_flu::0","time":{"start":1761901856796,"stop":1761901857806,"duration":1010},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761901856796,"stop":1761901856978,"duration":182},"status":"passed","steps":[{"name":"Go to dashboard","time":{"start":1761901856796,"stop":1761901856977,"duration":181},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Manage vaccinations in schools","time":{"start":1761901856978,"stop":1761901857177,"duration":199},"status":"passed","steps":[{"name":"Click on Manage vaccinations in schools","time":{"start":1761901856978,"stop":1761901857177,"duration":199},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click on Sessions","time":{"start":1761901857177,"stop":1761901857420,"duration":243},"status":"passed","steps":[{"name":"Click on Sessions","time":{"start":1761901857177,"stop":1761901857420,"duration":243},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"log_in_as_nurse::0","time":{"start":1761901857808,"stop":1761901858235,"duration":427},"status":"passed","steps":[{"name":"Log out","time":{"start":1761901857808,"stop":1761901858235,"duration":427},"status":"passed","steps":[{"name":"Log out","time":{"start":1761901857808,"stop":1761901858235,"duration":427},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"set_feature_flags::0","time":{"start":1761901858236,"stop":1761901858236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1761901858237,"stop":1761901858246,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1761901858246,"stop":1761901858246,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1761901927879,"stop":1761901927880,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1761901927880,"stop":1761901927921,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1761901927923,"stop":1761901927933,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_team_after_tests::0","time":{"start":1761901927935,"stop":1761901930839,"duration":2904},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_reporting_values"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"3174-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_reporting_values"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"80c5f550fe6f73ad","status":"failed","statusDetails":"AssertionError: Locator expected to contain text '50.0%'\nActual value: 0.0%0 children \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"heading\", name=\"Not vaccinated\", exact=True).locator(\"xpath=following-sibling::*[1]\")\n    3 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\n      - unexpected value \"100.0%2 children\"\n    6 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\n      - unexpected value \"0.0%0 children\"","time":{"start":1761901766032,"stop":1761901800873,"duration":34841}},{"uid":"6ffcf71298e38374","status":"failed","statusDetails":"AssertionError: Locator expected to contain text '2children'\nActual value: 1children \nCall log:\n  - Expect \"to_contain_text\" with timeout 5000ms\n  - waiting for get_by_role(\"heading\", name=\"Cohort\", exact=True).locator(\"xpath=following-sibling::*[1]\")\n    9 × locator resolved to <p class=\"nhsuk-card__description\">…</p>\n      - unexpected value \"1children\"","time":{"start":1761901706971,"stop":1761901741486,"duration":34515}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"b1f19a6efcb6d868.json","parameterValues":[]}